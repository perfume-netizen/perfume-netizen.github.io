(self["webpackChunk"]=self["webpackChunk"]||[]).push([[998],{262:(e,t,n)=>{"use strict";n.d(t,{B:()=>o,BK:()=>He,Bj:()=>s,EB:()=>u,Fl:()=>Qe,IU:()=>Re,Jd:()=>S,PG:()=>Ce,SU:()=>qe,Um:()=>ke,WL:()=>ze,X$:()=>A,X3:()=>Ae,XI:()=>Ue,Xl:()=>Ne,dq:()=>je,iH:()=>Me,j:()=>O,lk:()=>C,nZ:()=>c,qj:()=>Ee,qq:()=>I,yT:()=>xe});var r=n(577);let i;class s{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=i,!e&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(e){if(this.active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this.active=!1}}}function o(e){return new s(e)}function a(e,t=i){t&&t.active&&t.effects.push(e)}function c(){return i}function u(e){i&&i.cleanups.push(e)}const l=e=>{const t=new Set(e);return t.w=0,t.n=0,t},h=e=>(e.w&y)>0,d=e=>(e.n&y)>0,f=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=y},p=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];h(i)&&!d(i)?i.delete(e):t[n++]=i,i.w&=~y,i.n&=~y}t.length=n}},m=new WeakMap;let g=0,y=1;const v=30;let b;const w=Symbol(""),_=Symbol("");class I{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let e=b,t=k;while(e){if(e===this)return;e=e.parent}try{return this.parent=b,b=this,k=!0,y=1<<++g,g<=v?f(this):E(this),this.fn()}finally{g<=v&&p(this),y=1<<--g,b=this.parent,k=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){b===this?this.deferStop=!0:this.active&&(E(this),this.onStop&&this.onStop(),this.active=!1)}}function E(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let k=!0;const T=[];function S(){T.push(k),k=!1}function C(){const e=T.pop();k=void 0===e||e}function O(e,t,n){if(k&&b){let t=m.get(e);t||m.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=l());const i=void 0;x(r,i)}}function x(e,t){let n=!1;g<=v?d(e)||(e.n|=y,n=!h(e)):n=!e.has(b),n&&(e.add(b),b.deps.push(e))}function A(e,t,n,i,s,o){const a=m.get(e);if(!a)return;let c=[];if("clear"===t)c=[...a.values()];else if("length"===n&&(0,r.kJ)(e)){const e=(0,r.He)(i);a.forEach(((t,n)=>{("length"===n||n>=e)&&c.push(t)}))}else switch(void 0!==n&&c.push(a.get(n)),t){case"add":(0,r.kJ)(e)?(0,r.S0)(n)&&c.push(a.get("length")):(c.push(a.get(w)),(0,r._N)(e)&&c.push(a.get(_)));break;case"delete":(0,r.kJ)(e)||(c.push(a.get(w)),(0,r._N)(e)&&c.push(a.get(_)));break;case"set":(0,r._N)(e)&&c.push(a.get(w));break}if(1===c.length)c[0]&&R(c[0]);else{const e=[];for(const t of c)t&&e.push(...t);R(l(e))}}function R(e,t){const n=(0,r.kJ)(e)?e:[...e];for(const r of n)r.computed&&N(r,t);for(const r of n)r.computed||N(r,t)}function N(e,t){(e!==b||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const F=(0,r.fY)("__proto__,__v_isRef,__isVue"),D=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.yk)),P=V(),L=V(!1,!0),j=V(!0),M=U();function U(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Re(this);for(let t=0,i=this.length;t<i;t++)O(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Re)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){S();const n=Re(this)[t].apply(this,e);return C(),n}})),e}function V(e=!1,t=!1){return function(n,i,s){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&s===(e?t?we:be:t?ve:ye).get(n))return n;const o=(0,r.kJ)(n);if(!e&&o&&(0,r.RI)(M,i))return Reflect.get(M,i,s);const a=Reflect.get(n,i,s);return((0,r.yk)(i)?D.has(i):F(i))?a:(e||O(n,"get",i),t?a:je(a)?o&&(0,r.S0)(i)?a:a.value:(0,r.Kn)(a)?e?Te(a):Ee(a):a)}}const B=$(),q=$(!0);function $(e=!1){return function(t,n,i,s){let o=t[n];if(Oe(o)&&je(o)&&!je(i))return!1;if(!e&&(xe(i)||Oe(i)||(o=Re(o),i=Re(i)),!(0,r.kJ)(t)&&je(o)&&!je(i)))return o.value=i,!0;const a=(0,r.kJ)(t)&&(0,r.S0)(n)?Number(n)<t.length:(0,r.RI)(t,n),c=Reflect.set(t,n,i,s);return t===Re(s)&&(a?(0,r.aU)(i,o)&&A(t,"set",n,i,o):A(t,"add",n,i)),c}}function z(e,t){const n=(0,r.RI)(e,t),i=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&A(e,"delete",t,void 0,i),s}function H(e,t){const n=Reflect.has(e,t);return(0,r.yk)(t)&&D.has(t)||O(e,"has",t),n}function G(e){return O(e,"iterate",(0,r.kJ)(e)?"length":w),Reflect.ownKeys(e)}const K={get:P,set:B,deleteProperty:z,has:H,ownKeys:G},W={get:j,set(e,t){return!0},deleteProperty(e,t){return!0}},Z=(0,r.l7)({},K,{get:L,set:q}),Q=e=>e,J=e=>Reflect.getPrototypeOf(e);function Y(e,t,n=!1,r=!1){e=e["__v_raw"];const i=Re(e),s=Re(t);n||(t!==s&&O(i,"get",t),O(i,"get",s));const{has:o}=J(i),a=r?Q:n?De:Fe;return o.call(i,t)?a(e.get(t)):o.call(i,s)?a(e.get(s)):void(e!==i&&e.get(t))}function X(e,t=!1){const n=this["__v_raw"],r=Re(n),i=Re(e);return t||(e!==i&&O(r,"has",e),O(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function ee(e,t=!1){return e=e["__v_raw"],!t&&O(Re(e),"iterate",w),Reflect.get(e,"size",e)}function te(e){e=Re(e);const t=Re(this),n=J(t),r=n.has.call(t,e);return r||(t.add(e),A(t,"add",e,e)),this}function ne(e,t){t=Re(t);const n=Re(this),{has:i,get:s}=J(n);let o=i.call(n,e);o||(e=Re(e),o=i.call(n,e));const a=s.call(n,e);return n.set(e,t),o?(0,r.aU)(t,a)&&A(n,"set",e,t,a):A(n,"add",e,t),this}function re(e){const t=Re(this),{has:n,get:r}=J(t);let i=n.call(t,e);i||(e=Re(e),i=n.call(t,e));const s=r?r.call(t,e):void 0,o=t.delete(e);return i&&A(t,"delete",e,void 0,s),o}function ie(){const e=Re(this),t=0!==e.size,n=void 0,r=e.clear();return t&&A(e,"clear",void 0,void 0,n),r}function se(e,t){return function(n,r){const i=this,s=i["__v_raw"],o=Re(s),a=t?Q:e?De:Fe;return!e&&O(o,"iterate",w),s.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function oe(e,t,n){return function(...i){const s=this["__v_raw"],o=Re(s),a=(0,r._N)(o),c="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,l=s[e](...i),h=n?Q:t?De:Fe;return!t&&O(o,"iterate",u?_:w),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:c?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function ae(e){return function(...t){return"delete"!==e&&this}}function ce(){const e={get(e){return Y(this,e)},get size(){return ee(this)},has:X,add:te,set:ne,delete:re,clear:ie,forEach:se(!1,!1)},t={get(e){return Y(this,e,!1,!0)},get size(){return ee(this)},has:X,add:te,set:ne,delete:re,clear:ie,forEach:se(!1,!0)},n={get(e){return Y(this,e,!0)},get size(){return ee(this,!0)},has(e){return X.call(this,e,!0)},add:ae("add"),set:ae("set"),delete:ae("delete"),clear:ae("clear"),forEach:se(!0,!1)},r={get(e){return Y(this,e,!0,!0)},get size(){return ee(this,!0)},has(e){return X.call(this,e,!0)},add:ae("add"),set:ae("set"),delete:ae("delete"),clear:ae("clear"),forEach:se(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=oe(i,!1,!1),n[i]=oe(i,!0,!1),t[i]=oe(i,!1,!0),r[i]=oe(i,!0,!0)})),[e,n,t,r]}const[ue,le,he,de]=ce();function fe(e,t){const n=t?e?de:he:e?le:ue;return(t,i,s)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.RI)(n,i)&&i in t?n:t,i,s)}const pe={get:fe(!1,!1)},me={get:fe(!1,!0)},ge={get:fe(!0,!1)};const ye=new WeakMap,ve=new WeakMap,be=new WeakMap,we=new WeakMap;function _e(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ie(e){return e["__v_skip"]||!Object.isExtensible(e)?0:_e((0,r.W7)(e))}function Ee(e){return Oe(e)?e:Se(e,!1,K,pe,ye)}function ke(e){return Se(e,!1,Z,me,ve)}function Te(e){return Se(e,!0,W,ge,be)}function Se(e,t,n,i,s){if(!(0,r.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const o=s.get(e);if(o)return o;const a=Ie(e);if(0===a)return e;const c=new Proxy(e,2===a?i:n);return s.set(e,c),c}function Ce(e){return Oe(e)?Ce(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Oe(e){return!(!e||!e["__v_isReadonly"])}function xe(e){return!(!e||!e["__v_isShallow"])}function Ae(e){return Ce(e)||Oe(e)}function Re(e){const t=e&&e["__v_raw"];return t?Re(t):e}function Ne(e){return(0,r.Nj)(e,"__v_skip",!0),e}const Fe=e=>(0,r.Kn)(e)?Ee(e):e,De=e=>(0,r.Kn)(e)?Te(e):e;function Pe(e){k&&b&&(e=Re(e),x(e.dep||(e.dep=l())))}function Le(e,t){e=Re(e),e.dep&&R(e.dep)}function je(e){return!(!e||!0!==e.__v_isRef)}function Me(e){return Ve(e,!1)}function Ue(e){return Ve(e,!0)}function Ve(e,t){return je(e)?e:new Be(e,t)}class Be{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Re(e),this._value=t?e:Fe(e)}get value(){return Pe(this),this._value}set value(e){const t=this.__v_isShallow||xe(e)||Oe(e);e=t?e:Re(e),(0,r.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Fe(e),Le(this,e))}}function qe(e){return je(e)?e.value:e}const $e={get:(e,t,n)=>qe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return je(i)&&!je(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function ze(e){return Ce(e)?e:new Proxy(e,$e)}function He(e){const t=(0,r.kJ)(e)?new Array(e.length):{};for(const n in e)t[n]=Ke(e,n);return t}class Ge{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Ke(e,t,n){const r=e[t];return je(r)?r:new Ge(e,t,n)}var We;class Ze{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[We]=!1,this._dirty=!0,this.effect=new I(e,(()=>{this._dirty||(this._dirty=!0,Le(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Re(this);return Pe(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Qe(e,t,n=!1){let i,s;const o=(0,r.mf)(e);o?(i=e,s=r.dG):(i=e.get,s=e.set);const a=new Ze(i,s,o||!s,n);return a}We="__v_isReadonly"},252:(e,t,n)=>{"use strict";n.d(t,{$d:()=>o,Ah:()=>Se,FN:()=>yn,Fl:()=>Fn,HY:()=>Pt,JJ:()=>z,LL:()=>je,P$:()=>ne,Q2:()=>Me,Q6:()=>ce,U2:()=>ie,Uk:()=>sn,Us:()=>xt,WI:()=>Be,Wm:()=>en,Y3:()=>v,Y8:()=>X,YP:()=>W,_:()=>Xt,aZ:()=>ue,bv:()=>Ie,f3:()=>H,h:()=>Dn,iD:()=>Gt,ic:()=>ke,j4:()=>Kt,kq:()=>an,m0:()=>G,nK:()=>ae,uE:()=>on,up:()=>Pe,w5:()=>P,wg:()=>Bt,wy:()=>Re});var r=n(262),i=n(577);function s(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){a(s,t,n)}return i}function o(e,t,n,r){if((0,i.mf)(e)){const o=s(e,t,n,r);return o&&(0,i.tI)(o)&&o.catch((e=>{a(e,t,n)})),o}const c=[];for(let i=0;i<e.length;i++)c.push(o(e[i],t,n,r));return c}function a(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,o=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const a=t.appContext.config.errorHandler;if(a)return void s(a,null,10,[e,i,o])}c(e,n,i,r)}function c(e,t,n,r=!0){console.error(e)}let u=!1,l=!1;const h=[];let d=0;const f=[];let p=null,m=0;const g=Promise.resolve();let y=null;function v(e){const t=y||g;return e?t.then(this?e.bind(this):e):t}function b(e){let t=d+1,n=h.length;while(t<n){const r=t+n>>>1,i=S(h[r]);i<e?t=r+1:n=r}return t}function w(e){h.length&&h.includes(e,u&&e.allowRecurse?d+1:d)||(null==e.id?h.push(e):h.splice(b(e.id),0,e),_())}function _(){u||l||(l=!0,y=g.then(O))}function I(e){const t=h.indexOf(e);t>d&&h.splice(t,1)}function E(e){(0,i.kJ)(e)?f.push(...e):p&&p.includes(e,e.allowRecurse?m+1:m)||f.push(e),_()}function k(e,t=(u?d+1:0)){for(0;t<h.length;t++){const e=h[t];e&&e.pre&&(h.splice(t,1),t--,e())}}function T(e){if(f.length){const e=[...new Set(f)];if(f.length=0,p)return void p.push(...e);for(p=e,p.sort(((e,t)=>S(e)-S(t))),m=0;m<p.length;m++)p[m]();p=null,m=0}}const S=e=>null==e.id?1/0:e.id,C=(e,t)=>{const n=S(e)-S(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function O(e){l=!1,u=!0,h.sort(C);i.dG;try{for(d=0;d<h.length;d++){const e=h[d];e&&!1!==e.active&&s(e,null,14)}}finally{d=0,h.length=0,T(e),u=!1,y=null,(h.length||f.length)&&O(e)}}new Set;new Map;function x(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||i.kT;let s=n;const a=t.startsWith("update:"),c=a&&t.slice(7);if(c&&c in r){const e=`${"modelValue"===c?"model":c}Modifiers`,{number:t,trim:o}=r[e]||i.kT;o&&(s=n.map((e=>(0,i.HD)(e)?e.trim():e))),t&&(s=n.map(i.He))}let u;let l=r[u=(0,i.hR)(t)]||r[u=(0,i.hR)((0,i._A)(t))];!l&&a&&(l=r[u=(0,i.hR)((0,i.rs)(t))]),l&&o(l,e,6,s);const h=r[u+"Once"];if(h){if(e.emitted){if(e.emitted[u])return}else e.emitted={};e.emitted[u]=!0,o(h,e,6,s)}}function A(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(void 0!==s)return s;const o=e.emits;let a={},c=!1;if(!(0,i.mf)(e)){const r=e=>{const n=A(e,t,!0);n&&(c=!0,(0,i.l7)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return o||c?((0,i.kJ)(o)?o.forEach((e=>a[e]=null)):(0,i.l7)(a,o),(0,i.Kn)(e)&&r.set(e,a),a):((0,i.Kn)(e)&&r.set(e,null),null)}function R(e,t){return!(!e||!(0,i.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,i.RI)(e,(0,i.rs)(t))||(0,i.RI)(e,t))}let N=null,F=null;function D(e){const t=N;return N=e,F=e&&e.type.__scopeId||null,t}function P(e,t=N,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&zt(-1);const i=D(t);let s;try{s=e(...n)}finally{D(i),r._d&&zt(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function L(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[c],slots:u,attrs:l,emit:h,render:d,renderCache:f,data:p,setupState:m,ctx:g,inheritAttrs:y}=e;let v,b;const w=D(e);try{if(4&n.shapeFlag){const e=s||r;v=cn(d.call(e,e,f,o,m,p,g)),b=l}else{const e=t;0,v=cn(e.length>1?e(o,{attrs:l,slots:u,emit:h}):e(o,null)),b=t.props?l:j(l)}}catch(I){Ut.length=0,a(I,e,1),v=en(jt)}let _=v;if(b&&!1!==y){const e=Object.keys(b),{shapeFlag:t}=_;e.length&&7&t&&(c&&e.some(i.tR)&&(b=M(b,c)),_=rn(_,b))}return n.dirs&&(_=rn(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),v=_,D(w),v}const j=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.F7)(n))&&((t||(t={}))[n]=e[n]);return t},M=(e,t)=>{const n={};for(const r in e)(0,i.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function U(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:c}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&c>=0))return!(!i&&!a||a&&a.$stable)||r!==o&&(r?!o||V(r,o,u):!!o);if(1024&c)return!0;if(16&c)return r?V(r,o,u):!!o;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==r[n]&&!R(u,n))return!0}}return!1}function V(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!R(n,s))return!0}return!1}function B({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const q=e=>e.__isSuspense;function $(e,t){t&&t.pendingBranch?(0,i.kJ)(e)?t.effects.push(...e):t.effects.push(e):E(e)}function z(e,t){if(gn){let n=gn.provides;const r=gn.parent&&gn.parent.provides;r===n&&(n=gn.provides=Object.create(r)),n[e]=t}else 0}function H(e,t,n=!1){const r=gn||N;if(r){const s=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&(0,i.mf)(t)?t.call(r.proxy):t}else 0}function G(e,t){return Z(e,null,t)}const K={};function W(e,t,n){return Z(e,t,n)}function Z(e,t,{immediate:n,deep:a,flush:c,onTrack:u,onTrigger:l}=i.kT){const h=gn;let d,f,p=!1,m=!1;if((0,r.dq)(e)?(d=()=>e.value,p=(0,r.yT)(e)):(0,r.PG)(e)?(d=()=>e,a=!0):(0,i.kJ)(e)?(m=!0,p=e.some((e=>(0,r.PG)(e)||(0,r.yT)(e))),d=()=>e.map((e=>(0,r.dq)(e)?e.value:(0,r.PG)(e)?Y(e):(0,i.mf)(e)?s(e,h,2):void 0))):d=(0,i.mf)(e)?t?()=>s(e,h,2):()=>{if(!h||!h.isUnmounted)return f&&f(),o(e,h,3,[y])}:i.dG,t&&a){const e=d;d=()=>Y(e())}let g,y=e=>{f=I.onStop=()=>{s(e,h,4)}};if(En){if(y=i.dG,t?n&&o(t,h,3,[d(),m?[]:void 0,y]):d(),"sync"!==c)return i.dG;{const e=Ln();g=e.__watcherHandles||(e.__watcherHandles=[])}}let v=m?new Array(e.length).fill(K):K;const b=()=>{if(I.active)if(t){const e=I.run();(a||p||(m?e.some(((e,t)=>(0,i.aU)(e,v[t]))):(0,i.aU)(e,v)))&&(f&&f(),o(t,h,3,[e,v===K?void 0:m&&v[0]===K?[]:v,y]),v=e)}else I.run()};let _;b.allowRecurse=!!t,"sync"===c?_=b:"post"===c?_=()=>Ot(b,h&&h.suspense):(b.pre=!0,h&&(b.id=h.uid),_=()=>w(b));const I=new r.qq(d,_);t?n?b():v=I.run():"post"===c?Ot(I.run.bind(I),h&&h.suspense):I.run();const E=()=>{I.stop(),h&&h.scope&&(0,i.Od)(h.scope.effects,I)};return g&&g.push(E),E}function Q(e,t,n){const r=this.proxy,s=(0,i.HD)(e)?e.includes(".")?J(r,e):()=>r[e]:e.bind(r,r);let o;(0,i.mf)(t)?o=t:(o=t.handler,n=t);const a=gn;vn(this);const c=Z(s,o.bind(r),n);return a?vn(a):bn(),c}function J(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Y(e,t){if(!(0,i.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,r.dq)(e))Y(e.value,t);else if((0,i.kJ)(e))for(let n=0;n<e.length;n++)Y(e[n],t);else if((0,i.DM)(e)||(0,i._N)(e))e.forEach((e=>{Y(e,t)}));else if((0,i.PO)(e))for(const n in e)Y(e[n],t);return e}function X(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ie((()=>{e.isMounted=!0})),Te((()=>{e.isUnmounting=!0})),e}const ee=[Function,Array],te={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ee,onEnter:ee,onAfterEnter:ee,onEnterCancelled:ee,onBeforeLeave:ee,onLeave:ee,onAfterLeave:ee,onLeaveCancelled:ee,onBeforeAppear:ee,onAppear:ee,onAfterAppear:ee,onAppearCancelled:ee},setup(e,{slots:t}){const n=yn(),i=X();let s;return()=>{const o=t.default&&ce(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let e=!1;for(const t of o)if(t.type!==jt){0,a=t,e=!0;break}}const c=(0,r.IU)(e),{mode:u}=c;if(i.isLeaving)return se(a);const l=oe(a);if(!l)return se(a);const h=ie(l,c,i,n);ae(l,h);const d=n.subTree,f=d&&oe(d);let p=!1;const{getTransitionKey:m}=l.type;if(m){const e=m();void 0===s?s=e:e!==s&&(s=e,p=!0)}if(f&&f.type!==jt&&(!Zt(l,f)||p)){const e=ie(f,c,i,n);if(ae(f,e),"out-in"===u)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,!1!==n.update.active&&n.update()},se(a);"in-out"===u&&l.type!==jt&&(e.delayLeave=(e,t,n)=>{const r=re(i,f);r[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},ne=te;function re(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ie(e,t,n,r){const{appear:s,mode:a,persisted:c=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:y,onAppear:v,onAfterAppear:b,onAppearCancelled:w}=t,_=String(e.key),I=re(n,e),E=(e,t)=>{e&&o(e,r,9,t)},k=(e,t)=>{const n=t[1];E(e,t),(0,i.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},T={mode:a,persisted:c,beforeEnter(t){let r=u;if(!n.isMounted){if(!s)return;r=y||u}t._leaveCb&&t._leaveCb(!0);const i=I[_];i&&Zt(e,i)&&i.el._leaveCb&&i.el._leaveCb(),E(r,[t])},enter(e){let t=l,r=h,i=d;if(!n.isMounted){if(!s)return;t=v||l,r=b||h,i=w||d}let o=!1;const a=e._enterCb=t=>{o||(o=!0,E(t?i:r,[e]),T.delayedLeave&&T.delayedLeave(),e._enterCb=void 0)};t?k(t,[e,a]):a()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();E(f,[t]);let s=!1;const o=t._leaveCb=n=>{s||(s=!0,r(),E(n?g:m,[t]),t._leaveCb=void 0,I[i]===e&&delete I[i])};I[i]=e,p?k(p,[t,o]):o()},clone(e){return ie(e,t,n,r)}};return T}function se(e){if(he(e))return e=rn(e),e.children=null,e}function oe(e){return he(e)?e.children?e.children[0]:void 0:e}function ae(e,t){6&e.shapeFlag&&e.component?ae(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ce(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:s);o.type===Pt?(128&o.patchFlag&&i++,r=r.concat(ce(o.children,t,a))):(t||o.type!==jt)&&r.push(null!=a?rn(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function ue(e){return(0,i.mf)(e)?{setup:e,name:e.name}:e}const le=e=>!!e.type.__asyncLoader;const he=e=>e.type.__isKeepAlive;RegExp,RegExp;function de(e,t){return(0,i.kJ)(e)?e.some((e=>de(e,t))):(0,i.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function fe(e,t){me(e,"a",t)}function pe(e,t){me(e,"da",t)}function me(e,t,n=gn){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(be(t,r,n),n){let e=n.parent;while(e&&e.parent)he(e.parent.vnode)&&ge(r,t,n,e),e=e.parent}}function ge(e,t,n,r){const s=be(t,e,r,!0);Se((()=>{(0,i.Od)(r[t],s)}),n)}function ye(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ve(e){return 128&e.shapeFlag?e.ssContent:e}function be(e,t,n=gn,i=!1){if(n){const s=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),vn(n);const s=o(t,n,e,i);return bn(),(0,r.lk)(),s});return i?s.unshift(a):s.push(a),a}}const we=e=>(t,n=gn)=>(!En||"sp"===e)&&be(e,((...e)=>t(...e)),n),_e=we("bm"),Ie=we("m"),Ee=we("bu"),ke=we("u"),Te=we("bum"),Se=we("um"),Ce=we("sp"),Oe=we("rtg"),xe=we("rtc");function Ae(e,t=gn){be("ec",e,t)}function Re(e,t){const n=N;if(null===n)return e;const r=An(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,n,a,c=i.kT]=t[o];e&&((0,i.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&Y(n),s.push({dir:e,instance:r,value:n,oldValue:void 0,arg:a,modifiers:c}))}return e}function Ne(e,t,n,i){const s=e.dirs,a=t&&t.dirs;for(let c=0;c<s.length;c++){const u=s[c];a&&(u.oldValue=a[c].value);let l=u.dir[i];l&&((0,r.Jd)(),o(l,n,8,[e.el,u,e,t]),(0,r.lk)())}}const Fe="components",De="directives";function Pe(e,t){return Ue(Fe,e,!0,t)||e}const Le=Symbol();function je(e){return(0,i.HD)(e)?Ue(Fe,e,!1)||e:e||Le}function Me(e){return Ue(De,e)}function Ue(e,t,n=!0,r=!1){const s=N||gn;if(s){const n=s.type;if(e===Fe){const e=Rn(n,!1);if(e&&(e===t||e===(0,i._A)(t)||e===(0,i.kC)((0,i._A)(t))))return n}const o=Ve(s[e]||n[e],t)||Ve(s.appContext[e],t);return!o&&r?n:o}}function Ve(e,t){return e&&(e[t]||e[(0,i._A)(t)]||e[(0,i.kC)((0,i._A)(t))])}function Be(e,t,n={},r,i){if(N.isCE||N.parent&&le(N.parent)&&N.parent.isCE)return"default"!==t&&(n.name=t),en("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),Bt();const o=s&&qe(s(n)),a=Kt(Pt,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&1===e._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function qe(e){return e.some((e=>!Wt(e)||e.type!==jt&&!(e.type===Pt&&!qe(e.children))))?e:null}const $e=e=>e?wn(e)?An(e)||e.proxy:$e(e.parent):null,ze=(0,i.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>$e(e.parent),$root:e=>$e(e.root),$emit:e=>e.emit,$options:e=>Ye(e),$forceUpdate:e=>e.f||(e.f=()=>w(e.update)),$nextTick:e=>e.n||(e.n=v.bind(e.proxy)),$watch:e=>Q.bind(e)}),He=(e,t)=>e!==i.kT&&!e.__isScriptSetup&&(0,i.RI)(e,t),Ge={get({_:e},t){const{ctx:n,setupState:s,data:o,props:a,accessCache:c,type:u,appContext:l}=e;let h;if("$"!==t[0]){const r=c[t];if(void 0!==r)switch(r){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(He(s,t))return c[t]=1,s[t];if(o!==i.kT&&(0,i.RI)(o,t))return c[t]=2,o[t];if((h=e.propsOptions[0])&&(0,i.RI)(h,t))return c[t]=3,a[t];if(n!==i.kT&&(0,i.RI)(n,t))return c[t]=4,n[t];Ke&&(c[t]=0)}}const d=ze[t];let f,p;return d?("$attrs"===t&&(0,r.j)(e,"get",t),d(e)):(f=u.__cssModules)&&(f=f[t])?f:n!==i.kT&&(0,i.RI)(n,t)?(c[t]=4,n[t]):(p=l.config.globalProperties,(0,i.RI)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return He(s,t)?(s[t]=n,!0):r!==i.kT&&(0,i.RI)(r,t)?(r[t]=n,!0):!(0,i.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},a){let c;return!!n[a]||e!==i.kT&&(0,i.RI)(e,a)||He(t,a)||(c=o[0])&&(0,i.RI)(c,a)||(0,i.RI)(r,a)||(0,i.RI)(ze,a)||(0,i.RI)(s.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,i.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Ke=!0;function We(e){const t=Ye(e),n=e.proxy,s=e.ctx;Ke=!1,t.beforeCreate&&Qe(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:c,watch:u,provide:l,inject:h,created:d,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:y,deactivated:v,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:I,render:E,renderTracked:k,renderTriggered:T,errorCaptured:S,serverPrefetch:C,expose:O,inheritAttrs:x,components:A,directives:R,filters:N}=t,F=null;if(h&&Ze(h,s,F,e.appContext.config.unwrapInjectedRef),c)for(const r in c){const e=c[r];(0,i.mf)(e)&&(s[r]=e.bind(n))}if(o){0;const t=o.call(n,n);0,(0,i.Kn)(t)&&(e.data=(0,r.qj)(t))}if(Ke=!0,a)for(const r in a){const e=a[r],t=(0,i.mf)(e)?e.bind(n,n):(0,i.mf)(e.get)?e.get.bind(n,n):i.dG;0;const o=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(n):i.dG,c=Fn({get:t,set:o});Object.defineProperty(s,r,{enumerable:!0,configurable:!0,get:()=>c.value,set:e=>c.value=e})}if(u)for(const r in u)Je(u[r],s,n,r);if(l){const e=(0,i.mf)(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{z(t,e[t])}))}function D(e,t){(0,i.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&Qe(d,e,"c"),D(_e,f),D(Ie,p),D(Ee,m),D(ke,g),D(fe,y),D(pe,v),D(Ae,S),D(xe,k),D(Oe,T),D(Te,w),D(Se,I),D(Ce,C),(0,i.kJ)(O))if(O.length){const t=e.exposed||(e.exposed={});O.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});E&&e.render===i.dG&&(e.render=E),null!=x&&(e.inheritAttrs=x),A&&(e.components=A),R&&(e.directives=R)}function Ze(e,t,n=i.dG,s=!1){(0,i.kJ)(e)&&(e=rt(e));for(const o in e){const n=e[o];let a;a=(0,i.Kn)(n)?"default"in n?H(n.from||o,n.default,!0):H(n.from||o):H(n),(0,r.dq)(a)&&s?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[o]=a}}function Qe(e,t,n){o((0,i.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Je(e,t,n,r){const s=r.includes(".")?J(n,r):()=>n[r];if((0,i.HD)(e)){const n=t[e];(0,i.mf)(n)&&W(s,n)}else if((0,i.mf)(e))W(s,e.bind(n));else if((0,i.Kn)(e))if((0,i.kJ)(e))e.forEach((e=>Je(e,t,n,r)));else{const r=(0,i.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.mf)(r)&&W(s,r,e)}else 0}function Ye(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,c=o.get(t);let u;return c?u=c:s.length||n||r?(u={},s.length&&s.forEach((e=>Xe(u,e,a,!0))),Xe(u,t,a)):u=t,(0,i.Kn)(t)&&o.set(t,u),u}function Xe(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Xe(e,s,n,!0),i&&i.forEach((t=>Xe(e,t,n,!0)));for(const o in t)if(r&&"expose"===o);else{const r=et[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const et={data:tt,props:st,emits:st,methods:st,computed:st,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:st,directives:st,watch:ot,provide:tt,inject:nt};function tt(e,t){return t?e?function(){return(0,i.l7)((0,i.mf)(e)?e.call(this,this):e,(0,i.mf)(t)?t.call(this,this):t)}:t:e}function nt(e,t){return st(rt(e),rt(t))}function rt(e){if((0,i.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function st(e,t){return e?(0,i.l7)((0,i.l7)(Object.create(null),e),t):t}function ot(e,t){if(!e)return t;if(!t)return e;const n=(0,i.l7)(Object.create(null),e);for(const r in t)n[r]=it(e[r],t[r]);return n}function at(e,t,n,s=!1){const o={},a={};(0,i.Nj)(a,Qt,1),e.propsDefaults=Object.create(null),ut(e,t,o,a);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=s?o:(0,r.Um)(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function ct(e,t,n,s){const{props:o,attrs:a,vnode:{patchFlag:c}}=e,u=(0,r.IU)(o),[l]=e.propsOptions;let h=!1;if(!(s||c>0)||16&c){let r;ut(e,t,o,a)&&(h=!0);for(const s in u)t&&((0,i.RI)(t,s)||(r=(0,i.rs)(s))!==s&&(0,i.RI)(t,r))||(l?!n||void 0===n[s]&&void 0===n[r]||(o[s]=lt(l,u,s,void 0,e,!0)):delete o[s]);if(a!==u)for(const e in a)t&&(0,i.RI)(t,e)||(delete a[e],h=!0)}else if(8&c){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];if(R(e.emitsOptions,s))continue;const c=t[s];if(l)if((0,i.RI)(a,s))c!==a[s]&&(a[s]=c,h=!0);else{const t=(0,i._A)(s);o[t]=lt(l,u,t,c,e,!1)}else c!==a[s]&&(a[s]=c,h=!0)}}h&&(0,r.X$)(e,"set","$attrs")}function ut(e,t,n,s){const[o,a]=e.propsOptions;let c,u=!1;if(t)for(let r in t){if((0,i.Gg)(r))continue;const l=t[r];let h;o&&(0,i.RI)(o,h=(0,i._A)(r))?a&&a.includes(h)?(c||(c={}))[h]=l:n[h]=l:R(e.emitsOptions,r)||r in s&&l===s[r]||(s[r]=l,u=!0)}if(a){const t=(0,r.IU)(n),s=c||i.kT;for(let r=0;r<a.length;r++){const c=a[r];n[c]=lt(o,t,c,s[c],e,!(0,i.RI)(s,c))}}return u}function lt(e,t,n,r,s,o){const a=e[n];if(null!=a){const e=(0,i.RI)(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&(0,i.mf)(e)){const{propsDefaults:i}=s;n in i?r=i[n]:(vn(s),r=i[n]=e.call(null,t),bn())}else r=e}a[0]&&(o&&!e?r=!1:!a[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function ht(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const o=e.props,a={},c=[];let u=!1;if(!(0,i.mf)(e)){const r=e=>{u=!0;const[n,r]=ht(e,t,!0);(0,i.l7)(a,n),r&&c.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!o&&!u)return(0,i.Kn)(e)&&r.set(e,i.Z6),i.Z6;if((0,i.kJ)(o))for(let h=0;h<o.length;h++){0;const e=(0,i._A)(o[h]);dt(e)&&(a[e]=i.kT)}else if(o){0;for(const e in o){const t=(0,i._A)(e);if(dt(t)){const n=o[e],r=a[t]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:Object.assign({},n);if(r){const e=mt(Boolean,r.type),n=mt(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.RI)(r,"default"))&&c.push(t)}}}}const l=[a,c];return(0,i.Kn)(e)&&r.set(e,l),l}function dt(e){return"$"!==e[0]}function ft(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function pt(e,t){return ft(e)===ft(t)}function mt(e,t){return(0,i.kJ)(t)?t.findIndex((t=>pt(t,e))):(0,i.mf)(t)&&pt(t,e)?0:-1}const gt=e=>"_"===e[0]||"$stable"===e,yt=e=>(0,i.kJ)(e)?e.map(cn):[cn(e)],vt=(e,t,n)=>{if(t._n)return t;const r=P(((...e)=>yt(t(...e))),n);return r._c=!1,r},bt=(e,t,n)=>{const r=e._ctx;for(const s in e){if(gt(s))continue;const n=e[s];if((0,i.mf)(n))t[s]=vt(s,n,r);else if(null!=n){0;const e=yt(n);t[s]=()=>e}}},wt=(e,t)=>{const n=yt(t);e.slots.default=()=>n},_t=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.IU)(t),(0,i.Nj)(t,"_",n)):bt(t,e.slots={})}else e.slots={},t&&wt(e,t);(0,i.Nj)(e.slots,Qt,1)},It=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,a=i.kT;if(32&r.shapeFlag){const e=t._;e?n&&1===e?o=!1:((0,i.l7)(s,t),n||1!==e||delete s._):(o=!t.$stable,bt(t,s)),a=t}else t&&(wt(e,t),a={default:1});if(o)for(const i in s)gt(i)||i in a||delete s[i]};function Et(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kt=0;function Tt(e,t){return function(n,r=null){(0,i.mf)(n)||(n=Object.assign({},n)),null==r||(0,i.Kn)(r)||(r=null);const s=Et(),o=new Set;let a=!1;const c=s.app={_uid:kt++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:jn,get config(){return s.config},set config(e){0},use(e,...t){return o.has(e)||(e&&(0,i.mf)(e.install)?(o.add(e),e.install(c,...t)):(0,i.mf)(e)&&(o.add(e),e(c,...t))),c},mixin(e){return s.mixins.includes(e)||s.mixins.push(e),c},component(e,t){return t?(s.components[e]=t,c):s.components[e]},directive(e,t){return t?(s.directives[e]=t,c):s.directives[e]},mount(i,o,u){if(!a){0;const l=en(n,r);return l.appContext=s,o&&t?t(l,i):e(l,i,u),a=!0,c._container=i,i.__vue_app__=c,An(l.component)||l.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(e,t){return s.provides[e]=t,c}};return c}}function St(e,t,n,o,a=!1){if((0,i.kJ)(e))return void e.forEach(((e,r)=>St(e,t&&((0,i.kJ)(t)?t[r]:t),n,o,a)));if(le(o)&&!a)return;const c=4&o.shapeFlag?An(o.component)||o.component.proxy:o.el,u=a?null:c,{i:l,r:h}=e;const d=t&&t.r,f=l.refs===i.kT?l.refs={}:l.refs,p=l.setupState;if(null!=d&&d!==h&&((0,i.HD)(d)?(f[d]=null,(0,i.RI)(p,d)&&(p[d]=null)):(0,r.dq)(d)&&(d.value=null)),(0,i.mf)(h))s(h,l,12,[u,f]);else{const t=(0,i.HD)(h),s=(0,r.dq)(h);if(t||s){const r=()=>{if(e.f){const n=t?(0,i.RI)(p,h)?p[h]:f[h]:h.value;a?(0,i.kJ)(n)&&(0,i.Od)(n,c):(0,i.kJ)(n)?n.includes(c)||n.push(c):t?(f[h]=[c],(0,i.RI)(p,h)&&(p[h]=f[h])):(h.value=[c],e.k&&(f[e.k]=h.value))}else t?(f[h]=u,(0,i.RI)(p,h)&&(p[h]=u)):s&&(h.value=u,e.k&&(f[e.k]=u))};u?(r.id=-1,Ot(r,n)):r()}else 0}}function Ct(){}const Ot=$;function xt(e){return At(e)}function At(e,t){Ct();const n=(0,i.E9)();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:c,createText:u,createComment:l,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:m=i.dG,insertStaticContent:g}=e,y=(e,t,n,r=null,i=null,s=null,o=!1,a=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!Zt(e,t)&&(r=Y(e),K(e,i,s,!0),e=null),-2===t.patchFlag&&(c=!1,t.dynamicChildren=null);const{type:u,ref:l,shapeFlag:h}=t;switch(u){case Lt:v(e,t,n,r);break;case jt:b(e,t,n,r);break;case Mt:null==e&&_(t,n,r,o);break;case Pt:D(e,t,n,r,i,s,o,a,c);break;default:1&h?C(e,t,n,r,i,s,o,a,c):6&h?P(e,t,n,r,i,s,o,a,c):(64&h||128&h)&&u.process(e,t,n,r,i,s,o,a,c,ee)}null!=l&&i&&St(l,e&&e.ref,s,t||e,!t)},v=(e,t,n,r)=>{if(null==e)s(t.el=u(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},b=(e,t,n,r)=>{null==e?s(t.el=l(t.children||""),n,r):t.el=e.el},_=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r,e.el,e.anchor)},E=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=p(e),s(e,n,r),e=i;s(t,n,r)},S=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),o(e),e=n;o(t)},C=(e,t,n,r,i,s,o,a,c)=>{o=o||"svg"===t.type,null==e?O(t,n,r,i,s,o,a,c):R(e,t,i,s,o,a,c)},O=(e,t,n,r,o,u,l,h)=>{let f,p;const{type:m,props:g,shapeFlag:y,transition:v,dirs:b}=e;if(f=e.el=c(e.type,u,g&&g.is,g),8&y?d(f,e.children):16&y&&A(e.children,f,null,r,o,u&&"foreignObject"!==m,l,h),b&&Ne(e,null,r,"created"),g){for(const t in g)"value"===t||(0,i.Gg)(t)||a(f,t,null,g[t],u,e.children,r,o,J);"value"in g&&a(f,"value",null,g.value),(p=g.onVnodeBeforeMount)&&dn(p,r,e)}x(f,e,e.scopeId,l,r),b&&Ne(e,null,r,"beforeMount");const w=(!o||o&&!o.pendingBranch)&&v&&!v.persisted;w&&v.beforeEnter(f),s(f,t,n),((p=g&&g.onVnodeMounted)||w||b)&&Ot((()=>{p&&dn(p,r,e),w&&v.enter(f),b&&Ne(e,null,r,"mounted")}),o)},x=(e,t,n,r,i)=>{if(n&&m(e,n),r)for(let s=0;s<r.length;s++)m(e,r[s]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;x(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},A=(e,t,n,r,i,s,o,a,c=0)=>{for(let u=c;u<e.length;u++){const c=e[u]=a?un(e[u]):cn(e[u]);y(null,c,t,n,r,i,s,o,a)}},R=(e,t,n,r,s,o,c)=>{const u=t.el=e.el;let{patchFlag:l,dynamicChildren:h,dirs:f}=t;l|=16&e.patchFlag;const p=e.props||i.kT,m=t.props||i.kT;let g;n&&Rt(n,!1),(g=m.onVnodeBeforeUpdate)&&dn(g,n,t,e),f&&Ne(t,e,n,"beforeUpdate"),n&&Rt(n,!0);const y=s&&"foreignObject"!==t.type;if(h?N(e.dynamicChildren,h,u,n,r,y,o):c||$(e,t,u,null,n,r,y,o,!1),l>0){if(16&l)F(u,t,p,m,n,r,s);else if(2&l&&p.class!==m.class&&a(u,"class",null,m.class,s),4&l&&a(u,"style",p.style,m.style,s),8&l){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const o=i[t],c=p[o],l=m[o];l===c&&"value"!==o||a(u,o,c,l,s,e.children,n,r,J)}}1&l&&e.children!==t.children&&d(u,t.children)}else c||null!=h||F(u,t,p,m,n,r,s);((g=m.onVnodeUpdated)||f)&&Ot((()=>{g&&dn(g,n,t,e),f&&Ne(t,e,n,"updated")}),r)},N=(e,t,n,r,i,s,o)=>{for(let a=0;a<t.length;a++){const c=e[a],u=t[a],l=c.el&&(c.type===Pt||!Zt(c,u)||70&c.shapeFlag)?f(c.el):n;y(c,u,l,null,r,i,s,o,!0)}},F=(e,t,n,r,s,o,c)=>{if(n!==r){if(n!==i.kT)for(const u in n)(0,i.Gg)(u)||u in r||a(e,u,n[u],null,c,t.children,s,o,J);for(const u in r){if((0,i.Gg)(u))continue;const l=r[u],h=n[u];l!==h&&"value"!==u&&a(e,u,h,l,c,t.children,s,o,J)}"value"in r&&a(e,"value",n.value,r.value)}},D=(e,t,n,r,i,o,a,c,l)=>{const h=t.el=e?e.el:u(""),d=t.anchor=e?e.anchor:u("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(s(h,n,r),s(d,n,r),A(t.children,n,d,i,o,a,c,l)):f>0&&64&f&&p&&e.dynamicChildren?(N(e.dynamicChildren,p,n,i,o,a,c),(null!=t.key||i&&t===i.subTree)&&Nt(e,t,!0)):$(e,t,n,d,i,o,a,c,l)},P=(e,t,n,r,i,s,o,a,c)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,o,c):j(t,n,r,i,s,o,c):M(e,t,c)},j=(e,t,n,r,i,s,o)=>{const a=e.component=mn(e,r,i);if(he(e)&&(a.ctx.renderer=ee),kn(a),a.asyncDep){if(i&&i.registerDep(a,V),!e.el){const e=a.subTree=en(jt);b(null,e,t,n)}}else V(a,e,t,n,i,s,o)},M=(e,t,n)=>{const r=t.component=e.component;if(U(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void q(r,t,n);r.next=t,I(r.update),r.update()}else t.el=e.el,r.vnode=t},V=(e,t,n,s,o,a,c)=>{const u=()=>{if(e.isMounted){let t,{next:n,bu:r,u:s,parent:u,vnode:l}=e,h=n;0,Rt(e,!1),n?(n.el=l.el,q(e,n,c)):n=l,r&&(0,i.ir)(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&dn(t,u,n,l),Rt(e,!0);const d=L(e);0;const p=e.subTree;e.subTree=d,y(p,d,f(p.el),Y(p),e,o,a),n.el=d.el,null===h&&B(e,d.el),s&&Ot(s,o),(t=n.props&&n.props.onVnodeUpdated)&&Ot((()=>dn(t,u,n,l)),o)}else{let r;const{el:c,props:u}=t,{bm:l,m:h,parent:d}=e,f=le(t);if(Rt(e,!1),l&&(0,i.ir)(l),!f&&(r=u&&u.onVnodeBeforeMount)&&dn(r,d,t),Rt(e,!0),c&&ne){const n=()=>{e.subTree=L(e),ne(c,e.subTree,e,o,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=L(e);0,y(null,r,n,s,e,o,a),t.el=r.el}if(h&&Ot(h,o),!f&&(r=u&&u.onVnodeMounted)){const e=t;Ot((()=>dn(r,d,e)),o)}(256&t.shapeFlag||d&&le(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Ot(e.a,o),e.isMounted=!0,t=n=s=null}},l=e.effect=new r.qq(u,(()=>w(h)),e.scope),h=e.update=()=>l.run();h.id=e.uid,Rt(e,!0),h()},q=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,ct(e,t.props,i,n),It(e,t.children,n),(0,r.Jd)(),k(),(0,r.lk)()},$=(e,t,n,r,i,s,o,a,c=!1)=>{const u=e&&e.children,l=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void H(u,h,n,r,i,s,o,a,c);if(256&f)return void z(u,h,n,r,i,s,o,a,c)}8&p?(16&l&&J(u,i,s),h!==u&&d(n,h)):16&l?16&p?H(u,h,n,r,i,s,o,a,c):J(u,i,s,!0):(8&l&&d(n,""),16&p&&A(h,n,r,i,s,o,a,c))},z=(e,t,n,r,s,o,a,c,u)=>{e=e||i.Z6,t=t||i.Z6;const l=e.length,h=t.length,d=Math.min(l,h);let f;for(f=0;f<d;f++){const r=t[f]=u?un(t[f]):cn(t[f]);y(e[f],r,n,null,s,o,a,c,u)}l>h?J(e,s,o,!0,!1,d):A(t,n,r,s,o,a,c,u,d)},H=(e,t,n,r,s,o,a,c,u)=>{let l=0;const h=t.length;let d=e.length-1,f=h-1;while(l<=d&&l<=f){const r=e[l],i=t[l]=u?un(t[l]):cn(t[l]);if(!Zt(r,i))break;y(r,i,n,null,s,o,a,c,u),l++}while(l<=d&&l<=f){const r=e[d],i=t[f]=u?un(t[f]):cn(t[f]);if(!Zt(r,i))break;y(r,i,n,null,s,o,a,c,u),d--,f--}if(l>d){if(l<=f){const e=f+1,i=e<h?t[e].el:r;while(l<=f)y(null,t[l]=u?un(t[l]):cn(t[l]),n,i,s,o,a,c,u),l++}}else if(l>f)while(l<=d)K(e[l],s,o,!0),l++;else{const p=l,m=l,g=new Map;for(l=m;l<=f;l++){const e=t[l]=u?un(t[l]):cn(t[l]);null!=e.key&&g.set(e.key,l)}let v,b=0;const w=f-m+1;let _=!1,I=0;const E=new Array(w);for(l=0;l<w;l++)E[l]=0;for(l=p;l<=d;l++){const r=e[l];if(b>=w){K(r,s,o,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(v=m;v<=f;v++)if(0===E[v-m]&&Zt(r,t[v])){i=v;break}void 0===i?K(r,s,o,!0):(E[i-m]=l+1,i>=I?I=i:_=!0,y(r,t[i],n,null,s,o,a,c,u),b++)}const k=_?Ft(E):i.Z6;for(v=k.length-1,l=w-1;l>=0;l--){const e=m+l,i=t[e],d=e+1<h?t[e+1].el:r;0===E[l]?y(null,i,n,d,s,o,a,c,u):_&&(v<0||l!==k[v]?G(i,n,d,2):v--)}}},G=(e,t,n,r,i=null)=>{const{el:o,type:a,transition:c,children:u,shapeFlag:l}=e;if(6&l)return void G(e.component.subTree,t,n,r);if(128&l)return void e.suspense.move(t,n,r);if(64&l)return void a.move(e,t,n,ee);if(a===Pt){s(o,t,n);for(let e=0;e<u.length;e++)G(u[e],t,n,r);return void s(e.anchor,t,n)}if(a===Mt)return void E(e,t,n);const h=2!==r&&1&l&&c;if(h)if(0===r)c.beforeEnter(o),s(o,t,n),Ot((()=>c.enter(o)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=c,a=()=>s(o,t,n),u=()=>{e(o,(()=>{a(),i&&i()}))};r?r(o,a,u):u()}else s(o,t,n)},K=(e,t,n,r=!1,i=!1)=>{const{type:s,props:o,ref:a,children:c,dynamicChildren:u,shapeFlag:l,patchFlag:h,dirs:d}=e;if(null!=a&&St(a,null,n,e,!0),256&l)return void t.ctx.deactivate(e);const f=1&l&&d,p=!le(e);let m;if(p&&(m=o&&o.onVnodeBeforeUnmount)&&dn(m,t,e),6&l)Q(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);f&&Ne(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,i,ee,r):u&&(s!==Pt||h>0&&64&h)?J(u,t,n,!1,!0):(s===Pt&&384&h||!i&&16&l)&&J(c,t,n),r&&W(e)}(p&&(m=o&&o.onVnodeUnmounted)||f)&&Ot((()=>{m&&dn(m,t,e),f&&Ne(e,null,t,"unmounted")}),n)},W=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===Pt)return void Z(n,r);if(t===Mt)return void S(e);const s=()=>{o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,o=()=>t(n,s);r?r(e.el,s,o):o()}else s()},Z=(e,t)=>{let n;while(e!==t)n=p(e),o(e),e=n;o(t)},Q=(e,t,n)=>{const{bum:r,scope:s,update:o,subTree:a,um:c}=e;r&&(0,i.ir)(r),s.stop(),o&&(o.active=!1,K(a,e,t,n)),c&&Ot(c,t),Ot((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},J=(e,t,n,r=!1,i=!1,s=0)=>{for(let o=s;o<e.length;o++)K(e[o],t,n,r,i)},Y=e=>6&e.shapeFlag?Y(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),X=(e,t,n)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),k(),T(),t._vnode=e},ee={p:y,um:K,m:G,r:W,mt:j,mc:A,pc:$,pbc:N,n:Y,o:e};let te,ne;return t&&([te,ne]=t(ee)),{render:X,hydrate:te,createApp:Tt(X,te)}}function Rt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Nt(e,t,n=!1){const r=e.children,s=t.children;if((0,i.kJ)(r)&&(0,i.kJ)(s))for(let i=0;i<r.length;i++){const e=r[i];let t=s[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=s[i]=un(s[i]),t.el=e.el),n||Nt(e,t)),t.type===Lt&&(t.el=e.el)}}function Ft(e){const t=e.slice(),n=[0];let r,i,s,o,a;const c=e.length;for(r=0;r<c;r++){const c=e[r];if(0!==c){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}s=0,o=n.length-1;while(s<o)a=s+o>>1,e[n[a]]<c?s=a+1:o=a;c<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}s=n.length,o=n[s-1];while(s-- >0)n[s]=o,o=t[o];return n}const Dt=e=>e.__isTeleport;const Pt=Symbol(void 0),Lt=Symbol(void 0),jt=Symbol(void 0),Mt=Symbol(void 0),Ut=[];let Vt=null;function Bt(e=!1){Ut.push(Vt=e?null:[])}function qt(){Ut.pop(),Vt=Ut[Ut.length-1]||null}let $t=1;function zt(e){$t+=e}function Ht(e){return e.dynamicChildren=$t>0?Vt||i.Z6:null,qt(),$t>0&&Vt&&Vt.push(e),e}function Gt(e,t,n,r,i,s){return Ht(Xt(e,t,n,r,i,s,!0))}function Kt(e,t,n,r,i){return Ht(en(e,t,n,r,i,!0))}function Wt(e){return!!e&&!0===e.__v_isVNode}function Zt(e,t){return e.type===t.type&&e.key===t.key}const Qt="__vInternal",Jt=({key:e})=>null!=e?e:null,Yt=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,i.HD)(e)||(0,r.dq)(e)||(0,i.mf)(e)?{i:N,r:e,k:t,f:!!n}:e:null;function Xt(e,t=null,n=null,r=0,s=null,o=(e===Pt?0:1),a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jt(t),ref:t&&Yt(t),scopeId:F,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:N};return c?(ln(u,n),128&o&&e.normalize(u)):n&&(u.shapeFlag|=(0,i.HD)(n)?8:16),$t>0&&!a&&Vt&&(u.patchFlag>0||6&o)&&32!==u.patchFlag&&Vt.push(u),u}const en=tn;function tn(e,t=null,n=null,s=0,o=null,a=!1){if(e&&e!==Le||(e=jt),Wt(e)){const r=rn(e,t,!0);return n&&ln(r,n),$t>0&&!a&&Vt&&(6&r.shapeFlag?Vt[Vt.indexOf(e)]=r:Vt.push(r)),r.patchFlag|=-2,r}if(Nn(e)&&(e=e.__vccOpts),t){t=nn(t);let{class:e,style:n}=t;e&&!(0,i.HD)(e)&&(t.class=(0,i.C_)(e)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),t.style=(0,i.j5)(n))}const c=(0,i.HD)(e)?1:q(e)?128:Dt(e)?64:(0,i.Kn)(e)?4:(0,i.mf)(e)?2:0;return Xt(e,t,n,s,o,c,a,!0)}function nn(e){return e?(0,r.X3)(e)||Qt in e?(0,i.l7)({},e):e:null}function rn(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:a}=e,c=t?hn(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Jt(c),ref:t&&t.ref?n&&s?(0,i.kJ)(s)?s.concat(Yt(t)):[s,Yt(t)]:Yt(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pt?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rn(e.ssContent),ssFallback:e.ssFallback&&rn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx};return u}function sn(e=" ",t=0){return en(Lt,null,e,t)}function on(e,t){const n=en(Mt,null,e);return n.staticCount=t,n}function an(e="",t=!1){return t?(Bt(),Kt(jt,null,e)):en(jt,null,e)}function cn(e){return null==e||"boolean"===typeof e?en(jt):(0,i.kJ)(e)?en(Pt,null,e.slice()):"object"===typeof e?un(e):en(Lt,null,String(e))}function un(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:rn(e)}function ln(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.kJ)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),ln(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Qt in t?3===r&&N&&(1===N.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=N}}else(0,i.mf)(t)?(t={default:t,_ctx:N},n=32):(t=String(t),64&r?(n=16,t=[sn(t)]):n=8);e.children=t,e.shapeFlag|=n}function hn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.C_)([t.class,r.class]));else if("style"===e)t.style=(0,i.j5)([t.style,r.style]);else if((0,i.F7)(e)){const n=t[e],s=r[e];!s||n===s||(0,i.kJ)(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=r[e])}return t}function dn(e,t,n,r=null){o(e,t,7,[n,r])}const fn=Et();let pn=0;function mn(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||fn,a={uid:pn++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ht(s,o),emitsOptions:A(s,o),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:s.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=x.bind(null,a),e.ce&&e.ce(a),a}let gn=null;const yn=()=>gn||N,vn=e=>{gn=e,e.scope.on()},bn=()=>{gn&&gn.scope.off(),gn=null};function wn(e){return 4&e.vnode.shapeFlag}let _n,In,En=!1;function kn(e,t=!1){En=t;const{props:n,children:r}=e.vnode,i=wn(e);at(e,n,i,t),_t(e,r);const s=i?Tn(e,t):void 0;return En=!1,s}function Tn(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.Xl)(new Proxy(e.ctx,Ge));const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?xn(e):null;vn(e),(0,r.Jd)();const c=s(o,e,0,[e.props,n]);if((0,r.lk)(),bn(),(0,i.tI)(c)){if(c.then(bn,bn),t)return c.then((n=>{Sn(e,n,t)})).catch((t=>{a(t,e,0)}));e.asyncDep=c}else Sn(e,c,t)}else Cn(e,t)}function Sn(e,t,n){(0,i.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Kn)(t)&&(e.setupState=(0,r.WL)(t)),Cn(e,n)}function Cn(e,t,n){const s=e.type;if(!e.render){if(!t&&_n&&!s.render){const t=s.template||Ye(e).template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:o,compilerOptions:a}=s,c=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:o},r),a);s.render=_n(t,c)}}e.render=s.render||i.dG,In&&In(e)}vn(e),(0,r.Jd)(),We(e),(0,r.lk)(),bn()}function On(e){return new Proxy(e.attrs,{get(t,n){return(0,r.j)(e,"get","$attrs"),t[n]}})}function xn(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=On(e))},slots:e.slots,emit:e.emit,expose:t}}function An(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in ze?ze[n](e):void 0},has(e,t){return t in e||t in ze}}))}function Rn(e,t=!0){return(0,i.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function Nn(e){return(0,i.mf)(e)&&"__vccOpts"in e}const Fn=(e,t)=>(0,r.Fl)(e,t,En);function Dn(e,t,n){const r=arguments.length;return 2===r?(0,i.Kn)(t)&&!(0,i.kJ)(t)?Wt(t)?en(e,null,[t]):en(e,t):en(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Wt(n)&&(n=[n]),en(e,t,n))}const Pn=Symbol(""),Ln=()=>{{const e=H(Pn);return e}};const jn="3.2.45"},963:(e,t,n)=>{"use strict";n.d(t,{G2:()=>ne,e8:()=>ee,nr:()=>X,ri:()=>ce});var r=n(577),i=n(252);n(262);const s="http://www.w3.org/2000/svg",o="undefined"!==typeof document?document:null,a=o&&o.createElement("template"),c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?o.createElementNS(s,e):o.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>o.createTextNode(e),createComment:e=>o.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>o.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===s||!(i=i.nextSibling))break}else{a.innerHTML=r?`<svg>${e}</svg>`:e;const i=a.content;if(r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function u(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function l(e,t,n){const i=e.style,s=(0,r.HD)(n);if(n&&!s){for(const e in n)d(i,e,n[e]);if(t&&!(0,r.HD)(t))for(const e in t)null==n[e]&&d(i,e,"")}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const h=/\s*!important$/;function d(e,t,n){if((0,r.kJ)(n))n.forEach((n=>d(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=m(e,t);h.test(n)?e.setProperty((0,r.rs)(i),n.replace(h,""),"important"):e[i]=n}}const f=["Webkit","Moz","ms"],p={};function m(e,t){const n=p[t];if(n)return n;let i=(0,r._A)(t);if("filter"!==i&&i in e)return p[t]=i;i=(0,r.kC)(i);for(let r=0;r<f.length;r++){const n=f[r]+i;if(n in e)return p[t]=n}return t}const g="http://www.w3.org/1999/xlink";function y(e,t,n,i,s){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(g,t.slice(6,t.length)):e.setAttributeNS(g,t,n);else{const i=(0,r.Pq)(t);null==n||i&&!(0,r.yA)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function v(e,t,n,i,s,o,a){if("innerHTML"===t||"textContent"===t)return i&&a(i,s,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let c=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=(0,r.yA)(n):null==n&&"string"===i?(n="",c=!0):"number"===i&&(n=0,c=!0)}try{e[t]=n}catch(u){0}c&&e.removeAttribute(t)}function b(e,t,n,r){e.addEventListener(t,n,r)}function w(e,t,n,r){e.removeEventListener(t,n,r)}function _(e,t,n,r,i=null){const s=e._vei||(e._vei={}),o=s[t];if(r&&o)o.value=r;else{const[n,a]=E(t);if(r){const o=s[t]=C(r,i);b(e,n,o,a)}else o&&(w(e,n,o,a),s[t]=void 0)}}const I=/(?:Once|Passive|Capture)$/;function E(e){let t;if(I.test(e)){let n;t={};while(n=e.match(I))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,r.rs)(e.slice(2));return[n,t]}let k=0;const T=Promise.resolve(),S=()=>k||(T.then((()=>k=0)),k=Date.now());function C(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,i.$d)(O(e,n.value),t,5,[e])};return n.value=e,n.attached=S(),n}function O(e,t){if((0,r.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const x=/^on[a-z]/,A=(e,t,n,i,s=!1,o,a,c,h)=>{"class"===t?u(e,i,s):"style"===t?l(e,n,i):(0,r.F7)(t)?(0,r.tR)(t)||_(e,t,n,i,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):R(e,t,i,s))?v(e,t,i,o,a,c,h):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),y(e,t,i,s))};function R(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&x.test(t)&&(0,r.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!x.test(t)||!(0,r.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const N="transition",F="animation",D=(e,{slots:t})=>(0,i.h)(i.P$,M(e),t);D.displayName="Transition";const P={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},L=(D.props=(0,r.l7)({},i.P$.props,P),(e,t=[])=>{(0,r.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)}),j=e=>!!e&&((0,r.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function M(e){const t={};for(const r in e)r in P||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:l=a,appearToClass:h=c,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=U(s),g=m&&m[0],y=m&&m[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:w,onLeave:_,onLeaveCancelled:I,onBeforeAppear:E=v,onAppear:k=b,onAppearCancelled:T=w}=t,S=(e,t,n)=>{q(e,t?h:c),q(e,t?l:a),n&&n()},C=(e,t)=>{e._isLeaving=!1,q(e,d),q(e,p),q(e,f),t&&t()},O=e=>(t,n)=>{const r=e?k:b,s=()=>S(t,e,n);L(r,[t,s]),$((()=>{q(t,e?u:o),B(t,e?h:c),j(r)||H(t,i,g,s)}))};return(0,r.l7)(t,{onBeforeEnter(e){L(v,[e]),B(e,o),B(e,a)},onBeforeAppear(e){L(E,[e]),B(e,u),B(e,l)},onEnter:O(!1),onAppear:O(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>C(e,t);B(e,d),Z(),B(e,f),$((()=>{e._isLeaving&&(q(e,d),B(e,p),j(_)||H(e,i,y,n))})),L(_,[e,n])},onEnterCancelled(e){S(e,!1),L(w,[e])},onAppearCancelled(e){S(e,!0),L(T,[e])},onLeaveCancelled(e){C(e),L(I,[e])}})}function U(e){if(null==e)return null;if((0,r.Kn)(e))return[V(e.enter),V(e.leave)];{const t=V(e);return[t,t]}}function V(e){const t=(0,r.He)(e);return t}function B(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function q(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function $(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let z=0;function H(e,t,n,r){const i=e._endId=++z,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:c}=G(e,t);if(!o)return r();const u=o+"end";let l=0;const h=()=>{e.removeEventListener(u,d),s()},d=t=>{t.target===e&&++l>=c&&h()};setTimeout((()=>{l<c&&h()}),a+1),e.addEventListener(u,d)}function G(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(`${N}Delay`),s=r(`${N}Duration`),o=K(i,s),a=r(`${F}Delay`),c=r(`${F}Duration`),u=K(a,c);let l=null,h=0,d=0;t===N?o>0&&(l=N,h=o,d=s.length):t===F?u>0&&(l=F,h=u,d=c.length):(h=Math.max(o,u),l=h>0?o>u?N:F:null,d=l?l===N?s.length:c.length:0);const f=l===N&&/\b(transform|all)(,|$)/.test(r(`${N}Property`).toString());return{type:l,timeout:h,propCount:d,hasTransform:f}}function K(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>W(t)+W(e[n]))))}function W(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Z(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Q=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,r.kJ)(t)?e=>(0,r.ir)(t,e):t};function J(e){e.target.composing=!0}function Y(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const X={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e._assign=Q(s);const o=i||s.props&&"number"===s.props.type;b(e,t?"change":"input",(t=>{if(t.target.composing)return;let i=e.value;n&&(i=i.trim()),o&&(i=(0,r.He)(i)),e._assign(i)})),n&&b(e,"change",(()=>{e.value=e.value.trim()})),t||(b(e,"compositionstart",J),b(e,"compositionend",Y),b(e,"change",Y))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},o){if(e._assign=Q(o),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(i&&e.value.trim()===t)return;if((s||"number"===e.type)&&(0,r.He)(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},ee={deep:!0,created(e,t,n){e._assign=Q(n),b(e,"change",(()=>{const t=e._modelValue,n=re(e),i=e.checked,s=e._assign;if((0,r.kJ)(t)){const e=(0,r.hq)(t,n),o=-1!==e;if(i&&!o)s(t.concat(n));else if(!i&&o){const n=[...t];n.splice(e,1),s(n)}}else if((0,r.DM)(t)){const e=new Set(t);i?e.add(n):e.delete(n),s(e)}else s(ie(e,i))}))},mounted:te,beforeUpdate(e,t,n){e._assign=Q(n),te(e,t,n)}};function te(e,{value:t,oldValue:n},i){e._modelValue=t,(0,r.kJ)(t)?e.checked=(0,r.hq)(t,i.props.value)>-1:(0,r.DM)(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=(0,r.WV)(t,ie(e,!0)))}const ne={created(e,{value:t},n){e.checked=(0,r.WV)(t,n.props.value),e._assign=Q(n),b(e,"change",(()=>{e._assign(re(e))}))},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=Q(i),t!==n&&(e.checked=(0,r.WV)(t,i.props.value))}};function re(e){return"_value"in e?e._value:e.value}function ie(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const se=(0,r.l7)({patchProp:A},c);let oe;function ae(){return oe||(oe=(0,i.Us)(se))}const ce=(...e)=>{const t=ae().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=ue(e);if(!i)return;const s=t._component;(0,r.mf)(s)||s.render||s.template||(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function ue(e){if((0,r.HD)(e)){const t=document.querySelector(e);return t}return e}},577:(e,t,n)=>{"use strict";function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{C_:()=>h,DM:()=>F,E9:()=>ie,F7:()=>T,Gg:()=>H,HD:()=>L,He:()=>ne,Kn:()=>M,NO:()=>E,Nj:()=>te,Od:()=>O,PO:()=>$,Pq:()=>f,RI:()=>A,S0:()=>z,W7:()=>q,WV:()=>g,Z6:()=>_,_A:()=>W,_N:()=>N,aU:()=>X,dG:()=>I,e1:()=>s,fY:()=>r,hR:()=>Y,hq:()=>y,ir:()=>ee,j5:()=>o,kC:()=>J,kJ:()=>R,kT:()=>w,l7:()=>C,mf:()=>P,rs:()=>Q,tI:()=>U,tR:()=>S,yA:()=>p,yk:()=>j,zw:()=>v});const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",s=r(i);function o(e){if(R(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=L(r)?l(r):o(r);if(i)for(const e in i)t[e]=i[e]}return t}return L(e)||M(e)?e:void 0}const a=/;(?![^(]*\))/g,c=/:([^]+)/,u=/\/\*.*?\*\//gs;function l(e){const t={};return e.replace(u,"").split(a).forEach((e=>{if(e){const n=e.split(c);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function h(e){let t="";if(L(e))t=e;else if(R(e))for(let n=0;n<e.length;n++){const r=h(e[n]);r&&(t+=r+" ")}else if(M(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const d="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",f=r(d);function p(e){return!!e||""===e}function m(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=g(e[r],t[r]);return n}function g(e,t){if(e===t)return!0;let n=D(e),r=D(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=j(e),r=j(t),n||r)return e===t;if(n=R(e),r=R(t),n||r)return!(!n||!r)&&m(e,t);if(n=M(e),r=M(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!g(e[n],t[n]))return!1}}return String(e)===String(t)}function y(e,t){return e.findIndex((e=>g(e,t)))}const v=e=>L(e)?e:null==e?"":R(e)||M(e)&&(e.toString===V||!P(e.toString))?JSON.stringify(e,b,2):String(e),b=(e,t)=>t&&t.__v_isRef?b(e,t.value):N(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:F(t)?{[`Set(${t.size})`]:[...t.values()]}:!M(t)||R(t)||$(t)?t:String(t),w={},_=[],I=()=>{},E=()=>!1,k=/^on[^a-z]/,T=e=>k.test(e),S=e=>e.startsWith("onUpdate:"),C=Object.assign,O=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},x=Object.prototype.hasOwnProperty,A=(e,t)=>x.call(e,t),R=Array.isArray,N=e=>"[object Map]"===B(e),F=e=>"[object Set]"===B(e),D=e=>"[object Date]"===B(e),P=e=>"function"===typeof e,L=e=>"string"===typeof e,j=e=>"symbol"===typeof e,M=e=>null!==e&&"object"===typeof e,U=e=>M(e)&&P(e.then)&&P(e.catch),V=Object.prototype.toString,B=e=>V.call(e),q=e=>B(e).slice(8,-1),$=e=>"[object Object]"===B(e),z=e=>L(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,H=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),G=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},K=/-(\w)/g,W=G((e=>e.replace(K,((e,t)=>t?t.toUpperCase():"")))),Z=/\B([A-Z])/g,Q=G((e=>e.replace(Z,"-$1").toLowerCase())),J=G((e=>e.charAt(0).toUpperCase()+e.slice(1))),Y=G((e=>e?`on${J(e)}`:"")),X=(e,t)=>!Object.is(e,t),ee=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},te=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ne=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let re;const ie=()=>re||(re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},70:function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){var e=e||function(e,t){var r;if("undefined"!==typeof window&&window.crypto&&(r=window.crypto),"undefined"!==typeof self&&self.crypto&&(r=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!==typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!==typeof n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(548)}catch(g){}var i=function(){if(r){if("function"===typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"===typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},a=o.lib={},c=a.Base=function(){return{extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=a.WordArray=c.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var s=0;s<i;s++){var o=n[s>>>2]>>>24-s%4*8&255;t[r+s>>>2]|=o<<24-(r+s)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new u.init(t,e)}}),l=o.enc={},h=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},f=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,s=r.sigBytes,o=this.blockSize,a=4*o,c=s/a;c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0);var l=c*o,h=e.min(4*l,s);if(l){for(var d=0;d<l;d+=o)this._doProcessBlock(i,d);n=i.splice(0,l),r.sigBytes-=h}return new u.init(n,h)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(a.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math);return e}))},106:function(e,t,n){(function(t,r){e.exports=r(n(70))})(0,(function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.algo,a=[];(function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0})();var c=o.MD5=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s=this._hash.words,o=e[t+0],c=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],w=e[t+9],_=e[t+10],I=e[t+11],E=e[t+12],k=e[t+13],T=e[t+14],S=e[t+15],C=s[0],O=s[1],x=s[2],A=s[3];C=u(C,O,x,A,o,7,a[0]),A=u(A,C,O,x,c,12,a[1]),x=u(x,A,C,O,f,17,a[2]),O=u(O,x,A,C,p,22,a[3]),C=u(C,O,x,A,m,7,a[4]),A=u(A,C,O,x,g,12,a[5]),x=u(x,A,C,O,y,17,a[6]),O=u(O,x,A,C,v,22,a[7]),C=u(C,O,x,A,b,7,a[8]),A=u(A,C,O,x,w,12,a[9]),x=u(x,A,C,O,_,17,a[10]),O=u(O,x,A,C,I,22,a[11]),C=u(C,O,x,A,E,7,a[12]),A=u(A,C,O,x,k,12,a[13]),x=u(x,A,C,O,T,17,a[14]),O=u(O,x,A,C,S,22,a[15]),C=l(C,O,x,A,c,5,a[16]),A=l(A,C,O,x,y,9,a[17]),x=l(x,A,C,O,I,14,a[18]),O=l(O,x,A,C,o,20,a[19]),C=l(C,O,x,A,g,5,a[20]),A=l(A,C,O,x,_,9,a[21]),x=l(x,A,C,O,S,14,a[22]),O=l(O,x,A,C,m,20,a[23]),C=l(C,O,x,A,w,5,a[24]),A=l(A,C,O,x,T,9,a[25]),x=l(x,A,C,O,p,14,a[26]),O=l(O,x,A,C,b,20,a[27]),C=l(C,O,x,A,k,5,a[28]),A=l(A,C,O,x,f,9,a[29]),x=l(x,A,C,O,v,14,a[30]),O=l(O,x,A,C,E,20,a[31]),C=h(C,O,x,A,g,4,a[32]),A=h(A,C,O,x,b,11,a[33]),x=h(x,A,C,O,I,16,a[34]),O=h(O,x,A,C,T,23,a[35]),C=h(C,O,x,A,c,4,a[36]),A=h(A,C,O,x,m,11,a[37]),x=h(x,A,C,O,v,16,a[38]),O=h(O,x,A,C,_,23,a[39]),C=h(C,O,x,A,k,4,a[40]),A=h(A,C,O,x,o,11,a[41]),x=h(x,A,C,O,p,16,a[42]),O=h(O,x,A,C,y,23,a[43]),C=h(C,O,x,A,w,4,a[44]),A=h(A,C,O,x,E,11,a[45]),x=h(x,A,C,O,S,16,a[46]),O=h(O,x,A,C,f,23,a[47]),C=d(C,O,x,A,o,6,a[48]),A=d(A,C,O,x,v,10,a[49]),x=d(x,A,C,O,T,15,a[50]),O=d(O,x,A,C,g,21,a[51]),C=d(C,O,x,A,E,6,a[52]),A=d(A,C,O,x,p,10,a[53]),x=d(x,A,C,O,_,15,a[54]),O=d(O,x,A,C,c,21,a[55]),C=d(C,O,x,A,b,6,a[56]),A=d(A,C,O,x,S,10,a[57]),x=d(x,A,C,O,y,15,a[58]),O=d(O,x,A,C,k,21,a[59]),C=d(C,O,x,A,m,6,a[60]),A=d(A,C,O,x,I,10,a[61]),x=d(x,A,C,O,f,15,a[62]),O=d(O,x,A,C,w,21,a[63]),s[0]=s[0]+C|0,s[1]=s[1]+O|0,s[2]=s[2]+x|0,s[3]=s[3]+A|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var s=t.floor(r/4294967296),o=r;n[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,s,o){var a=e+(t&n|~t&r)+i+o;return(a<<s|a>>>32-s)+t}function l(e,t,n,r,i,s,o){var a=e+(t&r|n&~r)+i+o;return(a<<s|a>>>32-s)+t}function h(e,t,n,r,i,s,o){var a=e+(t^n^r)+i+o;return(a<<s|a>>>32-s)+t}function d(e,t,n,r,i,s,o){var a=e+(n^(t|~r))+i+o;return(a<<s|a>>>32-s)+t}n.MD5=s._createHelper(c),n.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5}))},389:function(e,t,n){(function(t,r){e.exports=r(n(70))})(0,(function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,s=t.algo,o=[],a=s.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],c=n[4],u=0;u<80;u++){if(u<16)o[u]=0|e[t+u];else{var l=o[u-3]^o[u-8]^o[u-14]^o[u-16];o[u]=l<<1|l>>>31}var h=(r<<5|r>>>27)+c+o[u];h+=u<20?1518500249+(i&s|~i&a):u<40?1859775393+(i^s^a):u<60?(i&s|i&a|s&a)-1894007588:(i^s^a)-899497514,c=a,a=s,s=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a)}(),e.SHA1}))},872:function(e,t,n){(function(t,r){e.exports=r(n(70))})(0,(function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.algo,a=[],c=[];(function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}var r=2,i=0;while(i<64)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),c[i]=n(t.pow(r,1/3)),i++),r++})();var u=[],l=o.SHA256=s.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],l=n[5],h=n[6],d=n[7],f=0;f<64;f++){if(f<16)u[f]=0|e[t+f];else{var p=u[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[f-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[f]=m+u[f-7]+y+u[f-16]}var v=a&l^~a&h,b=r&i^r&s^i&s,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),I=d+_+v+c[f]+u[f],E=w+b;d=h,h=l,l=a,a=o+I|0,o=s,s=i,i=r,r=I+E|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=s._createHelper(l),n.HmacSHA256=s._createHmacHelper(l)}(Math),e.SHA256}))},69:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},315:()=>{function e(t,n,r,i){if(!Array.isArray(n))return n?e.property(t,n,r,i):"__"in t?t["__"]:e.property(t,"__",r=new e.properties(t),i);for(var s in n)e.property(t,n[s],r,i)}function t(e,t){var i;return Number.format(n(e,i=r(e)),t=Number.properties(t)).concat(t.delimiter,Number.BYTE.unit[i])}function n(e,t){return e/Math.BYTE.log[t]}function r(e){for(var t in Math.BYTE.unit)if(e>Math.BYTE.log[Math.BYTE.unit[t]]-1)return Math.BYTE.unit[t];return 0}function i(){}e.properties=class{constructor(t){e.property(this,"__",t)}function(e,t,n){return this.apply(e,t,n)}class(e,t,n){return this.apply(e,t,n)}clone(e,t,n){return this.apply(e,t,n)}on(e,t,n){return this.apply(e,t,n)}set(e,t,n){return this.apply(e,t,n)}apply(t,n,r){if(Array.isArray(t))for(var i in t)e.property(this["__"],t[i],n,r);else e.property(this["__"],t,n,r);return n}export(e){return arguments.length?this["__"].exports=e:this["__"].exports}},e.get=function(e,t,n,r){return Object.defineProperty(e,t,Object.assign({get:n},r)),n},e.set=function(e,t,n,r){return Object.defineProperty(e,t,Object.assign({set:n},r)),n},e.value=function(e,t,n,r){return Object.defineProperty(e,t,Object.assign({value:n},{writable:!0},r)),n},e.property=function(e,t,n,r){return Object.defineProperty(e,t,Object.assign({value:n},r)),n},e.function=function(t,n,r,i){return e.property(t,n,r,i)},e.class=function(t,n,r,i){return e.property(t,n,r,i)},e.descriptor=function(t,n,r){return e.property(e.properties.prototype,t,n,r)},e(Object,"type",(function(e){return typeof e})),e(Object.type,"array",(function(e){return arguments.length?e instanceof Array||"array"===typeof e:Array})),e(Object.type,"boolean",(function(e){return arguments.length?e instanceof Boolean||"boolean"===typeof e:Boolean})),e(Object.type,"date",(function(e){return arguments.length?e instanceof Date||"date"===typeof e:Date})),e(Object.type,"error",(function(e){return arguments.length?e instanceof Error||"error"===typeof e:Error})),e(Object.type,"function",(function(e){return arguments.length?e instanceof Function||"function"===typeof e:Function})),e(Object.type,"number",(function(e){return arguments.length?e instanceof Number||"number"===typeof e:Number})),e(Object.type,"object",(function(e){return arguments.length?e instanceof Object||"object"===typeof e:Object})),e(Object.type,"regex",(function(e){return arguments.length?e instanceof RegExp||"regex"===typeof e:RegExp})),e(Object.type,"promise",(function(e){return arguments.length?e instanceof Promise||"promise"===typeof e:Promise})),e(Object.type,"string",(function(e){return arguments.length?e instanceof String||"string"===typeof e:String})),e(Object.type,"of",(function(e){return Object.prototype.toString.call(e)})),e(Object.type.of,"array",(function(e){return arguments.length?"[object Array]"===Object.type.of(e):"[object Array]"})),e(Object.type.of,"boolean",(function(e){return arguments.length?"[object Boolean]"===Object.type.of(e):"[object Boolean]"})),e(Object.type.of,"date",(function(e){return arguments.length?"[object Date]"===Object.type.of(e):"[object Date]"})),e(Object.type.of,"function",(function(e){return arguments.length?"[object Function]"===Object.type.of(e):"[object Function]"})),e(Object.type.of,"null",(function(e){return arguments.length?"[object Null]"===Object.type.of(e):"[object Null]"})),e(Object.type.of,"number",(function(e){return arguments.length?"[object Number]"===Object.type.of(e):"[object Number]"})),e(Object.type.of,"object",(function(e){return arguments.length?"[object Object]"===Object.type.of(e):"[object Object]"})),e(Object.type.of,"regex",(function(e){return arguments.length?"[object RegExp]"===Object.type.of(e):"[object RegExp]"})),e(Object.type.of,"string",(function(e){return arguments.length?"[object String]"===Object.type.of(e):"[object String]"})),e(Object.is,"object",(function(e){return Object.isObject(e)})),e(Object,"isObject",(function(e){return!Function.isFunction(e)&&(!Array.isArray(e)&&(!!Object.type.of.object(e)||Object.type.object(e)))})),e(Object.is,"array",(function(e){return Array.isArray(e)})),e(Object.is,"string",(function(e){return String.isString(e)})),e(String,"isString",(function(e){return!!Object.type.of.string(e)||Object.type.string(e)})),e(Object.is,"boolean",(function(e){return Boolean.isBoolean(e)})),e(Boolean,"isBoolean",(function(e){return!!Object.type.of.boolean(e)||Object.type.boolean(e)})),e(Object.is,"function",(function(e){return Function.isFunction(e)})),e(Function,"isFunction",(function(e){return!!Object.type.of.function(e)||Object.type.function(e)})),e(Object.is,"date",(function(e){return Date.isDate(e)})),e(Date,"isDate",(function(e){return!!Object.type.of.date(e)||Object.type.date(e)})),e(Object.is,"regex",(function(e){return RegExp.isRegExp(e)})),e(RegExp,"isRegExp",(function(e){return!!Object.type.of.regex(e)||Object.type.regex(e)})),e(Object.is,"buffer",(function(e){return Buffer.isBuffer(e)})),e(Object.is,"number",(function(e){return Number.isNumber(e)})),e(Number,"isNumber",(function(e){return!1===Number.isNaN(Number(e))?!!Object.type.of.number(e)||!!Object.type.of.string(e)&&!!e:Object.type.number(e)})),e(Object.is,"nan",(function(e){return Number.isNaN(e)})),e(Object.is,"integer",(function(e){return Number.isInteger(e)})),e(Object.is,"float",(function(e){return Number.isFloat(e)})),e(Number,"isFloat",(function(e){return!!Number.isNumber(e)&&2===e.toString().split(Number.float()).length})),e(Object.is,"decimal",(function(e){return Number.isDecimal(e)})),e(Number,"isDecimal",(function(e){return Number.isFloat(e)})),e(Object.is,"double",(function(e){return Number.isDouble(e)})),e(Number,"isDouble",(function(e){return Number.isFloat(e)})),e(Object.is,"finite",(function(e){return Number.isFinite(e)})),e(Object.is,"promise",(function(e){return Object.type.promise(e)})),e(Object.is,"stream",(function(e){return Object.type.stream(e)})),e(Object.is,"true",(function(e){return!0===e})),e(Object.is,"false",(function(e){return!1===e})),e(Object.is,"null",(function(e){return!!Object.type.of.null(e)||null===e})),e(Object.is,"define",(function(e){return!Object.un.define(e)})),e(Object.is,"set",(function(e,t){return!Object.un.set(e)})),e(Object.is,"char",(function(e){return["string","number"].includes(Object.type(e))})),e(Object.is,"empty",(function(e){return String.isString(e)?""===e.trim():Number.isNumber(e)?0===Number(e):Array.isArray(e)?0===e.length:Object.isObject(e)?0===Object.length(e):Object.is.define(e)||!1===Object.is.null(e)})),e(Object.is,"ip",(function(e){if(String.isString(e)&&4===(e=e.split(".")).length){for(var t in e){if(!1===Number.isNumber(e[t]))return!1;if(Number(e[t])<0)return!1;if(Number(e[t])>255)return!1}return!0}return!1})),e(Object,"un",(function(e){return!e})),e(Object.un,"define",(function(e){return arguments.length?void 0===e:void 0})),e(Object.un,"set",(function(e){return!!Object.un.define(e)||!!Object.is.null(e)})),e(Object.un,"char",(function(e){return Function.isFunction(e)||Object.isObject(e)||Array.isArray(e)})),e(Object,"to",(function(){})),e(Object.to,"array",(function(e){return Object.values(e)})),e(Object.to,"string",(function(e){return Object.is.set(e)?e.toString():""})),e(Object.to,"number",(function(e){return Number.isNumber(Object.to.string(e).trim())?Number(e):0})),e(Object.to,"integer",(function(e){return Number.isNaN(e=parseInt(e))?0:e})),e(Object.to,"float",(function(e){return Number.isNaN(e=parseFloat(e))?0:e})),e(Object.to,"boolean",(function(e){return Boolean.isBoolean(e)?e:!![1].concat(Object.to_bool["true"]).includes(e)||![0].concat(Object.to_bool["false"]).includes(e)&&!!e})),e(Object,"to_boolean",(function(e){return Object.is_true(e)?"true":"false"})),e(Object,"to_bool",(function(e,t="default"){return t=Object.to_bool[t],Object.is_true(e)?t.true:t.false})),e.value(Object.to_bool,"true",["true","enable","on","yes","y"]),e.value(Object.to_bool,"false",["false","disable","off","no","n"]),e.value(Object.to_bool,"default",{true:"enable",false:"disable"}),e.value(Object.to_bool,"switch",{true:"on",false:"off"}),e(Object,"is_true",(function(e){return!0===e||Object.to_bool["true"].includes(e)})),e(Object,"is_false",(function(e){return!1===e||Object.to_bool["false"].includes(e)})),e(Object,"on",{}),e(Object,"descriptor",(function(){return e.property(Object.prototype,key,value,option)})),e(Object,"init",(function(e){var t=Object.empty();for(var n in e)t[n]=e[n];return e?t:e})),e(Object,"only",(function(e){var t=Object.empty(),n=Object.keys(e);for(var r in n)t[n[r]]=e[n[r]];return t})),e(Object,"concat",(function(...e){var t=Object.empty();for(var n in e)for(var r in e[n])t[r]=e[n][r];return t})),e(Object,"empty",(function(){return Object.assign({})})),e(Object,"exist",(function(e,t,n){return Object.values(t).includes(e,n)})),e(Object,"find",(function(e,t){})),e(Object,"filter",(function(e,t){var n=Object.empty();for(var r in e)!0===t(e[r],r,e)&&(n[r]=e[r]);return n})),e(Object,"flip",(function(e){var t=Object.empty();for(var n in e)t[e[n]]=n;return t})),e(Object,"format",(function(e,t,n){if(t=t.toString())for(var r in n=Object.keys.format(e,n))t=t.replace(r,n[r]);return t})),e(Object,"get",(function(e,t,n){return t in e?e[t]:n})),e(Object,"has",(function(e,t){return e in t})),e(Object,"length",(function(e){var t=0;for(var n in e)t++;return t})),e(Object,"join",(function(e,t){if(t)for(var n in t)Object.is.object(t[n])?e[n]=Object.join(e[n],t[n]):e[n]=t[n];return e})),e(Object,"replace",(function(e,t){if(t=t.toString())for(var n in e)t=t.replace(n,e[n]);return t})),e(Object,"merge",(function(e,t){if(null===e)return null;if(null===t)return null;var n={};for(var r in e)n[r]=e[r];for(var r in t)Object.is.object(t[r])&&Object.is.object(n[r])?n[r]=Object.merge(n[r],t[r]):n[r]=t[r];return n})),e(Object,"__merge",(function(e,t){var n=Object.init(e);if(e)for(var r in t)r in n&&Object.is.object(n[r])?n[r]=Object.merge(n[r],t[r]):n[r]=t[r];return n})),e(Object,"step",(function(e,t,n="."){if(t.includes(n)){var r={},i=t.split(n);for(var s in e)r[s]=e[s];for(var s in i){if(!Object.is.object(r))return;if(!(i[s]in r))return;r=r[i[s]]}return r}return e[t]})),e(Object,"__step",(function(e,t,n="."){if(t.includes(n)){var r=Object.init(e),i=t.split(n);for(var s in i)i[s]in r&&(r=r[i[s]]);return r}return e[t]})),e(Object.keys,"exist",(function(e,t,n){return Object.keys(t).includes(e,n)})),e(Object.keys,"find",(function(e,t){for(var n in t)if(t[n]===e)return n})),e(Object.keys,"format",(function(e,t=String.format.key){e=Object.only(e);var n=Object.empty();if(Object.is.string(t))for(var r in e)n[t.replace(String.format.key,r)]=e[r];if(Object.is.object(t))for(var r in e)Object.is.object(e[r])&&(n[r]=Object.keys.format(e[r],t)),t[r]?(n[t[r]]=e[r],delete n[r]):n[r]=e[r];return n})),e(Object,"key",Object.keys),e(Object,"value",Object.values),e(Object,"default",(function(e,t){return Object.is.set(e)?e:t})),e(Object,"id",(function(e){if(arguments.length){var t;try{t=new Function.ObjectID(e)}catch(n){t=e}return t}return Function.ObjectID()})),e(Array,"descriptor",(function(t,n,r){return e.property(Array.prototype,t,n,r)})),e(Array.prototype,"string",(function(){return this.toString()})),e(Array.prototype,"begin",(function(e=""){for(var t in this)return this[t];return e})),e(Array.prototype,"clone",(function(){var e=[];for(var t in this)e.push(this[t]);return e})),e(Array.prototype,"end",(function(e=""){for(var t in this)e=this[t];return e})),e(Array.prototype,"exist",(function(e,t){return this.includes(e,t)})),e(Array.prototype,"for",(function(e){this.forEach(e)})),e(Array.prototype,"include",(function(e,t){for(var n in e){if(this.includes(e[n],t))continue;return!1}return!0})),e(Array.prototype,"have",(function(e,t){for(var n in e)if(this.includes(e[n],t))return!0;return!1})),e(Array.prototype,"index",(function(e,t){var n;return n=Object.is.function(e)?this.slice(t).findIndex(e):this.indexOf(e,t),Function.indexOf(n)})),e(Array.prototype,"max",(function(){return Math.max(...this)})),e(Array.prototype,"min",(function(){return Math.min(...this)})),e(Array.prototype,"rand",(function(){return this[(this.length-1).shuffle()]})),e(Array.prototype,"replace",(function(e,t,n){var r;if(t=t.toString())for(var i in r=this.slice(n))t=t.replace(r[i],e);return t})),e(Array.prototype,"shuffle",(function(e){var t=this.slice(e),n=(this.length-1).decrease();for(var r in n){var i=n[r].shuffle(),s=t[n[r]];t[n[r]]=t[i],t[i]=s}return t})),e(Array.prototype,"unique",(function(){return Array.from(new Set(this))})),e(Array.prototype,"trim",(function(){var e=[];for(var t in this)e.push(this[t].toString().trim());return e})),e(Array.prototype,"key",(function(){var e=[];for(var[t]of this.entries())e.push(t);return e})),e(Array.prototype,"value",(function(){return this})),e(Array.prototype,"insert",(function(e,...t){return this.splice(e,0,...t)})),e(Array.prototype,"update",(function(e,...t){return this.splice(e,1,...t)})),e(Array.prototype,"delete",(function(e,t=1){return Object.is.string(e)?this.filter((function(t){return t!==e})):this.splice(e,t)})),e(Array.prototype,"implode",(function(e=""){return e===String.space&&(e=String.char.space),this.join(e)})),e(Array.prototype,"next",(function(e){return this[Number(e)+1]})),e(Array.prototype,"previous",(function(e){return this[Number(e)-1]})),e(Array.prototype,"single",(function(){for(var e in this)return this[e]})),e(Array.prototype,"count",(function(e,t){if(arguments.length){if(Object.is.object(e)){var n=[],r=0,i=Object.length(e),s=Object.is.function(e);for(var o in this){var a=0;if(s){if(!0!==s(this[o],o,e))continue;a++}else for(var c in e)Object.step(this[o],c)===e[c]&&a++;a===i&&(t&&n.push(this[o]),r++)}return t?n:r}n=this.slice(t),r=0;for(var o in n)n[o]===e&&r++;return r}return this.length-1})),e(Array.prototype,"distinct",(function(e){var t=[];for(var n in this){var r=Object.step(this[n],e);!1===t.includes(r)&&r&&t.push(r)}return t})),e(Array.prototype,"select",(function(e,t,n=""){1===arguments.length&&(t=e)&&(e=null);var r=Object.length(t);for(var i in this){var s=0;for(var o in t)this[i][o]===t[o]&&s++;if(s===r)return e?"*"===e?this[i]:this[i][e]:this[i]}return n})),e(String,"descriptor",(function(t,n,r){return e.property(String.prototype,t,n,r)})),e(String.prototype,"value",(function(){return this.valueOf()})),e(String.prototype,"string",(function(){return this.toString()})),e(String.prototype,"number",(function(){return Object.to.number(this)})),e(String.prototype,"integer",(function(){return Object.to.integer(this)})),e(String.prototype,"float",(function(){return Object.to.float(this)})),e(String.prototype,"char",(function(){return String.char(this)})),e(String.prototype,"md",(function(){return Function.hash.md(this)})),e(String.prototype,"sha",(function(e){return e?Function.hash.sha.one(this):Function.hash.sha(this)})),e(String.prototype,"after",(function(e,t){return(t=this.indexOf(e,t))>=0?this.substr(t+e.length):""})),e(String.prototype,"before",(function(e,t){return(t=this.indexOf(e,t))>=0?this.substr(0,t):""})),e(String.prototype,"begin",(function(e=1,t){return Object.is.string(e)?this.startsWith(e,t):this.substr(0,e)})),e(String.prototype,"big",(function(){return this.toUpperCase()})),e(String.prototype,"count",(function(e,t){return arguments.length?this.substr(t).split(e).length-1:this.length-1})),e(String.prototype,"decode",(function(){return String.decode(this)})),e(String.prototype,"delete",(function(e){return this.split(e).implode()})),e(String.prototype,"encode",(function(e){return"base"===e?String.encode(this):"md"===e?this.md():"sha"===e?this.sha():"sha:one"===e?this.sha_one():String.encode(this)})),e(String.prototype,"end",(function(e=1,t){return Object.is.string(e)?this.endsWith(e,t):this.substr(-e)})),e(String.prototype,"exist",(function(e,t){return this.includes(e,t)})),e(String.prototype,"format",(function(...e){if(Function.util&&Function.util.format)return Function.util.format(this.toString(),...e);var t=this.split(String.format.key),n=1;for(var r in e)t.splice(n,0,e[r]),n+=2;return t.implode()})),e(String.prototype,"include",(function(e,t){for(var n in e){if(this.includes(e[n],t))continue;return!1}return!0})),e(String.prototype,"index",(function(e,t){return Function.indexOf(this.indexOf(e,t))})),e(String.prototype,"pad",(function(e,t,n="begin"){return"begin"===n?this.padStart(t,e):"end"===n?this.padEnd(t,e):this})),e(String.prototype,"pop",(function(e=1){return Object.is.string(e)?this.substr(0,this.length-e.length):this.substr(0,this.length-e)})),e(String.prototype,"pos",(function(e,t=1){return this.substr(e,t)})),e(String.prototype,"rand",(function(){return this[(this.length-1).shuffle()]})),e(String.prototype,"replace",(function(e,t){return Object.is.regex(e)?e[Symbol.replace](this,t):this.split(e).join(t)})),e(String.prototype,"reverse",(function(){return this.explode().reverse().implode()})),e(String.prototype,"shift",(function(e=1){return Object.is.string(e)?this.substr(e.length):this.substr(e)})),e(String.prototype,"shuffle",(function(){return this.explode().shuffle().implode()})),e(String.prototype,"small",(function(){return this.toLowerCase()})),e(String.prototype,"splice",(function(e=1,t){if("end"===t)return this.reverse().splice(e).map((function(e){return e.reverse()})).reverse();var n=[],r=[];t=e;for(var i in this)r.push(this[i]),i==t-1&&(n.push(r.implode()),r=[],t+=e);return r.length&&n.push(r.implode()),n})),e(String.prototype,"trim",(function(e){if(e===String.space)return this.delete(String.char.space);if("begin"===e)return this.trimStart();if("end"===e)return this.trimEnd();var t=this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");if(e){for(var n in e=[],t=t.split(String.char.space))t[n]&&e.push(t[n]);return e.join(String.char.space)}return t})),e(String.prototype,"explode",(function(e=""){return e===String.space&&(e=String.char.space),this.split(e)})),e(String.prototype,"implode",(function(e,t=""){return e?this.concat(String.char.space,t,e):this})),e(String.prototype,"uc_begin",(function(){return this.substr(0,1).toUpperCase()+this.substr(1)})),e(String.prototype,"uc_word",(function(){var e=this.split(String.char.space),t=[];for(var n in e)t.push(e[n].uc_begin());return t.join(String.char.space)})),e(String,"decode",(function(e){return atob(e)}),{writable:!0}),e(String,"encode",(function(e){return btoa(e)}),{writable:!0}),e(String,"format",(function(e,t){return Object.to.string(e).split(String.format.key).join(t)})),e.value(String.format,"key","%s"),e(String,"empty",(function(e=""){return e})),e(String,"space",(function(){})),e(String,"char",(function(e){return e.charCodeAt()})),e.value(String.char,"alpha",{small:"abcdefghijklmnopqrstuvwxyz",big:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",numeric:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"}),e.value(String.char,"separator",{eol:"; ",c:", "}),e.value(String.char,"under",{score:"_"}),e.value(String.char,"coma",","),e.value(String.char,"space"," "),e.value(String.char,"equal","="),e.value(String.char,"ls",":"),e.value(String.char,"eol",";"),e.value(String.char,"protocol","://"),e.value(String.char,"special",["-","_","."]),e(String.char,"line",(function(){return"\r\n"})),e(String.char,"ln",(function(e,t){return arguments.length?t?"\n".concat(e):e.concat("\n"):"\n"})),e(String.char.ln,"r",(function(e,t){return arguments.length?t?"\r".concat(e):e.concat("\r"):"\r"})),e(String.char.ln,"tab",(function(e,t){return arguments.length?t?"\t".concat(e):e.concat("\t"):"\t"})),e(Math,"BYTE",(function(){})),e(Math.BYTE,"log",[],{configurable:!0,enumerable:!0,writable:!0}),e(Math.BYTE,"unit",[],{configurable:!0,enumerable:!0,writable:!0}),e.get(Number.prototype,"length",(function(){return this.toString().length})),e(Number,"char",String.char.alpha.number),e(Number,"count",(function(e){return e++,e})),e(Number,"descriptor",(function(t,n,r){return e.property(Number.prototype,t,n,r)})),e(Number.prototype,"string",(function(){return this.toString()})),e(Number.prototype,"number",(function(){return Number(this)})),e(Number.prototype,"integer",(function(){return parseInt(this)})),e(Number.prototype,"float",(function(){return parseFloat(this)})),e(Number.prototype,"char",(function(){return String.fromCharCode(this)})),e(Number.prototype,"second",(function(){return 1e3*this})),e(Number.prototype,"absolute",(function(){return Math.abs(this)})),e(Number.prototype,"ceil",(function(){return Math.ceil(this)})),e(Number.prototype,"decrease",(function(e=0,t=1){var n=[];if(this>=e)for(var r=this;r>=e;r-=t)n.push(r);return n})),e(Number.prototype,"exponent",(function(e){return Math.pow(this,e)})),e(Number.prototype,"floor",(function(){return Math.floor(this)})),e(Number.prototype,"increase",(function(e,t=1){var n=[];if(this<=e)for(var r=this;r<=e;r+=t)n.push(r);return n})),e(Number.prototype,"log",(function(){return Math.log(this)})),e(Number.prototype,"rand",(function(e=0){var t=[this,e],n=Math.min(...t),r=Math.max(...t);return(r-n).absolute().shuffle()+n})),e(Number.prototype,"round",(function(){return Math.round(this)})),e(Number.prototype,"shuffle",(function(){return Math.floor(Math.random()*(this+1))})),e(Number.prototype,"percent",(function(e){return this/100})),e(Number.prototype,"percentage",(function(e){return this/e*100})),e(Number.prototype,"stamp",(function(){return Number(this.toString().padEnd(Date.stamp.length,"0"))})),e(Number.prototype,"format",(function(e){return Number.format(this,e)})),e(Number.prototype,"KB",(function(){return this*Number.BYTE.log})),e(Number.prototype,"MB",(function(){return this*(Number.BYTE.log*Number.BYTE.log)})),e(Number.prototype,"GB",(function(){return this*(Number.BYTE.log*Number.BYTE.log*Number.BYTE.log)})),e(Number.prototype,"TB",(function(){return this*(Number.BYTE.log*Number.BYTE.log*Number.BYTE.log*Number.BYTE.log)})),e(Number,"format",(function(e,n){if(!0===(n=Number.properties(n)).byte)return n.byte=!1,t(e,n);e=e.toString().split(Number.float());var r=e[0],i=e[1],s=r.reverse().splice(n.thousand).join(n.separator).reverse();return i&&(s=s.concat(n.float,i.begin(n.decimal))),s})),e(Number.format,"extra",(function(e,t){return Number.format(Number.format.special(e),t)})),e(Number.format,"clear",(function(e){return Number(Number.format.special(e))})),e(Number.format,"special",(function(e){return Object.to.string(e).delete(".").delete(",")})),e(Number,"BYTE",class{constructor(){for(var[e]of(Math.BYTE.log=[],Math.BYTE.unit=Number.BYTE.unit.key().reverse(),Number.BYTE.unit.entries()))Math.BYTE.log.push(Number.BYTE.log.exponent(e))}}),e(Number.BYTE,"log",1024),e(Number.BYTE,"unit",["B","KB","MB","GB","TB"]),e(Number.BYTE,"name",{B:"BYTE",KB:"KILOBYTE",MB:"MEGABYTE",GB:"GIGABYTE",TB:"TERABYTE",PB:"PETABYTE",EB:"EXABYTE",ZB:"ZETTABYTE",YB:"YOTTABYTE"}),e(Number,"properties",(function(e){return Object.assign({thousand:Number.thousand(),decimal:Number.decimal(),separator:Number.separator(),delimiter:Number.delimiter(),float:Number.float(),byte:!1},e)})),e(Number,"thousand",(function(e){return arguments.length&&(Number.thousand.value=e),Number.thousand.value})),e.value(Number.thousand,"value",3),e(Number,"decimal",(function(e){return arguments.length&&(Number.decimal.value=e),Number.decimal.value})),e(Number.decimal,"format",(function(e,t){return e=Object.to.string(e).split((t=Number.properties(t)).float),e[1]=Object.to.string(e[1]).substr(0,t.decimal),""===e[1]&&(e[1]="0".repeat(t.decimal)),t.pad?e.join(Number.float()):Number(e.join(Number.float()))})),e.value(Number.decimal,"value",3),e(Number,"separator",(function(e){return arguments.length&&(Number.separator.value=e),Number.separator.value})),e.value(Number.separator,"value",","),e(Number,"delimiter",(function(e){return arguments.length&&(Number.delimiter.value=e),Number.delimiter.value})),e.value(Number.delimiter,"value"," "),e(Number,"float",(function(e){return arguments.length&&(Number.float.value=e),Number.float.value})),e.value(Number.float,"value",.5.toString().substr(1,1)),new Number.BYTE,e(Function,"byte",Number.BYTE),e(Function,"define",e),e(Function,"void",(function(){})),e(Function,"__void",(function(){})),e(Function,"__void__",(function(){})),e(Function,"un_define",(function(){})),e(Function,"indexOf",(function(e){if(e>=0)return e})),e(Function,"lastIndexOf",(function(e){})),e(Function,"__of","pro"),e(Function,Function.__of,(function(t){return e(Function[Function.__of],t,(function(e,n){return arguments.length>1?Function[Function.__of][t].__data[e]=n:e?Function[Function.__of][t].__data[e]:Function[Function.__of][t].__data})),e(Function[Function.__of][t],"value",(function(e){return arguments.length?Function[Function.__of][t].value.__data=e:Function[Function.__of][t].value.__data})),e.value(Function[Function.__of][t],"__data",{}),Function[Function.__of][t]})),e(Function,"context",(function(){var e=Function.argument.of(arguments),t=e.object,n=e.function;if(n)return t?n.bind(t):n})),e(Function,"event",class{constructor(t){this.event={listener:{},priority:{}},t&&Object.is.function(t)&&"event"in t===!1&&(e.property(t,"event",this),e.property(t,"on",function(e,t){this.event.on(e,t)}.bind({event:this})),e.property(t,"emit",function(e,...t){this.event.emit(e,...t)}.bind({event:this})))}on(e,t,n){return e in this.event.listener===!1&&(this.event.listener[e]=[],this.event.priority[e]=[]),n?this.event.priority[e][n]?this.event.priority[e][n].push(t):this.event.priority[e][n]=[t]:this.event.listener[e].push(t),this}emit(e,...t){for(var n in this.event.priority[e])for(var r in this.event.priority[e][n])this.event.priority[e][n][r].call(this.event.emitter,...t);for(var n in this.event.listener[e])this.event.listener[e][n].call(this.event.emitter,...t);return this}}),e(Function.event,"listener",(function(e,t,n){return e.addEventListener(t,n)})),e.value(Function.event,"loop",{}),e.value(Function.event,"list",{}),e(Function,"emitter",class{constructor(...e){this.emitter=e}next(...e){return this.then(...e).catch()}then(...e){return this.context=Function.context(...e),this.error?this.emit():this}catch(e){return this.context?this.emit(e):(this.error=e,this)}emit(e){return(e||this.error||console.log).call(null,...this.emitter)}}),e(Function,"argument",(function(){var e={length:arguments.length};for(var t in arguments)Object.is.object(arguments[t])?e.object=arguments[t]:Object.is.array(arguments[t])?e.array=arguments[t]:Object.is.string(arguments[t])?e.string=arguments[t]:Object.is.integer(arguments[t])?e.integer=arguments[t]:Object.is.number(arguments[t])?e.number=arguments[t]:Object.is.function(arguments[t])?e.function=arguments[t]:e.of=arguments[t];return e})),e(Function.argument,"of",(function(e){var t={length:e.length};for(var n in e)Object.is.object(e[n])?t.object=e[n]:Object.is.array(e[n])?t.array=e[n]:Object.is.string(e[n])?t.string=e[n]:Object.is.integer(e[n])?t.integer=e[n]:Object.is.number(e[n])?t.number=e[n]:Object.is.function(e[n])?t.function=e[n]:t.of=e[n];return t})),e(Function,"option",(function(e,t,n=!0){return n?Object.assign({},t,e):Object.assign({},e,t)})),e(Function.option,"of",(function(e,t,n=!0){return n?Object.merge(t,e):Object.merge(e,t)})),e(Function.option,"set",(function(e,t,n){if(!Object.is.object(e))return{};if(!Object.is.object(t)){if(t.includes(":")){var r=t.split(":"),i=r[0],s=r[1];return Object.is.object(e[i])?e[i][s]=n:e[i]={[s]:n},n}return e[t]=n}for(var o in t)e[o]=t[o]})),e(Function,"optional",(function(e,t={}){var n={};for(var r in e)r in t?n[t[r]]=e[r]:n[r]=e[r];return n})),e(Function.optional,"of",(function(e,t){var n={};if(t=Object.flip(t))for(var r in e)r in t?n[t[r]]=e[r]:n[r]=e[r];return n})),e(Function,"setting",Function.pro("setting")),e(Function,"system",(function(){})),e(Function,"plugin",(function(){})),e(Function,"debug",(function(){})),e(Function,"log",(function(){})),e(Function,"echo",(function(){Function.setting("debug")&&console.log(...arguments)})),e(Function,"print",(function(){Function.setting("debug")&&console.log(...arguments)})),e(Function,"promise",class{constructor(...e){this.promise=new Promise(Function.context(...e))}next(...e){return this.then(...e).catch()}then(...e){return this.context=Function.context(...e),this.error?this.emit():this}catch(e){return this.context?this.emit(e):(this.error=e,this)}emit(e){return this.promise.then(this.context).catch(e||this.error||function(e){console.log("promise:error",e)})}}),e(Function.promise,"call",(function(e,...t){return new Promise(function(e,t){this.promise.call({resolve:e,reject:t},...this.arg)}.bind({promise:e,arg:t}))})),e(Function.promise,"all",(function(...e){return Promise.all(...e)})),e(Function.promise,"resolve",(function(...e){return Promise.resolve(...e)})),e(Function.promise,"reject",(function(...e){return Promise.reject(...e)})),e(Function.promise,"then",(function(e){return new Promise((function(t,n){t(e)}))})),e(Function.promise,"catch",(function(e){return new Promise((function(t,n){n(e)}))})),e(Date,"Time",class{constructor(e,t){this.option={zone:{year:0,month:0,day:0,hour:0,minute:0,second:0,ms:0},month:{name:[]},day:{name:[]}},this.option.month.name=t.month.name||Date.month.name,this.option.day.name=t.day.name||Date.day.name,this.get={year:0,month:0,day:0,hour:0,minute:0,second:0,ms:0},this.date={input:e},this.zone(t.zone)}use(e,t){"month:name"===e&&t&&(this.option.month.name=t),"day:name"===e&&t&&(this.option.day.name=t)}zone(e){if(e)for(var t in e)this.option.zone[t]=e[t];return this.set()}input(){return this.date.input=arguments,this.set()}offset(){var e,t;for(var n in arguments)"object"===typeof arguments[n]&&(e=arguments[n]),"number"===typeof arguments[n]&&(t=arguments[n]);return t?new Date.Time([t],this.option).set(e):this}set(e){if(null===e)return{year:{s:this.get.year,pad:this.get.year.toString()},month:{s:this.get.month,name:this.option.month.name[this.get.month],pad:Date.pad(this.get.month+1)},day:{s:this.get.day,name:this.option.day.name[this.get.week],pad:Date.pad(this.get.day)},hour:{s:this.get.hour,pad:Date.pad(this.get.hour),suffix:{pad:Date.pad(this.get.hour>12?this.get.hour-12:this.get.hour)},map:this.get.hour>=12?"PM":"AM"},minute:{s:this.get.minute,pad:Date.pad(this.get.minute)},second:{s:this.get.second,pad:Date.pad(this.get.second)},ms:this.get.ms,week:this.get.week,stamp:this.get.stamp,sub:{stamp:this.get.sub.stamp}};e=Date.offset(e);var t=new Date(...this.date.input),n=t.getStamp();return t=Date.property(new Date(n-Date.universal.offset),n),t=new Date(t.year+e.year+this.option.zone.year,t.month+e.month+this.option.zone.month,t.day+e.day+this.option.zone.day,t.hour+e.hour+this.option.zone.hour,t.minute+e.minute+this.option.zone.minute,t.second+e.second+this.option.zone.second,t.ms+e.ms+this.option.zone.ms),this.get=Date.property(t,n),this}object(){var e=this.set(null);return{Y:e.year.pad,M:e.month.pad,F:e.month.name,D:e.day.pad,L:e.day.name,H:e.hour.pad,I:e.minute.pad,S:e.second.pad,Q:e.ms,A:e.hour.map,J:e.hour.suffix.pad,W:e.week,X:e.stamp,Z:e.sub.stamp}}format(){var e,t,n="default";for(var r in arguments)if(arguments[r])if(Object.is.number(arguments[r]))t=Number(arguments[r]);else if(Object.is.string(arguments[r]))n=arguments[r];else{if(!Object.is.object(arguments[r]))break;e=arguments[r]}if(t)return this.offset(t,e).format(n);if(e)return this.offset(this.get.stamp,e).format(n);var i=[],s=this.object();for(var r in n=Date.format()[n||"default"]||n,n=n.explode(),n)i.push(s[n[r]]||n[r]);return i.implode()}}),e(Date.prototype,"getStamp",(function(){return this.getTime().stamp()})),e(Date,"universal",(function(e){var t=new Date;if(e&&(e=Date.offset(e)))return Date.universal.offset=Date.now()-new Date(t.getUTCFullYear()+e.year,t.getUTCMonth()+e.month,t.getUTCDate()+e.day,t.getUTCHours()+e.hour,t.getUTCMinutes()+e.minute,t.getUTCSeconds()+e.second,t.getUTCMilliseconds()+e.ms).getStamp()})),e.value(Date.universal,"offset",0),e(Date,"zone",(function(e){if(e)for(var t in e)Date.zone.offset[t]=e[t]})),e.value(Date.zone,"universal",{name:"Universal",base:{name:"UTC"},c:{name:"Universal"},offset:{hour:0,minute:0}}),e(Date,"stamp",(function(e,t){return e?(e=new Date(e))&&t&&(t=Date.offset(t))?new Date(e.getFullYear()+t.year,e.getMonth()+t.month,e.getDate()+t.day,e.getHours()+t.hour,e.getMinutes()+t.minute,e.getSeconds()+t.second,e.getMilliseconds()+t.ms).getStamp():e.getStamp():Date.now().stamp()})),e.value(Date.stamp,"length",13),e(Date,"sleep",(function(e,t=1,...n){return setTimeout(e,Object.to.number(t).second(),...n)})),e(Date.sleep,"clear",(function(e){clearTimeout(e)})),e(Date,"interval",(function(e,t=1,...n){return setInterval(e,Object.to.number(t).second(),...n)})),e(Date.interval,"clear",(function(e){clearInterval(e)})),e(Date,"expire",(function(e,t,n){return new Date(...Date.properties(new Date(t),n)).getStamp()<e})),e(Date,"offset",(function(e){return Object.assign({year:0,month:0,day:0,hour:0,minute:0,second:0,ms:0},e)})),e(Date,"pad",(function(e,t=2){return Object.to.string(e).padStart(t,"0")})),e(Date,"format",(function(e,t){return t?Date.format.value[e]=t:e?Date.format.value[e]:Date.format.value})),e.value(Date.format,"value",{default:"L, F D, Y - H:I:S A",common:"L, F D, Y",date:"Y-M-D","date:x":"Y-M","date:s":"YMD","date:c":"YM","date:time":"Y-M-D H:I:S",time:"H:I:S","time:x":"H:I","time:s":"HIS","time:c":"HI",factory:"D/M/Y"}),e.value(Date,"month",{name:["January","February","March","April","May","June","July","August","September","October","November","December"]}),e.value(Date,"day",{name:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}),e(Date.Time,"zone",(function(e,t){if(!t)return e in Date.Time.zone.value?Date.Time.zone.value[e]:["*","universal"].includes(e)?Date.zone.universal:e?null:Date.Time.zone.value;Date.Time.zone.value[e]=t})),e(Date.Time.zone,"exist",(function(e){return e in Date.Time.zone.value})),e.value(Date.Time.zone,"value",{"asia/jakarta":{name:"Indonesia Jakarta",base:{name:"Asia/Jakarta"},c:{name:"Indonesia"},offset:{hour:7,minute:0}},"asia/seoul":{name:"South Korea Seoul",base:{name:"Asia/Seoul"},c:{name:"South Korea"},offset:{hour:9,minute:0}},"asia/tokyo":{name:"Japan Tokyo",base:{name:"Asia/Tokyo"},c:{name:"Japan"},offset:{hour:9,minute:0}},"asia/singapore":{name:"Singapore",base:{name:"Asia/Singapore"},c:{name:"Singapore"},offset:{hour:8,minute:0}},"asia/shanghai":{name:"China Shanghai",base:{name:"Asia/Shanghai"},c:{name:"China"},offset:{hour:8,minute:0}},"asia/hong_kong":{name:"Hong Kong",base:{name:"Asia/Hong_Kong"},c:{name:"Hong Kong"},offset:{hour:8,minute:0}},"asia/taipei":{name:"Taiwan Taipei",base:{name:"Asia/Taipei"},c:{name:"Taiwan"},offset:{hour:8,minute:0}},"asia/kuala_lumpur":{name:"Malaysia Kuala Lumpur",base:{name:"Asia/Kuala_Lumpur"},c:{name:"Malaysia"},offset:{hour:8,minute:0}},"asia/qatar":{name:"Qatar",base:{name:"Asia/Qatar"},c:{name:"Qatar"},offset:{hour:3,minute:0}},"asia/dubai":{name:"United Arab Emirate (UAE) Dubai",base:{name:"Asia/Dubai"},c:{name:"United Arab Emirate (UAE)"},offset:{hour:4,minute:0}}}),e(Date,"create",(function(e){var t=function(...e){return new Date.Time(e,this.option)};return t.bind({option:e})})),e(Date,"property",(function(e,t){return t||(t=e.getStamp()),{year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),ms:e.getUTCMilliseconds(),week:e.getDay(),sub:{stamp:e.getStamp()},stamp:t}})),e(Date,"properties",(function(e,t){return t=Date.offset(t),[e.getFullYear()+t.year,e.getMonth()+t.month,e.getDate()+t.day,e.getHours()+t.hour,e.getMinutes()+t.minute,e.getSeconds()+t.second,e.getUTCMilliseconds()+t.ms]})),e.value(URL,"__protocol",{"*":"url",file:"file","file:transport":"ftp","file-transport:secure":"ftps",scheme:"http","scheme:secure":"https"}),e.value(URL,"__host",{local:{name:"localhost",ip:"127.0.0.1"},"*":"0.0.0.0"}),e.value(URL,"__port",80),e.value(URL,"__path","/"),e.value(URL,"favorite.ico","/favicon.ico"),e.value(URL,"package.json","./package.json"),e.value(URL,"package-lock","./package-lock.js"),e.value(URL,"src","./src"),e(Object.is,"url",(function(e){return URL.is(e)})),e(Object.is.url,"host",(function(e){return URL.is.host(e)})),e(URL,"is",(function(e){try{return!!new URL(e)}catch(t){return!1}})),e(URL.is,"host",(function(e){return!!Object.is.ip(e.host.name)||!!e.domain.name})),e(URL,"decode",(function(e){return decodeURIComponent(e)})),e(URL,"encode",(function(e){return encodeURIComponent(e)})),e(URL,"format",(function(e,t){return t=Function.option(t),"socket"===t.protocol?(e=e.replace("http://","ws://"),e=e.replace("https://","wss://"),e):"socket:io"===t.protocol?(e=e.replace("ws://","http://"),e=e.replace("wss://","https://"),e):Object.is.string(e)?e?URL.protocol(e,t.protocol)||Object.is.url(e)?e:URL.protocol.format(t.protocol).concat(e):void 0:Object.is.object(e)?(e=Object.assign({protocol:URL.protocol.scheme(),host:URL.host("*")},e),e.protocol=URL.protocol.format(e.protocol),e.query=URL.query.format(e.query),e.account=URL.account.format(e),e.port=URL.port.format(e),e.path=URL.path.format(e),e.protocol+e.account+e.host+e.port+e.path+e.query):e})),e(URL,"parse_url",(function(e,t){return(e=URL.parse(e,t))?e:URL.parse_url.property()})),e(URL.parse_url,"property",(function(e){return"domain"===e?{name:"",base:{name:""},extension:"",sub:URL.domain.sub(),"*":""}:{reference:"",location:"",protocol:"",host:{name:"",base:{name:""},"*":""},port:"",user:"",password:"",search:"",query:{},path:"",tag:"",domain:{name:"",base:{name:""},extension:"",sub:URL.domain.sub(),"*":""},name:""}})),e(URL,"parse",(function(e,t,n=!0){var r,i=URL.parse.component(e);return t=Function.option(t,{strict:!1,protocol:URL.protocol(),host:URL.host("*"),path:URL.path()}),i?(t.referer&&(i.referer=URL.parse(t.referer)),i.location=URL.protocol.format(i.protocol).concat(i.host.base.name),(i.domain=URL.parse_url.property("domain"))&&(r=URL.parse.element(i.host.name,t.domain))&&(i.host["*"]="."+(i.domain.name=r.domain),i.domain.base.name=r.name,i.domain.extension=r.extension,i.domain.sub=r.sub,i.domain["*"]=r["*"]),i.name=i.domain.name||i.host.name,i.search&&(i.query=URL.query.parse(i.search,t.query)),i.port&&(i.port=Number(i.port)),(!0!==t.strict||!1!==t.protocol.includes(i.protocol))&&i):!(!0!==n||!(e=URL.parse(URL.protocol.format().concat(e),t,!1)))&&e})),e(URL.parse,"component",(function(e){try{return e.includes("://")?!!(e=new URL(e))&&{reference:e.href,location:"",protocol:e.protocol.pop(),host:{name:e.hostname,base:{name:e.host},"*":e.hostname},port:e.port,user:e.username,password:e.password,search:e.search.shift(),query:{},path:URL.decode(e.pathname),tag:e.hash.shift()}:null}catch(t){}})),e(URL.parse,"element",(function(e,t){var n,r,i,s,o;if(e)for(var a in t=Function.option(t,{extension:URL.domain.extension(),sub:URL.domain.sub()}),t.extension)if(e.end(o=(i=t.extension[a]).length)===i)return""===(s=e.pop((r=(n=e.pop(o).split(".").end()).concat(i)).length+1))&&(s=t.sub),{name:n,domain:r,extension:i,sub:s,"*":s.split(".").reverse().join(".")}})),e(URL,"query",(function(){})),e(URL.query,"separator",(function(e){return e&&(URL.query.separator.value=e),URL.query.separator.value})),e.value(URL.query.separator,"value","&"),e(URL.query,"delimiter",(function(e){return e&&(URL.query.delimiter.value=e),URL.query.delimiter.value})),e.value(URL.query.delimiter,"value","="),e(URL.query,"format",(function(e,t){var n=[];if(t=Function.option(t,{question:!0}),e)for(var r in e)Object.is.array(e[r])?n.push(r.concat(URL.query.delimiter()).concat("["+e[r].join(",")+"]")):n.push(e[r]?r.concat(URL.query.delimiter()).concat(e[r]):r);return n.length?t.question?"?"+n.join(URL.query.separator()):n.join(URL.query.separator()):""})),e(URL.query,"parse",(function(e){var t,n={};for(var r in e=e.split(URL.query.separator()))for(var i in t=e[r].split(URL.query.delimiter()))n[t[0]]=t[1];return n})),e(URL,"domain",(function(){})),e(URL.domain,"sub",(function(e){return e&&(URL.domain.sub.value=e),URL.domain.sub.value})),e.value(URL.domain.sub,"value","www"),e(URL.domain,"extension",(function(e){return e&&(URL.domain.extension.value=URL.domain.extension.sort(e)),URL.domain.extension.value})),e.value(URL.domain.extension,"value",[".com",".net",".org"]),e(URL.domain.extension,"sort",(function(e){var t=[],n=[],r=e.sort();for(var i in r)r[i].count(".")>1?n.push(r[i]):t.push(r[i]);return n.concat(t)})),URL.domain.extension([".com",".net",".org",".info",".mobi",".tv",".co",".io",".me",".ninja",".blog",".site",".store",".shop",".live",".life",".cloud",".online",".app",".dev",".club",".id",".co.id",".xyz",".xxx",".local",".host"]),e(URL,"protocol",(function(e,t){if(e){var n=URL.protocol();for(var r in Object.is.string(t)&&n.push(t),Object.is.array(t)&&(n=n.concat(t)),n)if(e.startsWith(URL.protocol.format(n[r])))return!0;return!1}return Object.values(URL.__protocol)})),e(URL.protocol,"scheme",(function(e,t){return"*"===e?URL.protocol.convert(URL.__protocol[e],t):URL.protocol.convert(URL.__protocol["scheme"],e)})),e(URL.protocol.scheme,"secure",(function(e){return URL.protocol.convert(URL.__protocol["scheme:secure"],e)})),e(URL.protocol,"file",(function(e){return URL.protocol.convert(URL.__protocol["file"],e)})),e(URL.protocol.file,"transport",(function(e){return URL.protocol.convert(URL.__protocol["file:transport"],e)})),e(URL.protocol.file.transport,"secure",(function(e){return URL.protocol.convert(URL.__protocol["file-transport:secure"],e)})),e(URL.protocol,"push",(function(e,t){return URL.__protocol[e]=t})),e(URL.protocol,"convert",(function(e,t){return t?URL.protocol.format(e):e})),e(URL.protocol,"format",(function(e){return e?e+"://":null===e?URL.protocol.scheme("*")+"://":(URL.protocol.scheme()||URL.protocol.scheme("*"))+"://"})),e(URL,"host",(function(e){return e?URL.__host[e]:URL.__host})),e(URL.host,"format",(function(e,t){return e})),e(URL,"account",(function(){})),e(URL.account,"format",(function(e,t){var n="";return t=Function.option(t,{format:!0}),e&&(e.user&&(n=e.user),e.user&&e.password&&(n=n+":"+e.password),e.user&&t.format&&(n+="@")),n})),e(URL,"port",(function(){return URL.__port})),e(URL.port,"format",(function(e,t){var n="";return t=Function.option(t,{format:!0}),e&&(e.port&&(n=e.port),e.port&&t.format&&(n=":"+n)),n})),e(URL,"path",(function(){return URL.__path})),e(URL.path,"format",(function(e,t){var n="";if(e){if(e.path&&(n="/"===e.path.substr(0,1)?e.path:"/"+e.path),n)return n;e.query&&(n="/")}return n}));var s=/\((?!\?)/g;e(RegExp,"path",(function(e,t,n){var r={},i=[],s=RegExp.path.parse(t,i,n),o=s.exec(e);if(o)for(var a in i)r[i[a].name]=o[parseInt(a)+1];return{param:r,match:o}})),e(RegExp.path,"parse",(function(e,t,n){n=n||{},t=t||[];var r,i=n.strict,o=!1!==n.end,a=n.sensitive?"":"i",c=0,u=t.length,l=0,h=0;if(e instanceof RegExp){while(r=s.exec(e.source))t.push({name:h++,optional:!1,offset:r.index});return e}if(Array.isArray(e))return e=e.map((function(e){return RegExp.path.parse(e,t,n).source})),new RegExp("(?:"+e.join("|")+")",a);var d=function(e,n,r,i,s,o,a,u){n=n||"",r=r||"",s=s||"([^\\/"+r+"]+?)",a=a||"",t.push({name:i,optional:!!a,offset:u+c});var l=(a?"":n)+"(?:"+r+(a?n:"")+s+(o?"((?:[\\/"+r+"].+?)?)":"")+")"+a;return c+=l.length-e.length,l},f=function(e,n){var r=t.length;while(r-- >u&&t[r].offset>n)t[r].offset+=3;return"(.*)"};e=("^"+e+(i?"":"/"===e[e.length-1]?"?":"/?")).replace(/\/\(/g,"/(?:").replace(/([\/\.])/g,"\\$1").replace(/(\\\/)?(\\\.)?:(\w+)(\(.*?\))?(\*)?(\?)?/g,d).replace(/\*/g,f);while(r=s.exec(e)){var p=0,m=r.index;while("\\"===e.charAt(--m))p++;p%2!==1&&((u+l===t.length||t[u+l].offset>r.index)&&t.splice(u+l,0,{name:h++,optional:!1,offset:r.index}),l++)}return e+=o?"$":"/"===e[e.length-1]?"":"(?=\\/|$)",new RegExp(e,a)})),e(Function,"http",(function(){})),e(Function.http,"request",(function(){})),e.value(Function.http.request,"timeout",30),e.value(Function.http.request,"method",{get:"GET",post:"POST",header:"HEAD",put:"PUT",delete:"DELETE",option:"OPTIONS"}),e(Function.http,"header",(function(){})),e.value(Function.http.header,"status",{OK:200,success:200,error:{request:400,forbidden:403,found:404,timeout:408,legal:451,s:500},message:{},code:{100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",444:"Connection Closed Without Response",451:"Unavailable For Legal Reasons",499:"Client Closed Request",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required",599:"Network Connect Timeout Error"}}),e(Function,"serialize",(function(){})),e(Function,"xml",(function(){})),e(Function,"json",class{constructor(e,t){(this.file=e)&&(this.data=null,this.inject={},this.option=Function.option(t,{type:"json",log:!0}),this.option.data&&(this.data=this.option.data),this.load())}load(e){!1===Error.native(e=Function.file.read(this.file,this.option))&&!1===Object.is.buffer(e)&&(Object.is.object(e)?this.data=Object.merge(this.option.data,e):this.data=e)}insert(e,t){if(t)this.inject[e]=t;else for(var n in e)this.inject[n]=e[n];return this}delete(e){return"*"===e?(Object.is.object(this.data)&&(this.data={}),Object.is.array(this.data)&&(this.data=[])):delete this.data[e],this.write()}get(e,t){if(e&&Object.is.object(this.data)){var n=Object.merge(this.data,this.inject);return arguments.length>1?n[e]||t:n[e]}return this.data}set(e,t){return Object.is.object(this.data)?t?Object.is.object(t)&&Object.is.object(this.data[e])?this.data[e]=Object.merge(this.data[e],t):this.data[e]=t:Object.is.object(e)&&(this.data=Object.merge(this.data,e)):this.data=arguments.length>1?{[e]:t}:e,this}log(e){return this.option.log?this.set({[Date.now()]:e}):this}write(...e){e=Function.argument(...e);var t=Function.option(e.object,{type:this.option.type,pretty:!0}),n=e.function;return Function.file.write(this.file,this.data,t,n),this}}),e(Object.is,"json",(function(e){return Function.json.is(e)})),e(Function.json,"is",(function(e){try{return JSON.parse(e),!0}catch(t){return!1}})),e(Function.json,"parse",(function(e){return JSON.parse(e)})),e(Function.json,"format",(function(...e){return JSON.stringify(...e)})),e(Function.json,"encode",(function(e,...t){try{return Object.is.define(e)?JSON.stringify(e,...t):new Error}catch(n){return new Error}})),e(JSON,"encode",Function.json.encode),e(Function.json,"decode",(function(e){try{return Object.is.string(e)&&e?JSON.parse(e):new Error}catch(t){return new Error}})),e(JSON,"decode",Function.json.decode),e.value(Function.json,"pretty",[null,4]),e.value(JSON,"pretty",Function.json.pretty),e(Function,"store"),e(Function,"storage",class{constructor(){}static clear(){localStorage.clear()}static delete(e){localStorage.removeItem(e)}static set(e,t,n){return n&&e in localStorage?Function.storage.convert(localStorage.getItem(e)||t):(arguments.length>1&&localStorage.setItem(e,Function.storage.convert(t)),t)}static get(e,t){if(e)return Function.storage.convert(localStorage.getItem(e)||t);var n={},r=Object.keys(localStorage);for(var i in r)n[r[i]]=Function.storage.convert(localStorage.getItem(r[i]));return n}static json(e,t,n){var r=localStorage.getItem(e);return n&&r?Function.json.parse(r):(arguments.length>1&&localStorage.setItem(e,r=Function.json.format(t)),r?Function.json.parse(r):void 0)}}),e(Function.storage,"convert",(function(e){return"null"===e?null:"true"===e||"false"!==e&&("undefined"===e?void 0:null===e?"null":!0===e?"true":!1===e?"false":void 0===e?"undefined":e)})),e(Function,"session",class{constructor(){}static clear(){sessionStorage.clear()}static delete(e){sessionStorage.removeItem(e)}static set(e,t){return sessionStorage.setItem(e,t),t}static get(e,t){if(e)return Function.storage.convert(sessionStorage.getItem(e)||t);var n={},r=Object.keys(sessionStorage);for(var i in r)n[r[i]]=Function.storage.convert(sessionStorage.getItem(r[i]));return n}static json(e,t,n){var r=sessionStorage.getItem(e);return n&&r?Function.json.parse(r):(arguments.length>1&&sessionStorage.setItem(e,r=Function.json.format(t)),r?Function.json.parse(r):void 0)}}),e(Function.session,"file",(function(){})),e(Function.session.file,"name",(function(e,t){return e.cross.session&&(t=e.cross.session),t&&e.visitor.ip?e.visitor.ip.concat("-").concat(t):t})),e(Function.session,"json",class extends Function.json{constructor(e,t){super(e,t)}start(e,t){if(!1===Function.file.exist(this.file)){var n={host:{"*":t.host},visitor:{ip:t.ip},stamp:{insert:Date.now(),update:Date.now(),delete:0,reload:Date.now()},cache:{id:Function.hash.shuffle(10)},time:{zone:t.time.zone}};this.set("id",e||Function.session.shuffle()).set(n).write()}return this}reload(e){e&&this.load();var t={stamp:{update:this.get("stamp").reload,reload:Date.now()}};return this.set(t).write()}}),e(Function.session,"manager",class{constructor(e,t,n){this.data={};var r=URL.document;"browser"===e&&null===(e=null)&&window.url&&(r=window.url),(this.proto=e)?this.proto.cookie=new Function.cookie(e.domain,e.link):this.proto={cookie:new Function.cookie(r.host["*"],"browser")},t&&this.start(t,n)}start(e,t){if((this.option=Object.assign({name:Function.session.name,signature:Function.session.signature,secure:!1},e))&&(this.name=this.option.name,this.signature=this.option.signature,this.secure=this.option.secure,this.shuffle=this.option.id||Function.session.shuffle()),this.proto.cookie.start()&&(this.id=this.proto.cookie.get(this.name),this.cache=this.proto.cookie.get("session.cache"),Object.is.empty(this.id)&&(this.id=this.proto.cookie.set(this.name,this.shuffle,this.option),this.cache=this.proto.cookie.set("session.cache",Function.hash.shuffle(10),this.option),this.proto.cookie.set(this.signature,Function.json.format({}).encode(),this.option),this.proto.cookie.write())),(this.session=this.proto.cookie.get(this.signature).decode())&&(this.session=Function.json.parse(this.session)))for(var n in this.session)this.data[n]=this.session[n];return t&&t.call(this,this.id),this}set(e,t,n){return n&&this.data[e]?this.data[e]:(this.data[e]=t,this.proto.cookie.set(this.signature,Function.json.format(this.data).encode(),this.option),this.proto.cookie.write(),t)}get(e,t){return e?e in this.data?this.data[e]||t:"":this.data}delete(e){"*"===e?this.data={}:delete this.data[e],this.proto.cookie.set(this.signature,Function.json.format(this.data).encode())}exist(e){return e in this.data}apply(e){return e&&(this.data=Object.merge(this.data,e)),this.data}}),e(Function.session,"shuffle",(function(){return Date.stamp().toString().concat("-").concat(Function.hash.shuffle(Number.char))})),e.value(Function.session,"name","session"),e.value(Function.session,"signature","session.signature"),e.value(Function.session,"mode","lax"),e.value(Function.session,"secure",!1),e(Function,"cookie",class{constructor(e,t){this.data={},this.cookie=[],this.domain=e,this.link=t}start(){if(this.link){var e=this.document();if(e)for(var t in e=e.split(";")){var n=e[t].split("="),r=n[0].trim(),i=n[1];i&&(this.data[r]=i)}}else console.log("cookie:link");return this}set(e,t,n){var r=[];n=Object.assign({path:this.path||"/",domain:this.domain,expire:this.expire,mode:this.mode||"lax"},n);return r.push(e+"="+t),n.expire&&r.push("expire="+n.expire),n.domain&&r.push("domain="+n.domain),n.path&&r.push("path="+n.path),"lax"===n.mode&&r.push("samesite=lax"),"none"===n.mode&&r.push("samesite=none"),!0===n.secure&&r.push("secure"),this.document(this.cookie.push(r.join(";"))),this.data[e]=t}get(e,t){return e?e in this.data?this.data[e]||t:"":this.data}delete(e,t){if(e)this.set(e,"",t);else for(var n in this.data)delete this.data[n]&&this.set(n,"",t)}write(){if("browser"===this.link)for(var e in this.cookie)document.cookie=this.cookie[e];else this.link&&this.link.response.setHeader("Set-Cookie",this.cookie);this.cookie=[]}document(){return"browser"===this.link?document.cookie:this.link?this.link.request.headers.cookie:void 0}}),e(Function,"web",(function(){return this})),e(Function.web,"socket",class{constructor(e){this.socket=new WebSocket(this.url=e)}send(e){this.socket.send(e)}on(e,t){"open"===e&&(this.socket.onopen=t),"message"===e&&(this.socket.onmessage=t)}emit(e,t){arguments.length>1?this.socket.send(Function.json.format({key:e,value:t})):this.socket.send(e)}}),e(Function.web.socket,"io",class{constructor(e,t,n){this.http={url:URL.format(e,{protocol:"socket:io"})},this.url=URL.format(e,{protocol:"socket"}),this.token=t,this.session=n,this.context={}}on(e,t){this.io.on(e,t.bind({socket:this}))}clear(e){this.io.off(e)}start(e){return this.io=Function.web.socket.io.client(this.url,{extraHeaders:{token:this.token,session:this.session}}),e&&e.call(this),this}emit(e,t){return this.tokenizer?(this.io.emit(e,t={context:{id:Function.hash.shuffle(),session:this.session,tokenizer:this.tokenizer},data:t}),new Function.web.socket.io.emitter(this,e,t)):new Function.emitter("web-socket/io:tokenizer",this)}}),e(Function.web.socket.io,"emitter",class{constructor(e,t,n){this.socket=e,this.key=t,this.value=n}next(e){return this.then(e).catch(),this}then(e){return this.context=e,"error"in this?this.emit(this.error):this}catch(e){return"context"in this?this.emit(e):(this.error=e,this)}emit(e=console.error){return this.socket.on(this.key,Function.web.socket.io.emit(this,e)),this}}),e(Function.web.socket.io,"emit",(function(e,t){return function(n){if(Object.is.object(n)&&n.context&&n.context.id===e.value.context.id&&t)if(Object.is.object(n.data))if(n.data.error){var r=t||e.error||function(e){console.log("web-socket/io:error",e)};r.call(n,n.data.error)}else(e.context||Function.void).call(n,n.data);else(e.context||Function.void).call(n,n.data);var i=e;i.socket.clear(e.key)}})),e.value(Function.web.socket,"open","connect"),e.value(Function.web.socket,"close","disconnect"),e.value(Function.web.socket,"buffer",{size:"maxHttpBufferSize"}),e(Function,"sql",(function(){})),e(Function.sql,"eol",String.char.eol),e(Function.sql,"delimiter",String.char.separator.delimiter),e(Function.sql,"comment","--"),e(Function.sql,"debug",Function.pro("sql:debug")),e(Function,"db",class{constructor(){this.db=new class{}}start(e){return(this.adapter=(this.option=Object.assign({slot:"tcp"},e)).adapter||Function.db.adapter())&&(this.slot=this.option.slot,this.socket=this.option.socket,this.db.adapter=Function.db.adapter[this.adapter],this.db.slot=this.db.adapter[this.slot],this.link=this.db.adapter.connect(this.option),this.schema=new this.db.adapter.schema.collection(this),this.model=new this.db.adapter.model.collection(this),this.collection=new this.db.slot.collection(this)),this}cache(e){this.db.adapter.cache(this,e)}select(e,t){return new this.db.slot.select(this,e,t)}insert(e,t){return new this.db.slot.insert(this,e,t)}update(e,t){return new this.db.slot.update(this,e,t)}delete(e,t){return new this.db.slot.delete(this,e,t)}remove(e,t){return new this.db.slot.remove(this,e,t)}then(e){return this.promise=this.link.then(e)}catch(e){return this.promise.catch(e)}}),e(Function.db,"adapter",(function(e){return arguments.length&&(Function.db.adapter.value=e),Function.db.adapter.value})),Function.db.adapter("mongo"),e(Function.db,"promise",(function(e){return arguments.length&&(Function.db.promise.value=e),Function.db.promise.value})),e(Function,"mongo",class{constructor(e,t){this.connection=Function.mongo.url(e),this.option=Object.assign({useNewUrlParser:Function.mongo.url.parser,useUnifiedTopology:Function.mongo.url.topology},t),this.client=new Function.MongoClient(this.connection.format,this.option)}then(e){var t=function(e){var t=new Function.mongo.db(e,this.connection);this.context.call(t,t)};return this.promise=this.client.connect().then(t.bind({context:e,connection:this.connection.parse})),this}catch(e=i){return this.promise.catch(e),this}}),e(Function.mongo,"db",class{constructor(e,t){this.mongo=e,this.connection=t}__(e,t){return new Function.mongo.client(this.mongo,this.mongo.db(e),t,this.connection)}use(...e){return this.__(...e)}connect(...e){return this.__(...e)}open(...e){return this.__(...e)}}),e(Function.mongo.db,"bucket",(function(){})),e.value(Function.mongo.db.bucket,"connection","connection"),e(Function.mongo,"client",class{constructor(e,t,n,r,i=!0,s=!0,o=!0){this.client=e,this.connection=r,this.db=t,this.prefix=s,this.option=Function.option(n,{feature:o}),this.collection=new Function.mongo.collection(this),this.view=new Function.mongo.collection.view(this),i&&this.channel(e,n,r)}channel(e,t,n){this.system={admin:e.db("admin"),local:new Function.mongo.client(e,e.db("local"),t,n,null,null,null)}}use(e,t){return arguments.length>1?this.option[e]=t:Object.assign(this.option,e),this}command(e,t){return new Function.mongo.command(this,e,t)}list(e,t){return new Function.mongo.list(this,e,t)}index(e,t){return new Function.mongo.collection.index(this,this.name(e),t)}select(e,t){return new Function.mongo.collection.select(this,this.name(e),t)}insert(e,t){return new Function.mongo.collection.insert(this,this.name(e),t)}update(e,t){return new Function.mongo.collection.update(this,this.name(e),t)}delete(e,t){return new Function.mongo.collection.delete(this,this.name(e),t)}remove(e,t){return new Function.mongo.collection.remove(this,this.name(e),t)}name(e){return this.prefix?Function.mongo.collection.name(e):e}is_collection(e){return e=Function.mongo.collection.name(e),new Function.promise(function(t,n){this.mongo.list("collection").then((function(r){r.data.filter((function(t){return e===t.name})).length?t(!0):n(!1)}))}.bind({mongo:this}))}setup(e,t=function(){}){return Function.mongo.client.setup(this,e,t),this}}),e(Function.mongo.client,"setup",(function(e,t,n){var r={host:e.connection.host,port:e.connection.port,name:e.connection.name,user:e.connection.user,password:Function.hash.password(e.connection.password)},i=function(i,s){if(i.length)t();else{var o=function(e){e.data.find((function(e){return e.name===r.name}));a()},a=function(){s.insert(Function.mongo.db.bucket.connection).set(r).then((function(e){t()})).catch((function(e){n()})),e.insert("tmp").then().catch()};e.list("data:base").then(o).catch((function(){n()}))}};e.system.local.select("connection").find(r).then(i).catch((function(){n()}))})),e(Function.mongo,"list",class{constructor(e,t,n){this.mongo=e,this.key=t}then(e=i){return"data:base"===this.key?this.promise=this.mongo.system.admin.command({listDatabases:1}).then((function(t){var n=[];for(var r in t.databases)n.push({name:t.databases[r].name,size:t.databases[r].sizeOnDisk,empty:t.databases[r].empty});e({length:n.length,size:t.totalSize,data:n})})):"collection"===this.key&&(this.promise=this.mongo.db.command({listCollections:1,nameOnly:!0}).then((function(t){var n=[];for(var r in t.cursor.firstBatch)n.push({name:t.cursor.firstBatch[r].name,type:t.cursor.firstBatch[r].type});e({length:n.length,data:n})}))),this}catch(e=i){return this.promise.catch(e),this}}),e(Function.mongo,"collection",class{constructor(e){this.mongo=e}create(...e){return this.mongo.db.createCollection(...e)}select(...e){return this.mongo.db.collection(...e)}drop(...e){return this.mongo.db.dropCollection(...e)}}),e(Function.mongo.collection,"extend",class{constructor(e,t,n){this.mongo=e,this.context=n,this.query=this.mongo.collection.select(this.collection=t),this.option=Object.assign({upsert:!1}),this.__filter=Object.empty(),this.__flag=Object.empty(),this.__push=Object.empty()}use(e,t){return arguments.length>1?this.option[e]=t:Object.assign(this.option,e),this}distinct(e){return this.__distinct=e,this}count(e){return this.__count=e,this}aggregate(e){return this.__aggregate=e,this}push(e){return this.__push=e,this}set(e={}){return this.__data=e,this}skip(e){return this.__skip=e,this}limit(e){return this.__limit=e,this}offset(e,t){return t?this.__offset=Object.assign({skip:e,limit:t}):this.__limit=e,this}condition(...e){return this.filter(...e)}where(...e){return this.filter(...e)}find(...e){return this.filter(...e)}filter(e,t){return Object.is.string(e)?Object.assign(this.__filter,Function.mongo.object.id(e)):Object.assign(this.__filter,e),Object.assign(this.__flag,t),this}feature(e,t,n){if(this.mongo.option.feature&&("select"===e&&(!0===this.__flag.delete?Object.assign(this.__filter,{"$:delete":{">>":0}}):null===this.__flag.delete||"append"===this.__flag.delete?delete this.__filter["$:delete"]:Object.assign(this.__filter,{"$:delete":0})),"insert"===e&&(Object.is.array(this.__data)&&this.__data.map((function(e){Object.assign(e,Function.mongo.object.stamp())})),Object.is.object(this.__data)&&Object.assign(this.__data,Function.mongo.object.stamp())),"update"===e&&("$:push"in this.__data&&this.push(this.__data["$:push"])&&delete this.__data["$:push"],this.__data=Function.mongo.object.format(Object.assign(this.__data,Function.mongo.object.stamp.update()))),"remove"===e&&(this.__data=Function.mongo.object.format(Function.mongo.object.stamp.remove())),this.__count&&(this.__count=Function.mongo.object.format(this.__count)),this.__filter=Function.mongo.object.format(this.__filter)),"select"===e&&this.__aggregate&&(this.__aggregate=Function.mongo.object.aggregate.format(this.__aggregate)),"insert"===e&&(Object.is.object(this.__data)&&(this.__data=[this.__data]),Object.un.define(this.__data)&&(this.__data=[Function.mongo.object.id()])),"delete"===e)return!0===t?n>0:null===t||"append"===t||0===n;if("index"===e)for(var r in this.__field)"ascending"===this.__field[r]&&(this.__field[r]=1),"descending"===this.__field[r]&&(this.__field[r]=-1);return this}next(e,t,n){return e.then(Function.mongo.query(this,t,n))}catch(e=i){return this.promise.catch(e),this}}),e(Function.mongo.collection,"index",class extends Function.mongo.collection.extend{constructor(e,t,n){super(e,t,n)}create(e,t){return this.syntax="create",this.__field=e,this.__option=t,this}drop(e){return this.syntax="drop",this.__field=e,this}then(e=i){return this.feature("index"),"create"===this.syntax&&(this.promise=this.query.createIndex(this.__field,this.__option).then(e)),"drop"===this.syntax&&(this.promise=this.query.dropIndex(this.__field).then(e)),this}}),e(Function.mongo.collection,"view",class{constructor(e){this.mongo=e}create(e,t){return new Function.mongo.collection.view.create(this.mongo,Function.mongo.collection.view.name(e),t)}select(e,t){return new Function.mongo.collection.view.select(this.mongo,Function.mongo.collection.view.name(e),t)}}),e(Function.mongo.collection.view,"extend",class{constructor(e,t,n){this.mongo=e,this.context=n,this.collection=t,this.__pipe=[]}select(e){return this.__collection=Function.mongo.collection.name(e),this}pipe(e){return this.__pipe.push(e),this}catch(e=i){return this.promise.catch(e),this}}),e(Function.mongo.collection.view,"create",class extends Function.mongo.collection.view.extend{constructor(e,t,n){super(e,t,n)}then(e=i){this.__pipe.map((function(e){e["$:lookup"]&&(e["$:lookup"]["$:from"]&&(e["$:lookup"]["$:from"]=Function.mongo.collection.name(e["$:lookup"]["$:from"])),e["$:lookup"]["$:on"]&&(e["$:lookup"]["$:on"]=Function.mongo.collection.name(e["$:lookup"]["$:on"])))}));var t=Function.mongo.object.key.format(this.__pipe),n=Function.mongo.object.format({"$:view":this.__collection,"$:pipe":t});return this.promise=new Function.promise(function(e,t){this.mongo.is_collection(this.view.__collection).then((function(){t("exist")})).catch(function(){this.mongo.collection.create(this.view.collection,n).then(e).catch((function(e){t({name:"exist",code:e.code})}))}.bind({mongo:this.mongo,view:this.view}))}.bind({mongo:this.mongo,view:this})).then(e),this}}),e(Function.mongo.collection.view,"select",class extends Function.mongo.collection.extend{constructor(e,t,n){super(e,t,n)}then(e=i){var t;return this.feature("select"),t||(t=this.__distinct?this.query.distinct(this.__distinct):this.__count?this.query.count(this.__count):this.__aggregate?this.query.aggregate(this.__aggregate).toArray():this.query.find(this.__filter).toArray()),this.__sort&&(t=t.sort(this.__sort)),this.__limit&&(t=t.limit(this.__limit)),this.promise=this.next(t,"view",e,this.__offset),this}}),e(Function.mongo.collection,"select",class extends Function.mongo.collection.extend{constructor(e,t,n){super(e,t,n)}then(e=i){var t;return this.feature("select"),t||(t=this.__distinct?this.query.distinct(this.__distinct):this.__count?this.query.count(this.__count):this.__aggregate?this.query.aggregate(this.__aggregate).toArray():this.query.find(this.__filter).toArray()),this.__sort&&(t=t.sort(this.__sort)),this.__limit&&(t=t.limit(this.__limit)),this.promise=this.next(t,"select",e,this.__offset),this}}),e(Function.mongo.collection,"insert",class extends Function.mongo.collection.extend{constructor(e,t,n){super(e,t,n)}then(e=i){this.feature("insert");var t=this.query.insertMany(this.__data);return this.promise=this.next(t,"insert",e),this}}),e(Function.mongo.collection,"update",class extends Function.mongo.collection.extend{constructor(e,t,n){super(e,t,n)}then(e=i){this.feature("update");var t=this.query.updateMany(this.__filter,{$set:this.__data,$push:this.__push},this.option);return this.promise=this.next(t,"update",e),this}}),e(Function.mongo.collection,"delete",class extends Function.mongo.collection.extend{constructor(e,t,n){super(e,t,n)}then(e=i){this.feature("delete");var t=this.query.deleteMany(this.__filter);return this.promise=this.next(t,"delete",e),this}}),e(Function.mongo.collection,"remove",class extends Function.mongo.collection.extend{constructor(e,t,n){super(e,t,n)}then(e=i){this.feature("remove");var t=this.query.updateMany(this.__filter,{$set:this.__data});return this.promise=this.next(t,"remove",e),this}}),e(Function.mongo,"query",(function(e,t,n,r){return function(i){if(["select","view"].includes(t))if(e.__distinct)n.call(e,{length:i.length,data:i});else if(e.__count)n.call(e,i);else{var s=i;e.mongo.option.feature&&(s=Function.mongo.object.structure(i));var o=s.length;if(r&&(s=s.slice(r.skip,r.skip+r.limit)),e.mongo.option.feature)for(var a in s)for(var c in s[a])Object.is.array(s[a][c])&&(s[a][c]=s[a][c].filter((function(t){return!t._id||!t._stamp||e.feature("delete",e.__flag.delete,t._stamp.delete)})));n.call(e,{length:o,data:s},e.mongo)}if(["insert"].includes(t)){s=e.__data;e.mongo.option.feature&&(s=Function.mongo.object.structure(s));o=s.length;var u=Object.assign({success:i.insertedCount,error:0});n.call(e,{length:o,status:u,data:s},e.mongo)}if(["update","remove"].includes(t)){o=i.matchedCount,u=Object.assign({success:i.modifiedCount,error:i.matchedCount-i.modifiedCount});n.call(e,{length:o,status:u},e.mongo)}if(["delete"].includes(t)){o=i.deletedCount,u=Object.assign({success:i.deletedCount,error:0});n.call(e,{length:o,status:u},e.mongo)}}})),e(Function.mongo.collection,"prefix",(function(e){return arguments.length&&(Function.mongo.collection.prefix.__=""===e?"":e.concat("_")),Function.mongo.collection.prefix.__})),Function.mongo.collection.prefix("table"),e(Function.mongo.collection,"name",(function(e){return Function.mongo.collection.prefix().concat(e).replace(".","_")})),e(Function.mongo.collection.view,"prefix",(function(e){return arguments.length&&(Function.mongo.collection.view.prefix.__=""===e?"":e.concat("_")),Function.mongo.collection.view.prefix.__})),Function.mongo.collection.view.prefix("view"),e(Function.mongo.collection.view,"name",(function(e){return Function.mongo.collection.view.prefix().concat(e)})),e(Function.mongo,"object",(function(){})),e(Function.mongo.object,"id",(function(...e){return Object.assign({_id:Object.id(...e)})})),e(Function.mongo.object,"stamp",(function(){return Object.assign({_stamp:{serial:Function.mongo.object.stamp.serial(),insert:Date.now(),update:Date.now(),delete:0}})})),e(Function.mongo.object.stamp,"update",(function(){return Object.assign({"$:update":Date.now()})})),e(Function.mongo.object.stamp,"remove",(function(){return Object.assign({"$:delete":Date.now()})})),e(Function.mongo.object.stamp,"serial",(function(e){e&&(Function.mongo.object.stamp.serial.rand=e);var t=(new Date).getStamp(),n=Function.performance.now(),r=Function.hash.shuffle(Number.char,Function.mongo.object.stamp.serial.rand||5);return Object.to.string(t).concat(":").concat(n).concat(":").concat(r)})),e(Function.mongo.object,"aggregate",(function(){})),e(Function.mongo.object.aggregate,"format",(function(e){var t=[];for(var n in e)t.push(Object.keys.format(e[n],Function.mongo.object.key()));return t})),e(Function.mongo.object,"key",(function(){return{"$:id":"_id","$:serial":"_stamp.serial","$:insert":"_stamp.insert","$:update":"_stamp.update","$:delete":"_stamp.delete","$:lookup":"$lookup","$:from":"from","$:on":"from","$:field":"localField","$:foreign":"foreignField","$:output":"as","$:view":"viewOn","$:pipe":"pipeline","$:var":"let","$:set":"$set","$:match":"$match","$:group":"$group","$:in":"$in","$:sort":"$sort","$:count":"$sum","$:push":"$push","$:expression":"$expr","&":"$and","||":"$or",">>":"$gt","<<":"$lt"}})),e(Function.mongo.object.key,"format",(function(e){var t=[];for(var n in e){var r=Function.mongo.object.format(e[n]);for(var i in r)r[i]=Function.mongo.object.format(r[i]);t.push(r)}return t})),e(Function.mongo.object,"format",(function(e){return Function.mongo.object.fix(e)})),e(Function.mongo.object,"fix",(function(e){var t=Function.mongo.object.key();for(var n in e)n in t&&(e[t[n]]=e[n],delete e[n],Function.ObjectID_Instance(e[t[n]])||Object.is.object(e[t[n]])&&(e[t[n]]=Function.mongo.object.fix(e[t[n]])));return e})),e(Function.mongo.object,"structure",(function(e){var t;if(Object.is.array(e)&&(t=[]))for(var n in e){var r=Object.empty();for(var i in"_id"in e[n]&&Object.assign(r,{_id:e[n]._id}),"_stamp"in e[n]&&Object.assign(r,{_stamp:e[n]._stamp}),"_id"in e[n]&&Object.assign(r,{id:e[n]._id}),"_stamp"in e[n]&&Object.assign(r,{stamp:e[n]._stamp}),e[n])["_id","_stamp"].includes(i)||(r[i]=e[n][i]);t.push(r)}if(Object.is.object(e)&&(t={$:{id:e._id,stamp:e._stamp}}))for(var n in e)["_id","_stamp"].includes(n)||(t[n]=e[n]);return t})),e(Function.mongo,"url",(function(e){return Object.is.string(e)&&(e=URL.parse(e)),e=Object.assign({protocol:Function.mongo.url.protocol,host:Function.mongo.url.host,port:Function.mongo.url.port,query:Function.mongo.url.param},e),e.param&&(e.query=e.param),Object.assign({format:URL.format(Object.merge(e,{path:e.name})),parse:e})})),e(Function.mongo.url,"protocol","mongodb"),e(Function.mongo.url,"host","127.0.0.1"),e(Function.mongo.url,"port",27017),e(Function.mongo.url,"name","mongo"),e(Function.mongo.url,"parser",!0),e(Function.mongo.url,"topology",!0),e(Function.mongo.url,"param",{retryWrites:"true",w:"majority"}),e(Function.mongo.url,"data",{protocol:Function.mongo.url.protocol,host:Function.mongo.url.host,port:Function.mongo.url.port,query:Function.mongo.url.param}),e(Function,"dom",(function(e){return new Function.dom.document(e)})),e(Function.dom,"doc",class{constructor(e){this.client=new Function.dom.doc.client(this.dom=e)}attribute(e,t){return arguments.length>1?Function.dom.attribute.set(e,t,this.dom):Function.dom.attribute.get.value(e,this.dom)}}),e(Function.dom.doc,"client",class{constructor(e){this.width=e.clientWidth,this.height=e.clientHeight}}),e(Function.dom,"document",class{constructor(e){Object.is.string(e)?this.dom=Function.dom.query.selector(e):this.dom=e,this.class=new Function.dom.class(this.dom)}value(e){if(this.dom){if(!arguments.length)return this.dom.value;Object.is.set(e)?this.dom.value=e:this.dom.value=""}return this}content(e){if(this.dom){if(!arguments.length)return this.dom.innerHTML;Object.is.set(e)?this.dom.innerHTML=e:this.dom.innerHTML=""}return this}text(e){if(this.dom){if(!arguments.length)return this.dom.innerHTML;Object.is.set(e)?this.dom.innerHTML=e:this.dom.innerHTML=""}return this}enable(e){return this.dom&&(this.dom.disabled=!e),this}focus(){return this.dom&&this.dom.focus(),this}play(){return this.dom&&this.dom.play(),this}attribute(e,t){if(this.dom)if(arguments.length>1)Object.is.set(t)?Function.dom.attribute.set(e,t,this.dom):Function.dom.attribute.delete(e,this.dom);else if(e)return Function.dom.attribute.get(e,this.dom);return this}delete(){return this.dom&&this.dom.remove(),this}}),e(Function.dom,"class",class{constructor(e){this.dom=e}list(){return this.get()}get(){return this.dom?this.dom.className.split(String.char.space):[]}set(e){return this.dom&&(this.dom.className=e),this}insert(e){return this.dom&&(this.delete(e),this.dom.className=this.dom.className.concat(String.char.space,e)),this}update(e,t){return this.dom&&(this.delete(e),this.dom.className=this.dom.className.concat(String.char.space,t)),this}delete(e){if(this.dom){var t=[],n=this.list();for(var r in n)e===n[r]===!1&&t.push(n[r]);this.dom.className=t.join(String.char.space)}return this}}),e(Function.dom,"parse",(function(e,t,n){var r=n||{component:[],element:[]};e=e.toString((t=Object.assign({depth:!1},t)).encoding);if(null===n){var i=e.match(Function.dom.pattern.element);for(var s in i){var o=new RegExp(Function.dom.pattern.element).exec(i[s]),a=o[0],c=o[1],u={},l=o[2].match(Function.dom.pattern.attribute);for(var h in l){var d=new RegExp(Function.dom.pattern.attribute).exec(l[h]);u[d[1].trim()]=d[2]}r.element.push({tag:c,attribute:u,source:a})}}var f=e.match(Function.dom.pattern.component);for(var s in f){o=new RegExp(Function.dom.pattern.component).exec(f[s]),a=o[0],c=o[1],u={};var p=o[3];l=o[2].match(Function.dom.pattern.attribute);for(var h in l){d=new RegExp(Function.dom.pattern.attribute).exec(l[h]);u[d[1].trim()]=d[2]}r.component.push({tag:c,attribute:u,content:p,source:a}),!0===t.depth&&Function.dom.parse(p,t,r)}return r})),e(Function.dom,"component",(function(e,t,n){var r=[],i=Function.dom.pattern.tag.component(t),s=(e=e.toString((n=Object.assign({attribute:!1},n)).encoding)).match(new RegExp(i,"sig"));for(var o in s){var a=new RegExp(i,"sig").exec(s[o]),c=a[0],u=a[2],l={},h=a[1].match(Function.dom.pattern.attribute);for(var d in h){var f,p=new RegExp(Function.dom.pattern.attribute).exec(h[d]),m=p[1].trim(),g=p[2];n.attribute&&m.includes(":")?(f=m.split(":"),l[f[0]]||(l[f[0]]={}),l[f[0]][f[1]]=g):l[m]=g}r.push({attribute:l,content:u,source:c})}return r})),e(Function.dom,"element",(function(e,t,n,r="element"){var i=[],s=Function.dom.pattern.tag[r](t),o=(e=e.toString((n=Object.assign({attribute:!1},n)).encoding)).match(new RegExp(s,"g"));for(var a in o){var c=new RegExp(s,"g").exec(o[a]),u=c[0],l={},h=c[1].match(Function.dom.pattern.attribute);for(var d in h){var f,p=new RegExp(Function.dom.pattern.attribute).exec(h[d]),m=p[1].trim(),g=p[2];n.attribute&&m.includes(":")?(f=m.split(":"),l[f[0]]||(l[f[0]]={}),l[f[0]][f[1]]=g):l[m]=g}i.push({attribute:l,source:u})}return i})),e(Function.dom.element,"get",(function(e){if(Object.is.string(e))return document.getElementById(e)})),e(Function.dom,"attribute",(function(e,t,n){return arguments.length>2?Function.dom.attribute.set(t,n,Function.dom.query.selector(e)):Function.dom.attribute.get(t,Function.dom.query.selector(e))})),e(Function.dom.attribute,"get",(function(e,t){if(t)return t.getAttribute(e)||""})),e(Function.dom.attribute.get,"value",(function(e,t){if(t){var n=t.getAttribute(e)||"";if(n.includes(":")&&n.includes(";")){var r={},i=n.split(";");for(var s in i)if(i[s]){var o=i[s].split(":"),a=(e=o[0].trim(),o[1].trim());r[e]=a}return r}return n}})),e(Function.dom.attribute.get,"static",(function(e,t,n,r){var i='<%s %s %s="'.format(t,Function.dom.attribute.format(n),r),s='">';return e.after(i).before(s)})),e(Function.dom.attribute,"set",(function(e,t,n){if(n)return n.setAttribute(e,Function.dom.attribute.set.value(t))})),e(Function.dom.attribute.set,"value",(function(e){if(Object.is.object(e)){var t=[];for(var n in e)t.push(n+": "+e[n]+";");return t.join(" ")}return e})),e(Function.dom.attribute,"delete",(function(e,t){if(t)return t.removeAttribute(e)})),e(Function.dom.attribute,"format",(function(e,t='"'){var n=[],r=[];for(var i in e)r=[],null===e[i]?r.push(i):n.push(i+"="+t+e[i]+t);return r.length&&n.push(r.join(String.char.space)),n.join(String.char.space)})),e(Function.dom.attribute,"struct",class{constructor(e){this.dom=e}get(e){return Function.dom.attribute.get(e,this.dom)}set(e,t){return Object.is.set(t)&&Function.dom.attribute.set(e,t,this.dom),this}delete(e){return Function.dom.attribute.delete(e,this.dom),this}}),e(Function.dom,"query",(function(){})),e(Function.dom.query,"selector",(function(e){return document.querySelector(e.split(":").join("\\:"))})),e(Function.dom.query.selector,"all",(function(e,t){return t?document.querySelectorAll(e).forEach(t):document.querySelectorAll(e)})),e(Function.dom.query,"format",(function(...e){var t=[];for(var n in e)if("string"===typeof e[n]&&t.push("["+e[n]+"]"),"object"===typeof e[n]){var r=[];for(var i in e[n])null===e[n][i]?r.push("["+i+"]"):r.push("["+i+"='"+e[n][i]+"']");t.push(r.join(", "))}return t.join(" > ")})),e(Function.dom,"for",(function(e,t){e.forEach(t)})),e(Function.dom,"css",(function(){})),e(Function.dom.css,"list",(function(e){return e.classList})),e(Function.dom,"format",(function(e,t,n,r,i){if(r=Object.is.string(n)?Object.assign({block:!0},r):Object.assign({block:!1},n,r),r.block){var s=[e];for(var o in(t=Function.dom.attribute.format(t))&&s.push(t),i)s.push(i[o]);return"<"+s.join(String.char.space)+">"+Object.to.string(n)+"</"+e+">"}s=[e];for(var o in(t=Function.dom.attribute.format(t))&&s.push(t),i)s.push(i[o]);return r.close&&s.push("/"),"<"+s.join(String.char.space)+">"})),e.value(Function.dom,"pattern",{attribute:/(.*?)="(.*?)"/gis,component:/<([a-z:0-9]+)\s*(.*?)>\s*(.*?)\s*<\/\1>/gis,element:/<([a-z:0-9]+)\s*(.*?)\/>/g,single:/<([a-z:0-9]+)\s*(.*?)>/g,tag:{component:function(e){return"<"+e+"s*(.*?)>s*(.*?)s*</"+e+">"},element:function(e){return"<"+e+"+s*(.*?)/>"},single:function(e){return"<"+e+"+s*(.*?)>"}}}),e.property(Function.dom,"markup",(function(e){return e=e.replace('http-equiv="x-edge"','http-equiv="x-ua-compatible"'),e=e.replace('name="view:port"','name="viewport"'),e})),e(Function,"audio",(function(e,t){return URL.begin(e=e||"audio")?new Function.audio.player(e):(e in Function.audio.play.list&&(e=Function.audio.play.list[e]),"web-view"===Function.visitor.browser.model?Function.mobile[Function.visitor.device.model].audio(e):(t&&(e=t(e)),new Function.audio.player(e)))})),e(Function.audio,"player",class{constructor(e){this.audio=new Audio(e)}play(){this.audio.play()}}),e(Function.audio,"play",(function(){})),e(Function.audio.play,"list",(function(e,t){return Function.audio.play.list.value[e]=t})),e.value(Function.audio.play.list,"value",{}),e(Function,"mobile",(function(){})),e(Function.mobile,"i",(function(){})),e(Function.mobile,"a",(function(){})),e(Function.mobile.a,"exit",(function(){Android.exit()})),e(Function.mobile.a,"toast",(function(e){Android.toast(e)})),e(Function.mobile.a,"notification",(function(e,t,n,r,i){Android.notification(e,t,n,r,i)})),e(Function.mobile.a,"audio",(function(e){Android.audio(e)})),e(Function.mobile.a,"thermal",(function(){})),e(Function.mobile.a.thermal,"print",(function(e){Android.thermal_print(e)})),e(Function,"visitor",(function(e){var t=!1,n="",r="",i="",s=!1;e||(window.navigator.userAgentData&&window.navigator.userAgentData.brands.length&&(t=!0)&&(n=window.navigator.userAgentData.platform,r=n+" "+window.navigator.userAgentData.brands[0].brand+"/"+window.navigator.userAgentData.brands[0].version,i=window.navigator.userAgentData.brands[0].version,s=window.navigator.userAgentData.mobile),!1===t&&(r=window.navigator.userAgent));var o={ip:URL.host("*"),browser:{name:e||r,version:i},device:{type:"computer",system:n,mobile:s}};e=o.browser.name.toLowerCase();return e.includes("windows")&&(o.device.system="win"),e.includes("android")&&(o.device.system="android",e.includes("wv")&&(o.browser.model="web-view"),e.includes("mobile")?o.device.type="phone":o.device.type="tablet",e.includes("android")&&(o.device.model="a")),e.includes("mac")&&(o.device.system="mac",e.includes("iphone")?o.device.type="phone":e.includes("ipad")?o.device.type="tablet":o.device.type="computer",e.includes("iphone")&&(o.device.model="i")),e.includes("firefox")?o.browser.platform="mozilla":e.includes("chrome")?o.browser.platform="chrome":e.includes("safari")?o.browser.platform="safari":o.browser.platform="*",o})),e(Function.visitor,"__",(function(e){var t=Function.visitor(e);for(var n in t)Function.visitor[n]=t[n];return t})),e(Function,"scroll",(function(e,t){e=e||0,t=t||0,window.scrollTo(e,t)})),e(Function.scroll,"on",(function(e){window.onscroll=e})),e(Function.scroll.on,"top",(function(){return 0===window.scrollY})),e(Function.scroll,"top",(function(){return window.scrollY})),e(Function,"cross",(function(){})),e(Function.cross,"origin",(function(){})),e.value(Function.cross.origin,"method",{methods:"GET,HEAD,PUT,PATCH,POST,DELETE"}),e.value(Function.cross.origin,"status",{optionsSuccessStatus:200}),e(Function,"seo",(function(e,t){return Function.seo.header(e,t)})),e(Function.seo,"header",(function(e,t){t=Function.option(t,{separator:"",tab:2});e=Function.seo.tag.convert(e);var n,r,i=[];for(var s in r=["title","description"])e[n=r[s]]&&i.push(Function.seo.tag[n].replace("%".concat(n),e[n]));for(var s in r=["title","description","type","site_name","url","image","image_type"])e[n=r[s]]&&i.push(Function.seo.tag.og[n].replace("%".concat(n),e[n]));for(var s in r=["title","description","url","image","card"])(n=r[s])in e&&i.push(Function.seo.tag.tweet[n].replace("%".concat(n),e[n]));return i.join(t.separator+String.char.ln.tab().repeat(t.tab))})),e.property(Function.seo,"tag",{title:Function.dom.format("meta",{name:"title",content:"%title"}),description:Function.dom.format("meta",{name:"description",content:"%description"}),og:{title:Function.dom.format("meta",{name:"og:title",property:"og:title",content:"%title"}),description:Function.dom.format("meta",{name:"og:description",property:"og:description",content:"%description"}),type:Function.dom.format("meta",{name:"og:type",property:"og:type",content:"%type"}),site_name:Function.dom.format("meta",{name:"og:site_name",property:"og:site_name",content:"%site_name"}),url:Function.dom.format("meta",{name:"og:url",property:"og:url",content:"%url"}),image:Function.dom.format("meta",{name:"og:image",property:"og:image",content:"%image"}),image_type:Function.dom.format("meta",{name:"og:image:type",property:"og:image:type",content:"%image_type"})},tweet:{title:Function.dom.format("meta",{name:"twitter:title",property:"twitter:title",content:"%title"}),description:Function.dom.format("meta",{name:"twitter:description",property:"twitter:description",content:"%description"}),url:Function.dom.format("meta",{name:"twitter:url",property:"twitter:url",content:"%url"}),image:Function.dom.format("meta",{name:"twitter:image",property:"twitter:image",content:"%image"}),card:Function.dom.format("meta",{name:"twitter:card",property:"twitter:card",content:"%card"})},convert:function(e){var t={};for(var n in e)if(Object.is.object(e[n]))for(var r in e[n])"site"===n&&"name"===r&&(t.site_name=e[n][r]),"image"===n&&("src"===r&&(t.image=e[n][r]),"type"===r&&(t.image_type=e[n][r]));else t[n]=e[n];return t}}),e(Function,"sitemap",(function(){return this})),e(Function.sitemap,"generate",(function(e){for(var t in e)if("archive"===t);})),e(Function.sitemap,"index",(function(){return this})),e(Function.sitemap.index,"generate",(function(){return this})),e(Function,"geo",(function(){return this})),e(Function.geo,"location",class{constructor(){}start(e,t){return(this.navigator=window.navigator.geolocation)&&e?e.call():t?t.call():void 0}watch(e,t,n){return this.id=this.navigator.watchPosition((function(t){e.call(null,t.coords)}),t,n)}clear(e){this.navigator.clearWatch(e||this.id)}}),e(Function.geo.location,"coordinate",(function(...e){return e.length>1?{latitude:e[0],longitude:e[1]}:e.length?{latitude:e[0].latitude,longitude:e[0].longitude}:{latitude:0,longitude:0}})),e(Function,"map",class{constructor(e,t,n){this.instance=Function[this.provider=n].map(e,t),this.icon=Function[this.provider].map.icon}marker(e){return new Function.map.marker(this,e)}center(...e){return this.instance.setCenter(this.coordinate(...e)),this}coordinate(...e){return Function[this.provider].map.coordinate(...e)}}),e(Function.map,"marker",class{constructor(e,t){this.marker=Function[(this.map=e).provider].map.marker(this.map.instance,t)}coordinate(...e){return this.marker.setPosition(this.map.coordinate(...e)),this}info_window(e){Function[this.map.provider].map.marker.info_window(this.map.instance,this.marker,Function[this.map.provider].map.info_window(e))}}),e(Function,"validation",class{constructor(){this.data={}}check(e,t){return this.data[e]=new Function.validation.check(e,t)}}),e(Function.validation,"check",class{constructor(e,t){this.key=e,this.value=t,this.data=[]}require(e,t){return this.data.push({key:"require",value:e,option:t}),this}length(e,t){return this.data.push({key:"length",value:e,option:t}),this}trim(e,t){return this.data.push({key:"trim",value:e,option:t}),this}string(e,t){return this.data.push({key:"string",value:e,option:t}),this}number(e,t){return this.data.push({key:"number",value:e,option:t}),this}url(e,t){return this.data.push({key:"url",value:e,option:t}),this}name(e,t){return this.data.push({key:"name",value:e,option:t}),this}user(e,t){return this.data.push({key:"user",value:e,option:t}),this}password(e,t){return this.data.push({key:"password",value:e,option:t}),this}email(e,t){return this.data.push({key:"email",value:e,option:t}),this}phone(e,t){return this.data.push({key:"phone",value:e,option:t}),this}}),e(Function.validation.check,"context",{trim:function(e,t,n,r){!0===n.value&&(t=Object.to.string(t).trim())},string:function(e,t,n,r){!0===n.value&&(t=Object.to.string(t))},number:function(e,t,n,r){!0===n.value||Object.is.number(t)?t=Object.to.number(t):r[e][n.key]=!0},url:function(e,t,n,r){if(Object.is.url(t))return!0;r[e][n.key]=!0},length:function(e,t,n,r){var i=Object.to.string(t).length;return"="===n.option&&i===n.value||("=>"===n.option&&i>=n.value||("<="===n.option&&i<=n.value||(i>=n.value||void(r[e][n.key]=!0))))},require:function(e,t,n,r){if(Object.is.integer(n.value)){if(Object.to.string(t).length>n.value-1)return!0;r[e].length=!0}if(Object.is.string(n.value)){if(t.includes(n.value))return!0;r[e][n.key]=!0}if(!1===Object.is.empty(t))return!0;r[e][n.key]=!0},name:function(e,t,n,r){var i=Function.option(n.value);if(Object.is.profile.name(t,i))return!0;r[e][n.key]=!0},user:function(e,t,n,r){var i=Function.option(n.value);if(Object.is.user.name(t,i))return!0;r[e][n.key]=!0},password:function(e,t,n,r){var i=Function.option(n.value);if(Object.is.password(t,i))return!0;r[e][n.key]=!0},email:function(e,t,n,r){var i=Function.option(n.value);if(Object.is.email(t,i))return!0;r[e][n.key]=!0},phone:function(e,t,n,r){if(Object.is.phone(t))return!0;r[e][n.key]=!0}}),e(Function,"validate",(function(e,t){return new Function.promise((function(n,r){if(e instanceof Function.validation){t=Function.option(t);var i={},s={},o=0;for(var a in e.data){var c=e.data[a].key,u=e.data[a].value;for(var l in!1===c in s&&(s[c]={}),t.trim&&(u=Object.to.string(u).trim()),t.string&&(u=Object.to.string(u)),t.number&&(u=Object.to.number(u)),e.data[a].data){var h=e.data[a].data[l];h.key in Function.validation.check.context?Function.validation.check.context[h.key].call(null,c,u,h,s):h.key in Function.validate.check.context?Function.validate.check.context[h.key].call(null,c,u,h,s):s[c][h.key]=!0}i[c]=u}for(var a in s)if(Object.length(s[a]))for(var l in s[a])o++;else delete s[a];o?r({name:"validation",data:s}):n(i)}else r()}))})),e(Function.validate,"check",(function(e,t){return Function.validate.check.context[e]=t})),e(Function.validate.check,"context",{}),e(Function,"password",(function(){})),e.value(Function.password,"length",8),e.value(Function.password,"char",["~","!","@","#"]),e(Object.to,"password",(function(e){return Function.hash.password(Object.to.string(e))})),e(Object.is,"password",(function(e,t){t=Function.option(t,{length:Function.password.length});var n=t.length-1;if(e=Object.to.string(e).trim()){var r=e.explode();if(String.char.alpha.small.explode().have(r)&&String.char.alpha.big.explode().have(r)&&String.char.alpha.number.explode().have(r)&&Function.password.char.have(r)&&e.length>n)return!0}return!1})),e(Function,"profile",(function(){})),e(Function.profile,"name",(function(){})),e.value(Function.profile.name,"length",6),e(Object.is,"profile",(function(){})),e(Object.is.profile,"name",(function(e,t){t=Function.option(t,{length:Function.profile.name.length});t.length;if(e=Object.to.string(e).toLowerCase().trim()){e.explode();if(String.char.alpha.small.explode().includes(e.begin())){if(e.includes(" ".repeat(2)))return!1;if(e.includes("'".repeat(2)))return!1;var n=e.split(" ");for(var r in n){if(!1===String.char.alpha.small.explode().include(n[r].delete("'").explode()))return!1;if(!1===String.char.alpha.small.explode().includes(n[r].begin()))return!1}return!0}}return!1})),e(Function,"user",(function(){})),e(Function.user,"name",(function(){})),e.value(Function.user.name,"length",6),e(Object.is,"user",(function(){})),e(Object.is.user,"name",(function(e,t){t=Function.option(t,{length:Function.user.name.length});var n=t.length-1;if((e=Object.to.string(e).toLowerCase().trim())&&String.char.alpha.small.explode().includes(e.begin())&&String.char.alpha.numeric.explode().includes(e.end())&&String.char.alpha.numeric.explode().concat(String.char.special).include(e.explode())){for(var r in String.char.special)if(e.includes(String.char.special[r].repeat(2)))return!1;if(e.length>n)return!0}return!1})),e(Function,"email",(function(){})),e(Function.email,"format",(function(e,t){return e.concat("@",t)})),e(Object.is,"email",(function(e,t){if(t=Function.option(t),e=Object.to.string(e).toLowerCase().trim()){var n=e.before("@").trim(),r=e.after("@").trim();if(Object.is.user.name(n,t.length)&&Object.is.url.host(URL.parse(r)))return!0}return!1})),e(Function,"phone",(function(){})),e(Object.is,"phone",(function(e){return!(!(e=Object.to.string(e).toLowerCase().trim())||!["+","0"].includes(e.substr(0,1)))&&Object.is.number(e.substr(1).delete("-").trim(String.space))})),e(Function,"bot",(function(){})),e(Function,"google",(function(){})),e(Function.google,"tag",(function(){return"GTM-MSBVQZ5"})),e(Function.google.tag,"manager",(function(e,t,n,r,i,s){s=s||"",e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=t.getElementsByTagName(n)[0],a=t.createElement(n),c="dataLayer"!=r?"&l="+r:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+i+c+s,o.parentNode.insertBefore(a,o)})),e(Function.google,"map",(function(e,t){return new google.maps.Map(e,t)})),e(Function.google.map,"marker",(function(e,t){return new google.maps.Marker(Object.assign({map:e},t))})),e(Function.google.map.marker,"info_window",(function(e,t,n){t.addListener("click",(function(){n.open(e,t)}))})),e(Function.google.map,"info_window",(function(e){return new google.maps.InfoWindow({content:e})})),e(Function.google.map,"coordinate",(function(...e){return new google.maps.LatLng(Number((e=Function.geo.location.coordinate(...e)).latitude),Number(e.longitude))})),e.value(Function.google.map,"icon",{base:{url:"https://maps.google.com/mapfiles/kml/shapes/"}}),Function.google.map.icon.base.src={library:Function.google.map.icon.base.url+"library_maps.png",parking:Function.google.map.icon.base.url+"parking_lot_maps.png",info:Function.google.map.icon.base.url+"info-i_maps.png"},Function.google.map.icon.src={"flag-beach":"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"},e(Function.google,"fire",(function(){})),e(Function.google.fire,"base",class{constructor(e){this.auth=new Function.google.fire.base.auth(this),e&&this.start(e)}start(e){this.link=Function.google.fire.base.app(Function.google.fire.base.config(this.config=e)),this.authentication=Function.google.fire.base.app.auth(this.link)}}),e(Function.google.fire.base,"auth",class{constructor(e){this.fire={base:e},this.with=new Function.google.fire.base.auth.with(e)}state(e){return Function.google.fire.base.app.auth.state(this.fire.base.authentication,e)}register(e,t){return Function.google.fire.base.app.auth.email.register(this.fire.base.authentication,e,t)}login(e,t){return Function.google.fire.base.app.auth.email.login(this.fire.base.authentication,e,t)}logout(){return Function.google.fire.base.app.auth.email.logout(this.fire.base.authentication)}}),e(Function.google.fire.base.auth,"with",class{constructor(e){this.fire={base:e}}}),e(Function.google.fire.base,"config",(function(e){return e?{appId:e.id,apiKey:e.key,messagingSenderId:e.messaging,projectId:e.project,authDomain:e.domain,storageBucket:e.bucket}:{}})),e(Function,"module",(function(e){return e+"/node_modules"})),e.value(Function.module,"name",(function(){return"node_modules"})),e(Function,"package",(function(e){return e+"/node_packages"})),e.value(Function.package,"name",(function(){return"node_packages"})),e(Function.package,"lock",(function(e){return e+URL["package-lock"]})),e(Function.package,"json",(function(){})),e(Function,"application",class{}),e(Function,"app",class{constructor(){this.router=[],this.try=[],this.socket=new Function.app.socket}pipe(e,t){return this.router.push({method:"pipe",url:e,context:t}),this}all(e,t){return this.router.push({method:"all",url:e,context:t}),this}header(e,t){return this.router.push({method:"head",url:e,context:t}),this}get(e,t){return this.router.push({method:"get",url:e,context:t}),this}post(e,t){return this.router.push({method:"post",url:e,context:t}),this}insert(e,t){return this.router.push({method:"post",url:e,context:t}),this}put(e,t){return this.router.push({method:"put",url:e,context:t}),this}update(e,t){return this.router.push({method:"put",url:e,context:t}),this}delete(e,t){return this.router.push({method:"delete",url:e,context:t}),this}catch(e,t){return this.try.push({url:e,context:t}),this}on(e,t){return this.socket.on.push({key:e,value:t}),this}}),e(Function.app,"socket",class{constructor(){this.router=[],this.on=[]}pipe(e,t){return this.router.push({method:"pipe",url:e,context:t}),this}all(e,t){return this.router.push({method:"all",url:e,context:t}),this}header(e,t){return this.router.push({method:"head",url:e,context:t}),this}get(e,t){return this.router.push({method:"get",url:e,context:t}),this}post(e,t){return this.router.push({method:"post",url:e,context:t}),this}insert(e,t){return this.router.push({method:"post",url:e,context:t}),this}put(e,t){return this.router.push({method:"put",url:e,context:t}),this}update(e,t){return this.router.push({method:"put",url:e,context:t}),this}delete(e,t){return this.router.push({method:"delete",url:e,context:t}),this}}),e(Function,"console",(function(){}))},972:()=>{Function.define(Function,"file",(function(){})),Function.define(Function.file,"name",(function(){})),Function.define(Function.file,"extension",(function(e){var t=e.split(".");return t.length>1&&(t=t[t.length-1])?"."+t:""}))},744:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},808:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>WP,Dl:()=>GP,vI:()=>KP});var r={};n.r(r),n.d(r,{Decoder:()=>bs,Encoder:()=>vs,PacketType:()=>ys,protocol:()=>gs});var i={};n.r(i),n.d(i,{FirebaseError:()=>Pc,SDK_VERSION:()=>kl,_DEFAULT_ENTRY_NAME:()=>hl,_addComponent:()=>ml,_addOrOverwriteComponent:()=>gl,_apps:()=>fl,_clearComponents:()=>wl,_components:()=>pl,_getProvider:()=>vl,_registerComponent:()=>yl,_removeServiceInstance:()=>bl,deleteApp:()=>Ol,getApp:()=>Sl,getApps:()=>Cl,initializeApp:()=>Tl,onLog:()=>Al,registerVersion:()=>xl,setLogLevel:()=>Rl});var s=n(252),o=n(262),a=n(963);
/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const c="undefined"!==typeof window;function u(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const l=Object.assign;function h(e,t){const n={};for(const r in t){const i=t[r];n[r]=f(i)?i.map(e):e(i)}return n}const d=()=>{},f=Array.isArray;const p=/\/$/,m=e=>e.replace(p,"");function g(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=t.slice(0,c),s=t.slice(c+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=k(null!=r?r:t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function y(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function v(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function b(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&w(t.matched[r],n.matched[i])&&_(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function w(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!I(e[n],t[n]))return!1;return!0}function I(e,t){return f(e)?E(e,t):f(t)?E(t,e):e===t}function E(e,t){return f(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function k(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,s,o=n.length-1;for(i=0;i<r.length;i++)if(s=r[i],"."!==s){if(".."!==s)break;o>1&&o--}return n.slice(0,o).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var T,S;(function(e){e["pop"]="pop",e["push"]="push"})(T||(T={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(S||(S={}));function C(e){if(!e)if(c){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),m(e)}const O=/^[^#]+#/;function x(e,t){return e.replace(O,"#")+t}function A(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const R=()=>({left:window.pageXOffset,top:window.pageYOffset});function N(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=A(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function F(e,t){const n=history.state?history.state.position-t:-1;return n+e}const D=new Map;function P(e,t){D.set(e,t)}function L(e){const t=D.get(e);return D.delete(e),t}let j=()=>location.protocol+"//"+location.host;function M(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let t=i.includes(e.slice(s))?e.slice(s).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),v(n,"")}const o=v(n,e);return o+r+i}function U(e,t,n,r){let i=[],s=[],o=null;const a=({state:s})=>{const a=M(e,location),c=n.value,u=t.value;let l=0;if(s){if(n.value=a,t.value=s,o&&o===c)return void(o=null);l=u?s.position-u.position:0}else r(a);i.forEach((e=>{e(n.value,c,{delta:l,type:T.pop,direction:l?l>0?S.forward:S.back:S.unknown})}))};function c(){o=n.value}function u(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return s.push(t),t}function h(){const{history:e}=window;e.state&&e.replaceState(l({},e.state,{scroll:R()}),"")}function d(){for(const e of s)e();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h),{pauseListeners:c,listen:u,destroy:d}}function V(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?R():null}}function B(e){const{history:t,location:n}=window,r={value:M(e,n)},i={value:t.state};function s(r,s,o){const a=e.indexOf("#"),c=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:j()+e+r;try{t[o?"replaceState":"pushState"](s,"",c),i.value=s}catch(u){console.error(u),n[o?"replace":"assign"](c)}}function o(e,n){const o=l({},t.state,V(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});s(e,o,!0),r.value=e}function a(e,n){const o=l({},i.value,t.state,{forward:e,scroll:R()});s(o.current,o,!0);const a=l({},V(r.value,e,null),{position:o.position+1},n);s(e,a,!1),r.value=e}return i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:a,replace:o}}function q(e){e=C(e);const t=B(e),n=U(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=l({location:"",base:e,go:r,createHref:x.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function $(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),q(e)}function z(e){return"string"===typeof e||e&&"object"===typeof e}function H(e){return"string"===typeof e||"symbol"===typeof e}const G={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},K=Symbol("");var W;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(W||(W={}));function Z(e,t){return l(new Error,{type:e,[K]:!0},t)}function Q(e,t){return e instanceof Error&&K in e&&(null==t||!!(e.type&t))}const J="[^/]+?",Y={sensitive:!1,strict:!1,start:!0,end:!0},X=/[.+*?^${}()[\]/\\]/g;function ee(e,t){const n=l({},Y,t),r=[];let i=n.start?"^":"";const s=[];for(const l of e){const e=l.length?[]:[90];n.strict&&!l.length&&(i+="/");for(let t=0;t<l.length;t++){const r=l[t];let o=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(X,"\\$&"),o+=40;else if(1===r.type){const{value:e,repeatable:n,optional:a,regexp:c}=r;s.push({name:e,repeatable:n,optional:a});const h=c||J;if(h!==J){o+=10;try{new RegExp(`(${h})`)}catch(u){throw new Error(`Invalid custom RegExp for param "${e}" (${h}): `+u.message)}}let d=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;t||(d=a&&l.length<2?`(?:/${d})`:"/"+d),a&&(d+="?"),i+=d,o+=20,a&&(o+=-8),n&&(o+=-20),".*"===h&&(o+=-50)}e.push(o)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(e){const t=e.match(o),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=s[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function c(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:s,repeatable:o,optional:a}=e,c=s in t?t[s]:"";if(f(c)&&!o)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const u=f(c)?c.join("/"):c;if(!u){if(!a)throw new Error(`Missing required param "${s}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=u}}return n||"/"}return{re:o,score:r,keys:s,parse:a,stringify:c}}function te(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function ne(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=te(r[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-r.length)){if(re(r))return 1;if(re(i))return-1}return i.length-r.length}function re(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ie={type:0,value:""},se=/[a-zA-Z0-9_]/;function oe(e){if(!e)return[[]];if("/"===e)return[[ie]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${u}": ${e}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a,c=0,u="",l="";function h(){u&&(0===n?s.push({type:0,value:u}):1===n||2===n||3===n?(s.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),u="")}function d(){u+=a}while(c<e.length)if(a=e[c++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(u&&h(),o()):":"===a?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:"("===a?n=2:se.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--,l="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function ae(e,t,n){const r=ee(oe(e.path),n);const i=l(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ce(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function s(e,n,r){const i=!r,a=le(e);a.aliasOf=r&&r.record;const u=pe(t,e),h=[a];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)h.push(l({},a,{components:r?r.record.components:a.components,path:e,aliasOf:r?r.record:a}))}let f,p;for(const t of h){const{path:l}=t;if(n&&"/"!==l[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(l&&r+l)}if(f=ae(t,n,u),r?r.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),i&&e.name&&!de(f)&&o(e.name)),a.children){const e=a.children;for(let t=0;t<e.length;t++)s(e[t],f,r&&r.children[t])}r=r||f,(f.record.components&&Object.keys(f.record.components).length||f.record.name||f.record.redirect)&&c(f)}return p?()=>{o(p)}:d}function o(e){if(H(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function a(){return n}function c(e){let t=0;while(t<n.length&&ne(e,n[t])>=0&&(e.record.path!==n[t].record.path||!me(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!de(e)&&r.set(e.record.name,e)}function u(e,t){let i,s,o,a={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw Z(1,{location:e});0,o=i.record.name,a=l(ue(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&ue(e.params,i.keys.map((e=>e.name)))),s=i.stringify(a)}else if("path"in e)s=e.path,i=n.find((e=>e.re.test(s))),i&&(a=i.parse(s),o=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw Z(1,{location:e,currentLocation:t});o=i.record.name,a=l({},t.params,e.params),s=i.stringify(a)}const c=[];let u=i;while(u)c.unshift(u.record),u=u.parent;return{name:o,path:s,params:a,matched:c,meta:fe(c)}}return t=pe({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>s(e))),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function ue(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function le(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:he(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function he(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function de(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function fe(e){return e.reduce(((e,t)=>l(e,t.meta)),{})}function pe(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function me(e,t){return t.children.some((t=>t===e||me(e,t)))}const ge=/#/g,ye=/&/g,ve=/\//g,be=/=/g,we=/\?/g,_e=/\+/g,Ie=/%5B/g,Ee=/%5D/g,ke=/%5E/g,Te=/%60/g,Se=/%7B/g,Ce=/%7C/g,Oe=/%7D/g,xe=/%20/g;function Ae(e){return encodeURI(""+e).replace(Ce,"|").replace(Ie,"[").replace(Ee,"]")}function Re(e){return Ae(e).replace(Se,"{").replace(Oe,"}").replace(ke,"^")}function Ne(e){return Ae(e).replace(_e,"%2B").replace(xe,"+").replace(ge,"%23").replace(ye,"%26").replace(Te,"`").replace(Se,"{").replace(Oe,"}").replace(ke,"^")}function Fe(e){return Ne(e).replace(be,"%3D")}function De(e){return Ae(e).replace(ge,"%23").replace(we,"%3F")}function Pe(e){return null==e?"":De(e).replace(ve,"%2F")}function Le(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function je(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(_e," "),n=e.indexOf("="),s=Le(n<0?e:e.slice(0,n)),o=n<0?null:Le(e.slice(n+1));if(s in t){let e=t[s];f(e)||(e=t[s]=[e]),e.push(o)}else t[s]=o}return t}function Me(e){let t="";for(let n in e){const r=e[n];if(n=Fe(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const i=f(r)?r.map((e=>e&&Ne(e))):[r&&Ne(r)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Ue(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=f(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const Ve=Symbol(""),Be=Symbol(""),qe=Symbol(""),$e=Symbol(""),ze=Symbol("");function He(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ge(e,t,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((o,a)=>{const c=e=>{!1===e?a(Z(4,{from:n,to:t})):e instanceof Error?a(e):z(e)?a(Z(2,{from:t,to:e})):(s&&r.enterCallbacks[i]===s&&"function"===typeof e&&s.push(e),o())},u=e.call(r&&r.instances[i],t,n,c);let l=Promise.resolve(u);e.length<3&&(l=l.then(c)),l.catch((e=>a(e)))}))}function Ke(e,t,n,r){const i=[];for(const s of e){0;for(const e in s.components){let o=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if(We(o)){const a=o.__vccOpts||o,c=a[t];c&&i.push(Ge(c,n,r,s,e))}else{let a=o();0,i.push((()=>a.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const o=u(i)?i.default:i;s.components[e]=o;const a=o.__vccOpts||o,c=a[t];return c&&Ge(c,n,r,s,e)()}))))}}}return i}function We(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function Ze(e){const t=(0,s.f3)(qe),n=(0,s.f3)($e),r=(0,s.Fl)((()=>t.resolve((0,o.SU)(e.to)))),i=(0,s.Fl)((()=>{const{matched:e}=r.value,{length:t}=e,i=e[t-1],s=n.matched;if(!i||!s.length)return-1;const o=s.findIndex(w.bind(null,i));if(o>-1)return o;const a=et(e[t-2]);return t>1&&et(i)===a&&s[s.length-1].path!==a?s.findIndex(w.bind(null,e[t-2])):o})),a=(0,s.Fl)((()=>i.value>-1&&Xe(n.params,r.value.params))),c=(0,s.Fl)((()=>i.value>-1&&i.value===n.matched.length-1&&_(n.params,r.value.params)));function u(n={}){return Ye(n)?t[(0,o.SU)(e.replace)?"replace":"push"]((0,o.SU)(e.to)).catch(d):Promise.resolve()}return{route:r,href:(0,s.Fl)((()=>r.value.href)),isActive:a,isExactActive:c,navigate:u}}const Qe=(0,s.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ze,setup(e,{slots:t}){const n=(0,o.qj)(Ze(e)),{options:r}=(0,s.f3)(qe),i=(0,s.Fl)((()=>({[tt(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[tt(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:(0,s.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Je=Qe;function Ye(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Xe(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!f(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function et(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const tt=(e,t,n)=>null!=e?e:null!=t?t:n,nt=(0,s.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=(0,s.f3)(ze),i=(0,s.Fl)((()=>e.route||r.value)),a=(0,s.f3)(Be,0),c=(0,s.Fl)((()=>{let e=(0,o.SU)(a);const{matched:t}=i.value;let n;while((n=t[e])&&!n.components)e++;return e})),u=(0,s.Fl)((()=>i.value.matched[c.value]));(0,s.JJ)(Be,(0,s.Fl)((()=>c.value+1))),(0,s.JJ)(Ve,u),(0,s.JJ)(ze,i);const h=(0,o.iH)();return(0,s.YP)((()=>[h.value,u.value,e.name]),(([e,t,n],[r,i,s])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&w(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=i.value,o=e.name,a=u.value,c=a&&a.components[o];if(!c)return rt(n.default,{Component:c,route:r});const d=a.props[o],f=d?!0===d?r.params:"function"===typeof d?d(r):d:null,p=e=>{e.component.isUnmounted&&(a.instances[o]=null)},m=(0,s.h)(c,l({},f,t,{onVnodeUnmounted:p,ref:h}));return rt(n.default,{Component:m,route:r})||m}}});function rt(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const it=nt;function st(e){const t=ce(e.routes,e),n=e.parseQuery||je,r=e.stringifyQuery||Me,i=e.history;const a=He(),u=He(),p=He(),m=(0,o.XI)(G);let v=G;c&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=h.bind(null,(e=>""+e)),_=h.bind(null,Pe),I=h.bind(null,Le);function E(e,n){let r,i;return H(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function k(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function S(){return t.getRoutes().map((e=>e.record))}function C(e){return!!t.getRecordMatcher(e)}function O(e,s){if(s=l({},s||m.value),"string"===typeof e){const r=g(n,e,s.path),o=t.resolve({path:r.path},s),a=i.createHref(r.fullPath);return l(r,o,{params:I(o.params),hash:Le(r.hash),redirectedFrom:void 0,href:a})}let o;if("path"in e)o=l({},e,{path:g(n,e.path,s.path).path});else{const t=l({},e.params);for(const e in t)null==t[e]&&delete t[e];o=l({},e,{params:_(e.params)}),s.params=_(s.params)}const a=t.resolve(o,s),c=e.hash||"";a.params=w(I(a.params));const u=y(r,l({},e,{hash:Re(c),path:a.path})),h=i.createHref(u);return l({fullPath:u,hash:c,query:r===Me?Ue(e.query):e.query||{}},a,{redirectedFrom:void 0,href:h})}function x(e){return"string"===typeof e?g(n,e,m.value.path):l({},e)}function A(e,t){if(v!==e)return Z(8,{from:t,to:e})}function D(e){return U(e)}function j(e){return D(l(x(e),{replace:!0}))}function M(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=x(r):{path:r},r.params={}),l({query:e.query,hash:e.hash,params:"path"in r?{}:e.params},r)}}function U(e,t){const n=v=O(e),i=m.value,s=e.state,o=e.force,a=!0===e.replace,c=M(n);if(c)return U(l(x(c),{state:"object"===typeof c?l({},s,c.state):s,force:o,replace:a}),t||n);const u=n;let h;return u.redirectedFrom=t,!o&&b(r,i,n)&&(h=Z(16,{to:u,from:i}),ne(i,i,!0,!1)),(h?Promise.resolve(h):B(u,i)).catch((e=>Q(e)?Q(e,2)?e:te(e):X(e,u,i))).then((e=>{if(e){if(Q(e,2))return U(l({replace:a},x(e.to),{state:"object"===typeof e.to?l({},s,e.to.state):s,force:o}),t||u)}else e=$(u,i,!0,a,s);return q(u,i,e),e}))}function V(e,t){const n=A(e,t);return n?Promise.reject(n):Promise.resolve()}function B(e,t){let n;const[r,i,s]=at(e,t);n=Ke(r.reverse(),"beforeRouteLeave",e,t);for(const a of r)a.leaveGuards.forEach((r=>{n.push(Ge(r,e,t))}));const o=V.bind(null,e,t);return n.push(o),ot(n).then((()=>{n=[];for(const r of a.list())n.push(Ge(r,e,t));return n.push(o),ot(n)})).then((()=>{n=Ke(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(Ge(r,e,t))}));return n.push(o),ot(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(f(r.beforeEnter))for(const i of r.beforeEnter)n.push(Ge(i,e,t));else n.push(Ge(r.beforeEnter,e,t));return n.push(o),ot(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=Ke(s,"beforeRouteEnter",e,t),n.push(o),ot(n)))).then((()=>{n=[];for(const r of u.list())n.push(Ge(r,e,t));return n.push(o),ot(n)})).catch((e=>Q(e,8)?e:Promise.reject(e)))}function q(e,t,n){for(const r of p.list())r(e,t,n)}function $(e,t,n,r,s){const o=A(e,t);if(o)return o;const a=t===G,u=c?history.state:{};n&&(r||a?i.replace(e.fullPath,l({scroll:a&&u&&u.scroll},s)):i.push(e.fullPath,s)),m.value=e,ne(e,t,n,a),te()}let z;function K(){z||(z=i.listen(((e,t,n)=>{if(!oe.listening)return;const r=O(e),s=M(r);if(s)return void U(l(s,{replace:!0}),r).catch(d);v=r;const o=m.value;c&&P(F(o.fullPath,n.delta),R()),B(r,o).catch((e=>Q(e,12)?e:Q(e,2)?(U(e.to,r).then((e=>{Q(e,20)&&!n.delta&&n.type===T.pop&&i.go(-1,!1)})).catch(d),Promise.reject()):(n.delta&&i.go(-n.delta,!1),X(e,r,o)))).then((e=>{e=e||$(r,o,!1),e&&(n.delta&&!Q(e,8)?i.go(-n.delta,!1):n.type===T.pop&&Q(e,20)&&i.go(-1,!1)),q(r,o,e)})).catch(d)})))}let W,J=He(),Y=He();function X(e,t,n){te(e);const r=Y.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function ee(){return W&&m.value!==G?Promise.resolve():new Promise(((e,t)=>{J.add([e,t])}))}function te(e){return W||(W=!e,K(),J.list().forEach((([t,n])=>e?n(e):t())),J.reset()),e}function ne(t,n,r,i){const{scrollBehavior:o}=e;if(!c||!o)return Promise.resolve();const a=!r&&L(F(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return(0,s.Y3)().then((()=>o(t,n,a))).then((e=>e&&N(e))).catch((e=>X(e,t,n)))}const re=e=>i.go(e);let ie;const se=new Set,oe={currentRoute:m,listening:!0,addRoute:E,removeRoute:k,hasRoute:C,getRoutes:S,resolve:O,options:e,push:D,replace:j,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:a.add,beforeResolve:u.add,afterEach:p.add,onError:Y.add,isReady:ee,install(e){const t=this;e.component("RouterLink",Je),e.component("RouterView",it),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,o.SU)(m)}),c&&!ie&&m.value===G&&(ie=!0,D(i.location).catch((e=>{0})));const n={};for(const i in G)n[i]=(0,s.Fl)((()=>m.value[i]));e.provide(qe,t),e.provide($e,(0,o.qj)(n)),e.provide(ze,m);const r=e.unmount;se.add(e),e.unmount=function(){se.delete(e),se.size<1&&(v=G,z&&z(),z=null,m.value=G,ie=!1,W=!1),r()}}};return oe}function ot(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function at(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const s=t.matched[o];s&&(e.matched.find((e=>w(e,s)))?r.push(s):n.push(s));const a=e.matched[o];a&&(t.matched.find((e=>w(e,a)))||i.push(a))}return[n,r,i]}function ct(){return(0,s.f3)(qe)}function ut(){return(0,s.f3)($e)}function lt(){return ht().__VUE_DEVTOOLS_GLOBAL_HOOK__}function ht(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const dt="function"===typeof Proxy,ft="devtools-plugin:setup",pt="plugin:settings:set";let mt,gt;function yt(){var e;return void 0!==mt||("undefined"!==typeof window&&window.performance?(mt=!0,gt=window.performance):"undefined"!==typeof n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(mt=!0,gt=n.g.perf_hooks.performance):mt=!1),mt}function vt(){return yt()?gt.now():Date.now()}class bt{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const o in e.settings){const t=e.settings[o];n[o]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(i,t)}catch(s){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(s){}i=e},now(){return vt()}},t&&t.on(pt,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function wt(e,t){const n=e,r=ht(),i=lt(),s=dt&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&s){const e=s?new bt(n,i):null,o=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];o.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else i.emit(ft,e,t)}
/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */
var _t="store";function It(e){return void 0===e&&(e=null),(0,s.f3)(null!==e?e:_t)}function Et(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function kt(e){return null!==e&&"object"===typeof e}function Tt(e){return e&&"function"===typeof e.then}function St(e,t){return function(){return e(t)}}function Ct(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Ot(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;At(e,n,[],e._modules.root,!0),xt(e,n,t)}function xt(e,t,n){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,c={},u={},l=(0,o.B)(!0);l.run((function(){Et(a,(function(t,n){c[n]=St(t,e),u[n]=(0,s.Fl)((function(){return c[n]()})),Object.defineProperty(e.getters,n,{get:function(){return u[n].value},enumerable:!0})}))})),e._state=(0,o.qj)({data:t}),e._scope=l,e.strict&&Lt(e),r&&n&&e._withCommit((function(){r.data=null})),i&&i.stop()}function At(e,t,n,r,i){var s=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!s&&!i){var a=jt(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){a[c]=r.state}))}var u=r.context=Rt(e,o,n);r.forEachMutation((function(t,n){var r=o+n;Ft(e,r,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:o+n,i=t.handler||t;Dt(e,r,i,u)})),r.forEachGetter((function(t,n){var r=o+n;Pt(e,r,t,u)})),r.forEachChild((function(r,s){At(e,t,n.concat(s),r,i)}))}function Rt(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var s=Mt(n,r,i),o=s.payload,a=s.options,c=s.type;return a&&a.root||(c=t+c),e.dispatch(c,o)},commit:r?e.commit:function(n,r,i){var s=Mt(n,r,i),o=s.payload,a=s.options,c=s.type;a&&a.root||(c=t+c),e.commit(c,o,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return Nt(e,t)}},state:{get:function(){return jt(e.state,n)}}}),i}function Nt(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function Ft(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function Dt(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return Tt(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function Pt(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function Lt(e){(0,s.YP)((function(){return e._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function jt(e,t){return t.reduce((function(e,t){return e[t]}),e)}function Mt(e,t,n){return kt(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var Ut="vuex bindings",Vt="vuex:mutations",Bt="vuex:actions",qt="vuex",$t=0;function zt(e,t){wt({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Ut]},(function(n){n.addTimelineLayer({id:Vt,label:"Vuex Mutations",color:Ht}),n.addTimelineLayer({id:Bt,label:"Vuex Actions",color:Ht}),n.addInspector({id:qt,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===qt)if(n.filter){var r=[];Jt(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[Qt(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===qt){var r=n.nodeId;Nt(t,r),n.state=Yt(en(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===qt){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(qt),n.sendInspectorState(qt),n.addTimelineEvent({layerId:Vt,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=$t++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:Bt,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},i=Date.now()-e._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:Bt,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var Ht=8702998,Gt=6710886,Kt=16777215,Wt={label:"namespaced",textColor:Kt,backgroundColor:Gt};function Zt(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function Qt(e,t){return{id:t||"root",label:Zt(t),tags:e.namespaced?[Wt]:[],children:Object.keys(e._children).map((function(n){return Qt(e._children[n],t+n+"/")}))}}function Jt(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[Wt]:[]}),Object.keys(t._children).forEach((function(i){Jt(e,t._children[i],n,r+i+"/")}))}function Yt(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var s=Xt(t);i.getters=Object.keys(s).map((function(e){return{key:e.endsWith("/")?Zt(e):e,editable:!1,value:tn((function(){return s[e]}))}}))}return i}function Xt(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var i=t,s=r.pop();r.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[s]=tn((function(){return e[n]}))}else t[n]=tn((function(){return e[n]}))})),t}function en(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,i){var s=e[r];if(!s)throw new Error('Missing module "'+r+'" for path "'+t+'".');return i===n.length-1?s:s._children}),"root"===t?e:e.root._children)}function tn(e){try{return e()}catch(t){return t}}var nn=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},rn={namespaced:{configurable:!0}};rn.namespaced.get=function(){return!!this._rawModule.namespaced},nn.prototype.addChild=function(e,t){this._children[e]=t},nn.prototype.removeChild=function(e){delete this._children[e]},nn.prototype.getChild=function(e){return this._children[e]},nn.prototype.hasChild=function(e){return e in this._children},nn.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},nn.prototype.forEachChild=function(e){Et(this._children,e)},nn.prototype.forEachGetter=function(e){this._rawModule.getters&&Et(this._rawModule.getters,e)},nn.prototype.forEachAction=function(e){this._rawModule.actions&&Et(this._rawModule.actions,e)},nn.prototype.forEachMutation=function(e){this._rawModule.mutations&&Et(this._rawModule.mutations,e)},Object.defineProperties(nn.prototype,rn);var sn=function(e){this.register([],e,!1)};function on(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;on(e.concat(r),t.getChild(r),n.modules[r])}}sn.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},sn.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},sn.prototype.update=function(e){on([],this.root,e)},sn.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new nn(t,n);if(0===e.length)this.root=i;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],i)}t.modules&&Et(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},sn.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},sn.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};function an(e){return new cn(e)}var cn=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new sn(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var s=this,o=this,a=o.dispatch,c=o.commit;this.dispatch=function(e,t){return a.call(s,e,t)},this.commit=function(e,t,n){return c.call(s,e,t,n)},this.strict=r;var u=this._modules.root.state;At(this,u,[],this._modules.root),xt(this,u),n.forEach((function(e){return e(t)}))},un={state:{configurable:!0}};cn.prototype.install=function(e,t){e.provide(t||_t,this),e.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&zt(e,this)},un.state.get=function(){return this._state.data},un.state.set=function(e){0},cn.prototype.commit=function(e,t,n){var r=this,i=Mt(e,t,n),s=i.type,o=i.payload,a=(i.options,{type:s,payload:o}),c=this._mutations[s];c&&(this._withCommit((function(){c.forEach((function(e){e(o)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},cn.prototype.dispatch=function(e,t){var n=this,r=Mt(e,t),i=r.type,s=r.payload,o={type:i,payload:s},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(o,n.state)}))}catch(u){0}var c=a.length>1?Promise.all(a.map((function(e){return e(s)}))):a[0](s);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(o,n.state)}))}catch(u){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(o,n.state,e)}))}catch(u){0}t(e)}))}))}},cn.prototype.subscribe=function(e,t){return Ct(e,this._subscribers,t)},cn.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return Ct(n,this._actionSubscribers,t)},cn.prototype.watch=function(e,t,n){var r=this;return(0,s.YP)((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},cn.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},cn.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),At(this,this.state,e,this._modules.get(e),n.preserveState),xt(this,this.state)},cn.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=jt(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),Ot(this)},cn.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},cn.prototype.hotUpdate=function(e){this._modules.update(e),Ot(this,!0)},cn.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(cn.prototype,un);dn((function(e,t){var n={};return ln(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=fn(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),dn((function(e,t){var n={};return ln(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var s=fn(this.$store,"mapMutations",e);if(!s)return;r=s.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),dn((function(e,t){var n={};return ln(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||fn(this.$store,"mapGetters",e))return this.$store.getters[i]},n[r].vuex=!0})),n})),dn((function(e,t){var n={};return ln(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var s=fn(this.$store,"mapActions",e);if(!s)return;r=s.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function ln(e){return hn(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function hn(e){return Array.isArray(e)||kt(e)}function dn(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function fn(e,t,n){var r=e._modulesNamespaceMap[n];return r}var pn=!1;function mn(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}
/*!
  * pinia v2.0.28
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
let gn;const yn=e=>gn=e,vn=Symbol();function bn(e){return e&&"object"===typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!==typeof e.toJSON}var wn;(function(e){e["direct"]="direct",e["patchObject"]="patch object",e["patchFunction"]="patch function"})(wn||(wn={}));const _n="undefined"!==typeof window,In=!1,En=(()=>"object"===typeof window&&window.window===window?window:"object"===typeof self&&self.self===self?self:"object"===typeof global&&global.global===global?global:"object"===typeof globalThis?globalThis:{HTMLElement:null})();function kn(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function Tn(e,t,n){const r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){An(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function Sn(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function Cn(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const On="object"===typeof navigator?navigator:{userAgent:""},xn=(()=>/Macintosh/.test(On.userAgent)&&/AppleWebKit/.test(On.userAgent)&&!/Safari/.test(On.userAgent))(),An=_n?"undefined"!==typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!xn?Rn:"msSaveOrOpenBlob"in On?Nn:Fn:()=>{};function Rn(e,t="download",n){const r=document.createElement("a");r.download=t,r.rel="noopener","string"===typeof e?(r.href=e,r.origin!==location.origin?Sn(r.href)?Tn(e,t,n):(r.target="_blank",Cn(r)):Cn(r)):(r.href=URL.createObjectURL(e),setTimeout((function(){URL.revokeObjectURL(r.href)}),4e4),setTimeout((function(){Cn(r)}),0))}function Nn(e,t="download",n){if("string"===typeof e)if(Sn(e))Tn(e,t,n);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout((function(){Cn(t)}))}else navigator.msSaveOrOpenBlob(kn(e,n),t)}function Fn(e,t,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"===typeof e)return Tn(e,t,n);const i="application/octet-stream"===e.type,s=/constructor/i.test(String(En.HTMLElement))||"safari"in En,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s||xn)&&"undefined"!==typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!==typeof e)throw r=null,new Error("Wrong reader.result type");e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location.assign(e),r=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);r?r.location.assign(t):location.href=t,r=null,setTimeout((function(){URL.revokeObjectURL(t)}),4e4)}}function Dn(e,t){const n=" "+e;"function"===typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,t):"error"===t?console.error(n):"warn"===t?console.warn(n):console.log(n)}function Pn(e){return"_a"in e&&"install"in e}function Ln(){if(!("clipboard"in navigator))return Dn("Your browser doesn't support the Clipboard API","error"),!0}function jn(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(Dn('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}async function Mn(e){if(!Ln())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),Dn("Global state copied to clipboard.")}catch(t){if(jn(t))return;Dn("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function Un(e){if(!Ln())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),Dn("Global state pasted from clipboard.")}catch(t){if(jn(t))return;Dn("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function Vn(e){try{An(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){Dn("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let Bn;function qn(){function e(){return new Promise(((e,t)=>{Bn.onchange=async()=>{const t=Bn.files;if(!t)return e(null);const n=t.item(0);return e(n?{text:await n.text(),file:n}:null)},Bn.oncancel=()=>e(null),Bn.onerror=t,Bn.click()}))}return Bn||(Bn=document.createElement("input"),Bn.type="file",Bn.accept=".json"),e}async function $n(e){try{const t=await qn(),n=await t();if(!n)return;const{text:r,file:i}=n;e.state.value=JSON.parse(r),Dn(`Global state imported from "${i.name}".`)}catch(t){Dn("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function zn(e){return{_custom:{display:e}}}const Hn=" Pinia (root)",Gn="_root";function Kn(e){return Pn(e)?{id:Gn,label:Hn}:{id:e.$id,label:e.$id}}function Wn(e){if(Pn(e)){const t=Array.from(e._s.keys()),n=e._s,r={state:t.map((t=>({editable:!0,key:t,value:e.state.value[t]}))),getters:t.filter((e=>n.get(e)._getters)).map((e=>{const t=n.get(e);return{editable:!1,key:e,value:t._getters.reduce(((e,n)=>(e[n]=t[n],e)),{})}}))};return r}const t={state:Object.keys(e.$state).map((t=>({editable:!0,key:t,value:e.$state[t]})))};return e._getters&&e._getters.length&&(t.getters=e._getters.map((t=>({editable:!1,key:t,value:e[t]})))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map((t=>({editable:!0,key:t,value:e[t]})))),t}function Zn(e){return e?Array.isArray(e)?e.reduce(((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:zn(e.type),key:zn(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function Qn(e){switch(e){case wn.direct:return"mutation";case wn.patchFunction:return"$patch";case wn.patchObject:return"$patch";default:return"unknown"}}let Jn=!0;const Yn=[],Xn="pinia:mutations",er="pinia",tr=e=>" "+e;function nr(e,t){wt({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Yn,app:e},(n=>{"function"!==typeof n.now&&Dn("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:Xn,label:"Pinia ",color:15064968}),n.addInspector({id:er,label:"Pinia ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{Mn(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await Un(t),n.sendInspectorTree(er),n.sendInspectorState(er)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{Vn(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await $n(t),n.sendInspectorTree(er),n.sendInspectorState(er)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:e=>{const n=t._s.get(e);n?n._isOptionsAPI?(n.$reset(),Dn(`Store "${e}" reset.`)):Dn(`Cannot reset "${e}" store because it's a setup store.`,"warn"):Dn(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(((e,t)=>{const n=e.componentInstance&&e.componentInstance.proxy;if(n&&n._pStores){const t=e.componentInstance.proxy._pStores;Object.values(t).forEach((t=>{e.instanceData.state.push({type:tr(t.$id),key:"state",editable:!0,value:t._isOptionsAPI?{_custom:{value:(0,o.IU)(t.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>t.$reset()}]}}:Object.keys(t.$state).reduce(((e,n)=>(e[n]=t.$state[n],e)),{})}),t._getters&&t._getters.length&&e.instanceData.state.push({type:tr(t.$id),key:"getters",editable:!1,value:t._getters.reduce(((e,n)=>{try{e[n]=t[n]}catch(r){e[n]=r}return e}),{})})}))}})),n.on.getInspectorTree((n=>{if(n.app===e&&n.inspectorId===er){let e=[t];e=e.concat(Array.from(t._s.values())),n.rootNodes=(n.filter?e.filter((e=>"$id"in e?e.$id.toLowerCase().includes(n.filter.toLowerCase()):Hn.toLowerCase().includes(n.filter.toLowerCase()))):e).map(Kn)}})),n.on.getInspectorState((n=>{if(n.app===e&&n.inspectorId===er){const e=n.nodeId===Gn?t:t._s.get(n.nodeId);if(!e)return;e&&(n.state=Wn(e))}})),n.on.editInspectorState(((n,r)=>{if(n.app===e&&n.inspectorId===er){const e=n.nodeId===Gn?t:t._s.get(n.nodeId);if(!e)return Dn(`store "${n.nodeId}" not found`,"error");const{path:r}=n;Pn(e)?r.unshift("state"):1===r.length&&e._customProperties.has(r[0])&&!(r[0]in e.$state)||r.unshift("$state"),Jn=!1,n.set(e,r,n.state.value),Jn=!0}})),n.on.editComponentState((e=>{if(e.type.startsWith("")){const n=e.type.replace(/^\s*/,""),r=t._s.get(n);if(!r)return Dn(`store "${n}" not found`,"error");const{path:i}=e;if("state"!==i[0])return Dn(`Invalid path for store "${n}":\n${i}\nOnly state can be modified.`);i[0]="$state",Jn=!1,e.set(r,i,e.state.value),Jn=!0}}))}))}function rr(e,t){Yn.includes(tr(t.$id))||Yn.push(tr(t.$id)),wt({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Yn,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(e=>{const n="function"===typeof e.now?e.now.bind(e):Date.now;t.$onAction((({after:r,onError:i,name:s,args:o})=>{const a=sr++;e.addTimelineEvent({layerId:Xn,event:{time:n(),title:" "+s,subtitle:"start",data:{store:zn(t.$id),action:zn(s),args:o},groupId:a}}),r((r=>{ir=void 0,e.addTimelineEvent({layerId:Xn,event:{time:n(),title:" "+s,subtitle:"end",data:{store:zn(t.$id),action:zn(s),args:o,result:r},groupId:a}})})),i((r=>{ir=void 0,e.addTimelineEvent({layerId:Xn,event:{time:n(),logType:"error",title:" "+s,subtitle:"end",data:{store:zn(t.$id),action:zn(s),args:o,error:r},groupId:a}})}))}),!0),t._customProperties.forEach((r=>{(0,s.YP)((()=>(0,o.SU)(t[r])),((t,i)=>{e.notifyComponentUpdate(),e.sendInspectorState(er),Jn&&e.addTimelineEvent({layerId:Xn,event:{time:n(),title:"Change",subtitle:r,data:{newValue:t,oldValue:i},groupId:ir}})}),{deep:!0})})),t.$subscribe((({events:r,type:i},s)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(er),!Jn)return;const o={time:n(),title:Qn(i),data:{store:zn(t.$id),...Zn(r)},groupId:ir};ir=void 0,i===wn.patchFunction?o.subtitle="":i===wn.patchObject?o.subtitle="":r&&!Array.isArray(r)&&(o.subtitle=r.type),r&&(o.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),e.addTimelineEvent({layerId:Xn,event:o})}),{detached:!0,flush:"sync"});const r=t._hotUpdate;t._hotUpdate=(0,o.Xl)((i=>{r(i),e.addTimelineEvent({layerId:Xn,event:{time:n(),title:" "+t.$id,subtitle:"HMR update",data:{store:zn(t.$id),info:zn("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(er),e.sendInspectorState(er)}));const{$dispose:i}=t;t.$dispose=()=>{i(),e.notifyComponentUpdate(),e.sendInspectorTree(er),e.sendInspectorState(er),e.getSettings().logStoreChanges&&Dn(`Disposed "${t.$id}" store `)},e.notifyComponentUpdate(),e.sendInspectorTree(er),e.sendInspectorState(er),e.getSettings().logStoreChanges&&Dn(`"${t.$id}" store installed `)}))}let ir,sr=0;function or(e,t){const n=t.reduce(((t,n)=>(t[n]=(0,o.IU)(e)[n],t)),{});for(const r in n)e[r]=function(){const t=sr,i=new Proxy(e,{get(...e){return ir=t,Reflect.get(...e)},set(...e){return ir=t,Reflect.set(...e)}});return n[r].apply(i,arguments)}}function ar({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(n.state&&(t._isOptionsAPI=!0),"function"===typeof n.state){or(t,Object.keys(n.actions));const e=t._hotUpdate;(0,o.IU)(t)._hotUpdate=function(n){e.apply(this,arguments),or(t,Object.keys(n._hmrPayload.actions))}}rr(e,t)}}function cr(){const e=(0,o.B)(!0),t=e.run((()=>(0,o.iH)({})));let n=[],r=[];const i=(0,o.Xl)({install(e){yn(i),pn||(i._a=e,e.provide(vn,i),e.config.globalProperties.$pinia=i,In&&nr(e,i),r.forEach((e=>n.push(e))),r=[])},use(e){return this._a||pn?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return In&&"undefined"!==typeof Proxy&&i.use(ar),i}const ur=()=>{};function lr(e,t,n,r=ur){e.push(t);const i=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!n&&(0,o.nZ)()&&(0,o.EB)(i),i}function hr(e,...t){e.slice().forEach((e=>{e(...t)}))}function dr(e,t){e instanceof Map&&t instanceof Map&&t.forEach(((t,n)=>e.set(n,t))),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];bn(i)&&bn(r)&&e.hasOwnProperty(n)&&!(0,o.dq)(r)&&!(0,o.PG)(r)?e[n]=dr(i,r):e[n]=r}return e}const fr=Symbol(),pr=new WeakMap;function mr(e){return pn?!pr.has(e):!bn(e)||!e.hasOwnProperty(fr)}const{assign:gr}=Object;function yr(e){return!(!(0,o.dq)(e)||!e.effect)}function vr(e,t,n,r){const{state:i,actions:a,getters:c}=t,u=n.state.value[e];let l;function h(){u||(pn?mn(n.state.value,e,i?i():{}):n.state.value[e]=i?i():{});const t=(0,o.BK)(n.state.value[e]);return gr(t,a,Object.keys(c||{}).reduce(((t,r)=>(t[r]=(0,o.Xl)((0,s.Fl)((()=>{yn(n);const t=n._s.get(e);if(!pn||t._r)return c[r].call(t,t)}))),t)),{}))}return l=br(e,h,t,n,r,!0),l.$reset=function(){const e=i?i():{};this.$patch((t=>{gr(t,e)}))},l}function br(e,t,n={},r,i,a){let c;const u=gr({actions:{}},n);const l={deep:!0};let h,d;let f,p=(0,o.Xl)([]),m=(0,o.Xl)([]);const g=r.state.value[e];a||g||(pn?mn(r.state.value,e,{}):r.state.value[e]={});const y=(0,o.iH)({});let v;function b(t){let n;h=d=!1,"function"===typeof t?(t(r.state.value[e]),n={type:wn.patchFunction,storeId:e,events:f}):(dr(r.state.value[e],t),n={type:wn.patchObject,payload:t,storeId:e,events:f});const i=v=Symbol();(0,s.Y3)().then((()=>{v===i&&(h=!0)})),d=!0,hr(p,n,r.state.value[e])}const w=ur;function _(){c.stop(),p=[],m=[],r._s.delete(e)}function I(t,n){return function(){yn(r);const i=Array.from(arguments),s=[],o=[];function a(e){s.push(e)}function c(e){o.push(e)}let u;hr(m,{args:i,name:t,store:T,after:a,onError:c});try{u=n.apply(this&&this.$id===e?this:T,i)}catch(l){throw hr(o,l),l}return u instanceof Promise?u.then((e=>(hr(s,e),e))).catch((e=>(hr(o,e),Promise.reject(e)))):(hr(s,u),u)}}const E=(0,o.Xl)({actions:{},getters:{},state:[],hotState:y}),k={_p:r,$id:e,$onAction:lr.bind(null,m),$patch:b,$reset:w,$subscribe(t,n={}){const i=lr(p,t,n.detached,(()=>o())),o=c.run((()=>(0,s.YP)((()=>r.state.value[e]),(r=>{("sync"===n.flush?d:h)&&t({storeId:e,type:wn.direct,events:f},r)}),gr({},l,n))));return i},$dispose:_};pn&&(k._r=!1);const T=(0,o.qj)(In?gr({_hmrPayload:E,_customProperties:(0,o.Xl)(new Set)},k):k);r._s.set(e,T);const S=r._e.run((()=>(c=(0,o.B)(),c.run((()=>t())))));for(const s in S){const t=S[s];if((0,o.dq)(t)&&!yr(t)||(0,o.PG)(t))a||(g&&mr(t)&&((0,o.dq)(t)?t.value=g[s]:dr(t,g[s])),pn?mn(r.state.value[e],s,t):r.state.value[e][s]=t);else if("function"===typeof t){const e=I(s,t);pn?mn(S,s,e):S[s]=e,u.actions[s]=t}else 0}if(pn?Object.keys(S).forEach((e=>{mn(T,e,S[e])})):(gr(T,S),gr((0,o.IU)(T),S)),Object.defineProperty(T,"$state",{get:()=>r.state.value[e],set:e=>{b((t=>{gr(t,e)}))}}),In){const e={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((t=>{Object.defineProperty(T,t,{value:T[t],...e})}))}return pn&&(T._r=!0),r._p.forEach((e=>{if(In){const t=c.run((()=>e({store:T,app:r._a,pinia:r,options:u})));Object.keys(t||{}).forEach((e=>T._customProperties.add(e))),gr(T,t)}else gr(T,c.run((()=>e({store:T,app:r._a,pinia:r,options:u}))))})),g&&a&&n.hydrate&&n.hydrate(T.$state,g),h=!0,d=!0,T}function wr(e,t,n){let r,i;const o="function"===typeof t;function a(e,n){const a=(0,s.FN)();e=e||a&&(0,s.f3)(vn,null),e&&yn(e),e=gn,e._s.has(r)||(o?br(r,t,i,e):vr(r,i,e));const c=e._s.get(r);return c}return"string"===typeof e?(r=e,i=o?n:t):(i=e,r=e.id),a.$id=r,a}function _r(){}function Ir(){return ut()}function Er(){return ct()}function kr(){}function Tr(e,...t){if("list"in Function.event&&Function.event.list[e])for(var n in Function.event.list[e])Function.event.list[e][n].call(null,...t)}function Sr(e,t){return"mount"===e?(0,s.bv)(t):"un:mount"===e?(0,s.Ah)(t):"update"===e?(0,s.ic)(t):void("list"in Function.event&&(e in Function.event.list===!1&&(Function.event.list[e]=[]),Function.event.list[e].push(t)))}function Cr(e,t,n){e.config.globalProperties[t]=n}function Or(e){return e.$slots}function xr(...e){return Vr.layout(...e)}function Ar(...e){return Vr.component(...e)}function Rr(...e){return Vr.element(...e)}function Nr(){}function Fr(){}function Dr(){}function Pr(e=null){return(0,o.iH)(e)}function Lr(e,t){for(var n in t)e[n]=t[n];return e}function jr(e,...t){return t.length?jr.data[jr.format(e)]=t[zero]:(e=jr.data[jr.format(e)])?e:""}function Mr(...e){return Mr.state(...e)}function Ur(e){Dr.url=e.BASE_URL,Ur.mode=e.MODE}function Vr(e,t){return e.router&&(e.id="__router__"+e.router),e.layout&&(e.id="__layout__"+e.layout),e.component&&(e.id="__component__"+e.component),e.element&&(e.id="__element__"+e.element),{name:e.id||e.name||Math.random().toString(),props:e.prop||e.properties||e.param||e.parameter||e.attribute||[],setup(t){return e.setup?e.setup.call(this,t):{}},mounted(){e.mount&&e.mount.call(this),t&&t.mount&&t.mount.call(this)},unmounted(){e.eject&&e.eject.call(this),t&&t.eject&&t.eject.call(this)},created(){e.create&&e.create.call(this),t&&t.create&&t.create.call(this)},updated(){e.update&&e.update.call(this),t&&t.update&&t.update.call(this)},watch:e.watch,methods:e.method}}Er.slot=function(...e){return Vr.router(...e)},Er.create=st,Er.history=q,Er.hash={tag:$},Er.try={catch:"/:catchAll(.*)"},Sr.line=(0,o.iH)(!0),Sr.loading=function(){return Sr.loading.data.value.length},Sr.loading.insert=function(e){Sr.loading.data.value.push(e)},Sr.loading.delete=function(e){Sr.loading.data.value=Sr.loading.data.value.delete(e)},Sr.loading.spin=function(){return Sr.loading.data.value.length},Sr.loading.data=(0,o.iH)([]),Dr.get=function(...e){return kr.axios.get(...e)},Dr.post=function(...e){return kr.axios.post(...e)},Lr.clear=function(e){for(var t in e)delete e[t]},jr.format=function(e){var t="vue.model.";return(e=e||"*").toString().startsWith(t)?e.substr(t.length):e},jr.delete=function(e){return delete jr.data[jr.format(e)]},jr.clear=function(e){if(e)if(Array.isArray(e))for(var t in e)jr.delete(e[t]);else jr.delete(e);else for(var t in jr.data)delete jr.data[t]},Mr.data=function(e){return"pinia"===e?cr():an({strict:!0,state:{dummy:[]},mutations:{mutation(e,t){t.call(null,e)}}})},Mr.use=function(e){return"pinia"===e?wr("pinia",{state:function(){return{dummy:[]}},actions:{mutation(e){e.call(null,this)}}})():It()},Vr.router=function(e){return e.router=e.id||e.name||e.router,Vr(e)},Vr.layout=function(e){return e.layout=e.id||e.name||e.layout,Vr(e)},Vr.component=function(e){return e.component=e.id||e.name||e.component,Vr(e)},Vr.element=function(e){return e.element=e.id||e.name||e.element,Vr(e)};const Br={proto:_r,application:a.ri,properties:Cr,to:{reference:o.BK},reference:Pr,react:Lr,reactive:function(e={}){return(0,o.qj)(e)},compute:s.Fl,watch:s.YP,watching:s.m0,inject:s.f3,store:Mr,model:jr,route:Ir,router:Er,library:kr,on:Sr,emit:Tr,process:Ur,request:Dr,response:Fr,respond:Nr,slot:Or,layout:xr,component:Ar,element:Rr,directive:function(e,t,n){Object.is.function(n)?e.directive(t,{beforeMount:n,updated:n}):e.directive(t,{beforeMount:n.mount,updated:n.update})},next:Vr};n(972);var qr=n(106),$r=n.n(qr),zr=n(389),Hr=n.n(zr),Gr=n(872),Kr=n.n(Gr);Function.define(Function,"hash",(function(){})),Function.define(Function.hash,"md",(function(e){return $r()((e||String.empty).toString()).toString()})),Function.define(Function.hash,"sha",(function(e){return Kr()((e||String.empty).toString()).toString()})),Function.define(Function.hash.sha,"one",(function(e){return Hr()((e||String.empty).toString()).toString()})),Function.define(Function.hash,"password",(function(e){return Function.hash.md(e)+Function.hash.sha(e)+Function.hash.sha.one(e)})),Function.define(Function.hash,"s",(function(e,t){t=t||{separator:"-"};var n=Function.hash.md(e),r=Function.hash.sha(e),i=Function.hash.sha.one(e);return[n,r,i].join(t.separator).substr(t.offset,t.length)})),Function.define(Function.hash,"shuffle",(function(...e){var t=[],n=String.char.alpha.numeric,r=Function.hash.shuffle.length;for(var i in e)Object.is.string(e[i])?n=e[i]:Object.is.integer(e[i])&&(r=e[i]);for(i=0;i<r;i++)t.push(n.rand());return t.implode()})),Function.define(Function.hash.shuffle,"length",24,{configurable:!0,enumerable:!0,writable:!0});const Wr=Object.create(null);Wr["open"]="0",Wr["close"]="1",Wr["ping"]="2",Wr["pong"]="3",Wr["message"]="4",Wr["upgrade"]="5",Wr["noop"]="6";const Zr=Object.create(null);Object.keys(Wr).forEach((e=>{Zr[Wr[e]]=e}));const Qr={type:"error",data:"parser error"},Jr="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Yr="function"===typeof ArrayBuffer,Xr=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ei=({type:e,data:t},n,r)=>Jr&&t instanceof Blob?n?r(t):ti(t,r):Yr&&(t instanceof ArrayBuffer||Xr(t))?n?r(t):ti(new Blob([t]),r):r(Wr[e]+(t||"")),ti=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)},ni=ei,ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ii="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let QP=0;QP<ri.length;QP++)ii[ri.charCodeAt(QP)]=QP;const si=e=>{let t,n,r,i,s,o=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const u=new ArrayBuffer(o),l=new Uint8Array(u);for(t=0;t<a;t+=4)n=ii[e.charCodeAt(t)],r=ii[e.charCodeAt(t+1)],i=ii[e.charCodeAt(t+2)],s=ii[e.charCodeAt(t+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&s;return u},oi="function"===typeof ArrayBuffer,ai=(e,t)=>{if("string"!==typeof e)return{type:"message",data:ui(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:ci(e.substring(1),t)};const r=Zr[n];return r?e.length>1?{type:Zr[n],data:e.substring(1)}:{type:Zr[n]}:Qr},ci=(e,t)=>{if(oi){const n=si(e);return ui(n,t)}return{base64:!0,data:e}},ui=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},li=ai,hi=String.fromCharCode(30),di=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,s)=>{ni(e,!1,(e=>{r[s]=e,++i===n&&t(r.join(hi))}))}))},fi=(e,t)=>{const n=e.split(hi),r=[];for(let i=0;i<n.length;i++){const e=li(n[i],t);if(r.push(e),"error"===e.type)break}return r},pi=4;function mi(e){if(e)return gi(e)}function gi(e){for(var t in mi.prototype)e[t]=mi.prototype[t];return e}mi.prototype.on=mi.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},mi.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},mi.prototype.off=mi.prototype.removeListener=mi.prototype.removeAllListeners=mi.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},mi.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);r=0;for(var i=n.length;r<i;++r)n[r].apply(this,t)}return this},mi.prototype.emitReserved=mi.prototype.emit,mi.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},mi.prototype.hasListeners=function(e){return!!this.listeners(e).length};const yi=(()=>"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")())();function vi(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const bi=setTimeout,wi=clearTimeout;function _i(e,t){t.useNativeTimers?(e.setTimeoutFn=bi.bind(yi),e.clearTimeoutFn=wi.bind(yi)):(e.setTimeoutFn=setTimeout.bind(yi),e.clearTimeoutFn=clearTimeout.bind(yi))}const Ii=1.33;function Ei(e){return"string"===typeof e?ki(e):Math.ceil((e.byteLength||e.size)*Ii)}function ki(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}class Ti extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Si extends mi{constructor(e){super(),this.writable=!1,_i(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new Ti(e,t,n)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=li(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const Ci="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Oi=64,xi={};let Ai,Ri=0,Ni=0;function Fi(e){let t="";do{t=Ci[e%Oi]+t,e=Math.floor(e/Oi)}while(e>0);return t}function Di(){const e=Fi(+new Date);return e!==Ai?(Ri=0,Ai=e):e+"."+Fi(Ri++)}for(;Ni<Oi;Ni++)xi[Ci[Ni]]=Ni;function Pi(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Li(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}let ji=!1;try{ji="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(ZP){}const Mi=ji;function Ui(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Mi))return new XMLHttpRequest}catch(n){}if(!t)try{return new(yi[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function Vi(){}const Bi=function(){const e=new Ui({xdomain:!1});return null!=e.responseType}();class qi extends Si{constructor(e){if(super(e),this.polling=!1,"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=Bi&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)};fi(e,this.socket.binaryType).forEach(t),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,di(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Di()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=Pi(e),i=-1!==this.opts.hostname.indexOf(":");return t+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new $i(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class $i extends mi{constructor(e,t){super(),_i(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=vi(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Ui(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(n){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{t.setRequestHeader("Accept","*/*")}catch(n){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(n){return void this.setTimeoutFn((()=>{this.onError(n)}),0)}"undefined"!==typeof document&&(this.index=$i.requestsCount++,$i.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Vi,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete $i.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if($i.requestsCount=0,$i.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",zi);else if("function"===typeof addEventListener){const e="onpagehide"in yi?"pagehide":"unload";addEventListener(e,zi,!1)}function zi(){for(let e in $i.requests)$i.requests.hasOwnProperty(e)&&$i.requests[e].abort()}const Hi=(()=>{const e="function"===typeof Promise&&"function"===typeof Promise.resolve;return e?e=>Promise.resolve().then(e):(e,t)=>t(e,0)})(),Gi=yi.WebSocket||yi.MozWebSocket,Ki=!0,Wi="arraybuffer",Zi="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Qi extends Si{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Zi?{}:vi(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Ki&&!Zi?t?new Gi(e,t):new Gi(e):new Gi(e,t,n)}catch(ZP){return this.emitReserved("error",ZP)}this.ws.binaryType=this.socket.binaryType||Wi,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;ni(n,this.supportsBinary,(e=>{const t={};if(!Ki&&(n.options&&(t.compress=n.options.compress),this.opts.perMessageDeflate)){const n="string"===typeof e?Buffer.byteLength(e):e.length;n<this.opts.perMessageDeflate.threshold&&(t.compress=!1)}try{Ki?this.ws.send(e):this.ws.send(e,t)}catch(i){}r&&Hi((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Di()),this.supportsBinary||(e.b64=1);const r=Pi(e),i=-1!==this.opts.hostname.indexOf(":");return t+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!!Gi}}const Ji={websocket:Qi,polling:qi},Yi=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Xi=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function es(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Yi.exec(e||""),s={},o=14;while(o--)s[Xi[o]]=i[o]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=ts(s,s["path"]),s.queryKey=ns(s,s["query"]),s}function ts(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1),"/"==t.slice(-1)&&r.splice(r.length-1,1),r}function ns(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}class rs extends mi{constructor(e,t={}){super(),e&&"object"===typeof e&&(t=e,e=null),e?(e=es(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=es(t.host).host),_i(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"===typeof this.opts.query&&(this.opts.query=Li(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=pi,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ji[e](n)}open(){let e;if(this.opts.rememberUpgrade&&rs.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(t){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;rs.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;rs.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,u(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function o(){s("transport closed")}function a(){s("socket closed")}function c(e){t&&e.name!==t.name&&i()}const u=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",o),this.off("close",a),this.off("upgrading",c)};t.once("open",r),t.once("error",s),t.once("close",o),this.once("close",a),this.once("upgrading",c),t.open()}onOpen(){if(this.readyState="open",rs.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){const e=this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1;if(!e)return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const e=this.writeBuffer[n].data;if(e&&(t+=Ei(e)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;n=n||{},n.compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){rs.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}rs.protocol=pi;rs.protocol;function is(e,t="",n){let r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=es(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":"),s=i?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const ss="function"===typeof ArrayBuffer,os=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,as=Object.prototype.toString,cs="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===as.call(Blob),us="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===as.call(File);function ls(e){return ss&&(e instanceof ArrayBuffer||os(e))||cs&&e instanceof Blob||us&&e instanceof File}function hs(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(hs(e[t]))return!0;return!1}if(ls(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return hs(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&hs(e[n]))return!0;return!1}function ds(e){const t=[],n=e.data,r=e;return r.data=fs(n,t),r.attachments=t.length,{packet:r,buffers:t}}function fs(e,t){if(!e)return e;if(ls(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=fs(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=fs(e[r],t));return n}return e}function ps(e,t){return e.data=ms(e.data,t),delete e.attachments,e}function ms(e,t){if(!e)return e;if(e&&!0===e._placeholder){const n="number"===typeof e.num&&e.num>=0&&e.num<t.length;if(n)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ms(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ms(e[n],t));return e}const gs=5;var ys;(function(e){e[e["CONNECT"]=0]="CONNECT",e[e["DISCONNECT"]=1]="DISCONNECT",e[e["EVENT"]=2]="EVENT",e[e["ACK"]=3]="ACK",e[e["CONNECT_ERROR"]=4]="CONNECT_ERROR",e[e["BINARY_EVENT"]=5]="BINARY_EVENT",e[e["BINARY_ACK"]=6]="BINARY_ACK"})(ys||(ys={}));class vs{constructor(e){this.replacer=e}encode(e){return e.type!==ys.EVENT&&e.type!==ys.ACK||!hs(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ys.EVENT?ys.BINARY_EVENT:ys.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==ys.BINARY_EVENT&&e.type!==ys.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=ds(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}class bs extends mi{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===ys.BINARY_EVENT;n||t.type===ys.BINARY_ACK?(t.type=n?ys.EVENT:ys.ACK,this.reconstructor=new ws(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ls(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===ys[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ys.BINARY_EVENT||n.type===ys.BINARY_ACK){const r=t+1;while("-"!==e.charAt(++t)&&t!=e.length);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;while(++t){const n=e.charAt(t);if(","===n)break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;while(++t){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!bs.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case ys.CONNECT:return"object"===typeof t;case ys.DISCONNECT:return void 0===t;case ys.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case ys.EVENT:case ys.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case ys.ACK:case ys.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ws{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=ps(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function _s(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Is=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Es extends mi{constructor(e,t,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[_s(e,"open",this.onopen.bind(this)),_s(e,"packet",this.onpacket.bind(this)),_s(e,"error",this.onerror.bind(this)),_s(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io["_reconnecting"]||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Is.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');t.unshift(e);const n={type:ys.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"===typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,i=this.flags.volatile&&(!r||!this.connected);return i||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){const n=this.flags.timeout;if(void 0===n)return void(this.acks[e]=t);const r=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),n);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this.packet({type:ys.CONNECT,data:e})})):this.packet({type:ys.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){const t=e.nsp===this.nsp;if(t)switch(e.type){case ys.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ys.EVENT:case ys.BINARY_EVENT:this.onevent(e);break;case ys.ACK:case ys.BINARY_ACK:this.onack(e);break;case ys.DISCONNECT:this.ondisconnect();break;case ys.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t);break}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:ys.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io["_destroy"](this)}disconnect(){return this.connected&&this.packet({type:ys.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function ks(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ks.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},ks.prototype.reset=function(){this.attempts=0},ks.prototype.setMin=function(e){this.ms=e},ks.prototype.setMax=function(e){this.max=e},ks.prototype.setJitter=function(e){this.jitter=e};class Ts extends mi{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,_i(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new ks({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new rs(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=_s(t,"open",(function(){n.onopen(),e&&e()})),i=_s(t,"error",(t=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&r();const n=this.setTimeoutFn((()=>{r(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(_s(e,"ping",this.onping.bind(this)),_s(e,"data",this.ondata.bind(this)),_s(e,"error",this.onerror.bind(this)),_s(e,"close",this.onclose.bind(this)),_s(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Hi((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new Es(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){const e=this.nsps[n];if(e.active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ss={};function Cs(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};const n=is(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Ss[i]&&s in Ss[i]["nsps"],a=t.forceNew||t["force new connection"]||!1===t.multiplex||o;let c;return a?c=new Ts(r,t):(Ss[i]||(Ss[i]=new Ts(r,t)),c=Ss[i]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}function Os(e,t){return function(){return e.apply(t,arguments)}}Object.assign(Cs,{Manager:Ts,Socket:Es,io:Cs,connect:Cs}),Function.define(Function.web.socket.io,"client",Cs,{configurable:!0,enumerable:!0,writable:!0});const{toString:xs}=Object.prototype,{getPrototypeOf:As}=Object,Rs=(e=>t=>{const n=xs.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ns=e=>(e=e.toLowerCase(),t=>Rs(t)===e),Fs=e=>t=>typeof t===e,{isArray:Ds}=Array,Ps=Fs("undefined");function Ls(e){return null!==e&&!Ps(e)&&null!==e.constructor&&!Ps(e.constructor)&&Vs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const js=Ns("ArrayBuffer");function Ms(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&js(e.buffer),t}const Us=Fs("string"),Vs=Fs("function"),Bs=Fs("number"),qs=e=>null!==e&&"object"===typeof e,$s=e=>!0===e||!1===e,zs=e=>{if("object"!==Rs(e))return!1;const t=As(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hs=Ns("Date"),Gs=Ns("File"),Ks=Ns("Blob"),Ws=Ns("FileList"),Zs=e=>qs(e)&&Vs(e.pipe),Qs=e=>{const t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||xs.call(e)===t||Vs(e.toString)&&e.toString()===t)},Js=Ns("URLSearchParams"),Ys=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xs(e,t,{allOwnKeys:n=!1}={}){if(null===e||"undefined"===typeof e)return;let r,i;if("object"!==typeof e&&(e=[e]),Ds(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let o;for(r=0;r<s;r++)o=i[r],t.call(null,e[o],o,e)}}function eo(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;while(i-- >0)if(r=n[i],t===r.toLowerCase())return r;return null}const to=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),no=e=>!Ps(e)&&e!==to;function ro(){const{caseless:e}=no(this)&&this||{},t={},n=(n,r)=>{const i=e&&eo(t,r)||r;zs(t[i])&&zs(n)?t[i]=ro(t[i],n):zs(n)?t[i]=ro({},n):Ds(n)?t[i]=n.slice():t[i]=n};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Xs(arguments[r],n);return t}const io=(e,t,n,{allOwnKeys:r}={})=>(Xs(t,((t,r)=>{n&&Vs(t)?e[r]=Os(t,n):e[r]=t}),{allOwnKeys:r}),e),so=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),oo=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ao=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{i=Object.getOwnPropertyNames(e),s=i.length;while(s-- >0)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&As(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},co=(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},uo=e=>{if(!e)return null;if(Ds(e))return e;let t=e.length;if(!Bs(t))return null;const n=new Array(t);while(t-- >0)n[t]=e[t];return n},lo=(e=>t=>e&&t instanceof e)("undefined"!==typeof Uint8Array&&As(Uint8Array)),ho=(e,t)=>{const n=e&&e[Symbol.iterator],r=n.call(e);let i;while((i=r.next())&&!i.done){const n=i.value;t.call(e,n[0],n[1])}},fo=(e,t)=>{let n;const r=[];while(null!==(n=e.exec(t)))r.push(n);return r},po=Ns("HTMLFormElement"),mo=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),go=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),yo=Ns("RegExp"),vo=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Xs(n,((n,i)=>{!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},bo=e=>{vo(e,((t,n)=>{if(Vs(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Vs(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},wo=(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Ds(e)?r(e):r(String(e).split(t)),n},_o=()=>{},Io=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Eo=e=>{const t=new Array(10),n=(e,r)=>{if(qs(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Ds(e)?[]:{};return Xs(e,((e,t)=>{const s=n(e,r+1);!Ps(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},ko={isArray:Ds,isArrayBuffer:js,isBuffer:Ls,isFormData:Qs,isArrayBufferView:Ms,isString:Us,isNumber:Bs,isBoolean:$s,isObject:qs,isPlainObject:zs,isUndefined:Ps,isDate:Hs,isFile:Gs,isBlob:Ks,isRegExp:yo,isFunction:Vs,isStream:Zs,isURLSearchParams:Js,isTypedArray:lo,isFileList:Ws,forEach:Xs,merge:ro,extend:io,trim:Ys,stripBOM:so,inherits:oo,toFlatObject:ao,kindOf:Rs,kindOfTest:Ns,endsWith:co,toArray:uo,forEachEntry:ho,matchAll:fo,isHTMLForm:po,hasOwnProperty:go,hasOwnProp:go,reduceDescriptors:vo,freezeMethods:bo,toObjectSet:wo,toCamelCase:mo,noop:_o,toFiniteNumber:Io,findKey:eo,global:to,isContextDefined:no,toJSONObject:Eo};function To(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ko.inherits(To,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ko.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const So=To.prototype,Co={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Co[e]={value:e}})),Object.defineProperties(To,Co),Object.defineProperty(So,"isAxiosError",{value:!0}),To.from=(e,t,n,r,i,s)=>{const o=Object.create(So);return ko.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),To.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Oo=To;var xo=n(69);const Ao=xo;function Ro(e){return ko.isPlainObject(e)||ko.isArray(e)}function No(e){return ko.endsWith(e,"[]")?e.slice(0,-2):e}function Fo(e,t,n){return e?e.concat(t).map((function(e,t){return e=No(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}function Do(e){return ko.isArray(e)&&!e.some(Ro)}const Po=ko.toFlatObject(ko,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Lo(e){return e&&ko.isFunction(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator]}function jo(e,t,n){if(!ko.isObject(e))throw new TypeError("target must be an object");t=t||new(Ao||FormData),n=ko.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ko.isUndefined(t[e])}));const r=n.metaTokens,i=n.visitor||l,s=n.dots,o=n.indexes,a=n.Blob||"undefined"!==typeof Blob&&Blob,c=a&&Lo(t);if(!ko.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(ko.isDate(e))return e.toISOString();if(!c&&ko.isBlob(e))throw new Oo("Blob is not supported. Use a Buffer instead.");return ko.isArrayBuffer(e)||ko.isTypedArray(e)?c&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(ko.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(ko.isArray(e)&&Do(e)||ko.isFileList(e)||ko.endsWith(n,"[]")&&(a=ko.toArray(e)))return n=No(n),a.forEach((function(e,r){!ko.isUndefined(e)&&null!==e&&t.append(!0===o?Fo([n],r,s):null===o?n:n+"[]",u(e))})),!1;return!!Ro(e)||(t.append(Fo(i,n,s),u(e)),!1)}const h=[],d=Object.assign(Po,{defaultVisitor:l,convertValue:u,isVisitable:Ro});function f(e,n){if(!ko.isUndefined(e)){if(-1!==h.indexOf(e))throw Error("Circular reference detected in "+n.join("."));h.push(e),ko.forEach(e,(function(e,r){const s=!(ko.isUndefined(e)||null===e)&&i.call(t,e,ko.isString(r)?r.trim():r,n,d);!0===s&&f(e,n?n.concat(r):[r])})),h.pop()}}if(!ko.isObject(e))throw new TypeError("data must be an object");return f(e),t}const Mo=jo;function Uo(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Vo(e,t){this._pairs=[],e&&Mo(e,this,t)}const Bo=Vo.prototype;Bo.append=function(e,t){this._pairs.push([e,t])},Bo.toString=function(e){const t=e?function(t){return e.call(this,t,Uo)}:Uo;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const qo=Vo;function $o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zo(e,t,n){if(!t)return e;const r=n&&n.encode||$o,i=n&&n.serialize;let s;if(s=i?i(t,n):ko.isURLSearchParams(t)?t.toString():new qo(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}class Ho{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ko.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const Go=Ho,Ko={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wo="undefined"!==typeof URLSearchParams?URLSearchParams:qo,Zo=FormData,Qo=(()=>{let e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)})(),Jo=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)(),Yo={isBrowser:!0,classes:{URLSearchParams:Wo,FormData:Zo,Blob},isStandardBrowserEnv:Qo,isStandardBrowserWebWorkerEnv:Jo,protocols:["http","https","file","blob","url","data"]};function Xo(e,t){return Mo(e,new Yo.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Yo.isNode&&ko.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function ea(e){return ko.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function ta(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function na(e){function t(e,n,r,i){let s=e[i++];const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&ko.isArray(r)?r.length:s,a)return ko.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&ko.isObject(r[s])||(r[s]=[]);const c=t(e,n,r[s],i);return c&&ko.isArray(r[s])&&(r[s]=ta(r[s])),!o}if(ko.isFormData(e)&&ko.isFunction(e.entries)){const n={};return ko.forEachEntry(e,((e,r)=>{t(ea(e),r,n,0)})),n}return null}const ra=na,ia={"Content-Type":void 0};function sa(e,t,n){if(ko.isString(e))try{return(t||JSON.parse)(e),ko.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}const oa={transitional:Ko,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=ko.isObject(e);i&&ko.isHTMLForm(e)&&(e=new FormData(e));const s=ko.isFormData(e);if(s)return r&&r?JSON.stringify(ra(e)):e;if(ko.isArrayBuffer(e)||ko.isBuffer(e)||ko.isStream(e)||ko.isFile(e)||ko.isBlob(e))return e;if(ko.isArrayBufferView(e))return e.buffer;if(ko.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Xo(e,this.formSerializer).toString();if((o=ko.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Mo(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),sa(e)):e}],transformResponse:[function(e){const t=this.transitional||oa.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&ko.isString(e)&&(n&&!this.responseType||r)){const n=t&&t.silentJSONParsing,s=!n&&r;try{return JSON.parse(e)}catch(i){if(s){if("SyntaxError"===i.name)throw Oo.from(i,Oo.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yo.classes.FormData,Blob:Yo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ko.forEach(["delete","get","head"],(function(e){oa.headers[e]={}})),ko.forEach(["post","put","patch"],(function(e){oa.headers[e]=ko.merge(ia)}));const aa=oa,ca=ko.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ua=e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&ca[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t},la=Symbol("internals");function ha(e){return e&&String(e).trim().toLowerCase()}function da(e){return!1===e||null==e?e:ko.isArray(e)?e.map(da):String(e)}function fa(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;while(r=n.exec(e))t[r[1]]=r[2];return t}function pa(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function ma(e,t,n,r){return ko.isFunction(r)?r.call(this,t,n):ko.isString(t)?ko.isString(r)?-1!==t.indexOf(r):ko.isRegExp(r)?r.test(t):void 0:void 0}function ga(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}function ya(e,t){const n=ko.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}class va{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=ha(t);if(!i)throw new Error("header name must be a non-empty string");const s=ko.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=da(e))}const s=(e,t)=>ko.forEach(e,((e,n)=>i(e,n,t)));return ko.isPlainObject(e)||e instanceof this.constructor?s(e,t):ko.isString(e)&&(e=e.trim())&&!pa(e)?s(ua(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=ha(e),e){const n=ko.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return fa(e);if(ko.isFunction(t))return t.call(this,e,n);if(ko.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ha(e),e){const n=ko.findKey(this,e);return!(!n||t&&!ma(this,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=ha(e),e){const i=ko.findKey(n,e);!i||t&&!ma(n,n[i],i,t)||(delete n[i],r=!0)}}return ko.isArray(e)?e.forEach(i):i(e),r}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const t=this,n={};return ko.forEach(this,((r,i)=>{const s=ko.findKey(n,i);if(s)return t[s]=da(r),void delete t[i];const o=e?ga(i):String(i).trim();o!==i&&delete t[i],t[o]=da(r),n[o]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ko.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&ko.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=this[la]=this[la]={accessors:{}},n=t.accessors,r=this.prototype;function i(e){const t=ha(e);n[t]||(ya(r,e),n[t]=!0)}return ko.isArray(e)?e.forEach(i):i(e),this}}va.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),ko.freezeMethods(va.prototype),ko.freezeMethods(va);const ba=va;function wa(e,t){const n=this||aa,r=t||n,i=ba.from(r.headers);let s=r.data;return ko.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function _a(e){return!(!e||!e.__CANCEL__)}function Ia(e,t,n){Oo.call(this,null==e?"canceled":e,Oo.ERR_CANCELED,t,n),this.name="CanceledError"}ko.inherits(Ia,Oo,{__CANCEL__:!0});const Ea=Ia,ka=null;function Ta(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Oo("Request failed with status code "+n.status,[Oo.ERR_BAD_REQUEST,Oo.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Sa=Yo.isStandardBrowserEnv?function(){return{write:function(e,t,n,r,i,s){const o=[];o.push(e+"="+encodeURIComponent(t)),ko.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ko.isString(r)&&o.push("path="+r),ko.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ca(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Oa(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function xa(e,t){return e&&!Ca(t)?Oa(e,t):t}const Aa=Yo.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=ko.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return function(){return!0}}();function Ra(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Na(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),u=r[o];i||(i=c),n[s]=a,r[s]=c;let l=o,h=0;while(l!==s)h+=n[l++],l%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-i<t)return;const d=u&&c-u;return d?Math.round(1e3*h/d):void 0}}const Fa=Na;function Da(e,t){let n=0;const r=Fa(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,c=r(a),u=s<=o;n=s;const l={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&u?(o-s)/c:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}const Pa="undefined"!==typeof XMLHttpRequest,La=Pa&&function(e){return new Promise((function(t,n){let r=e.data;const i=ba.from(e.headers).normalize(),s=e.responseType;let o;function a(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}ko.isFormData(r)&&(Yo.isStandardBrowserEnv||Yo.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const u=xa(e.baseURL,e.url);function l(){if(!c)return;const r=ba.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),i=s&&"text"!==s&&"json"!==s?c.response:c.responseText,o={data:i,status:c.status,statusText:c.statusText,headers:r,config:e,request:c};Ta((function(e){t(e),a()}),(function(e){n(e),a()}),o),c=null}if(c.open(e.method.toUpperCase(),zo(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=l:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(l)},c.onabort=function(){c&&(n(new Oo("Request aborted",Oo.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new Oo("Network Error",Oo.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||Ko;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Oo(t,r.clarifyTimeoutError?Oo.ETIMEDOUT:Oo.ECONNABORTED,e,c)),c=null},Yo.isStandardBrowserEnv){const t=(e.withCredentials||Aa(u))&&e.xsrfCookieName&&Sa.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in c&&ko.forEach(i.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),ko.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&"json"!==s&&(c.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&c.addEventListener("progress",Da(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Da(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{c&&(n(!t||t.type?new Ea(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const h=Ra(u);h&&-1===Yo.protocols.indexOf(h)?n(new Oo("Unsupported protocol "+h+":",Oo.ERR_BAD_REQUEST,e)):c.send(r||null)}))},ja={http:ka,xhr:La};ko.forEach(ja,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ma={getAdapter:e=>{e=ko.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t;i++)if(n=e[i],r=ko.isString(n)?ja[n.toLowerCase()]:n)break;if(!r){if(!1===r)throw new Oo(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(ko.hasOwnProp(ja,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!ko.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:ja};function Ua(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ea(null,e)}function Va(e){Ua(e),e.headers=ba.from(e.headers),e.data=wa.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);const t=Ma.getAdapter(e.adapter||aa.adapter);return t(e).then((function(t){return Ua(e),t.data=wa.call(e,e.transformResponse,t),t.headers=ba.from(t.headers),t}),(function(t){return _a(t)||(Ua(e),t&&t.response&&(t.response.data=wa.call(e,e.transformResponse,t.response),t.response.headers=ba.from(t.response.headers))),Promise.reject(t)}))}const Ba=e=>e instanceof ba?e.toJSON():e;function qa(e,t){t=t||{};const n={};function r(e,t,n){return ko.isPlainObject(e)&&ko.isPlainObject(t)?ko.merge.call({caseless:n},e,t):ko.isPlainObject(t)?ko.merge({},t):ko.isArray(t)?t.slice():t}function i(e,t,n){return ko.isUndefined(t)?ko.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!ko.isUndefined(t))return r(void 0,t)}function o(e,t){return ko.isUndefined(t)?ko.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(Ba(e),Ba(t),!0)};return ko.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){const s=c[r]||i,o=s(e[r],t[r],r);ko.isUndefined(o)&&s!==a||(n[r]=o)})),n}const $a="1.2.2",za={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{za[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ha={};function Ga(e,t,n){if("object"!==typeof e)throw new Oo("options must be an object",Oo.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;while(i-- >0){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new Oo("option "+s+" must be "+n,Oo.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Oo("Unknown option "+s,Oo.ERR_BAD_OPTION)}}za.transitional=function(e,t,n){function r(e,t){return"[Axios v"+$a+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new Oo(r(i," has been removed"+(t?" in "+t:"")),Oo.ERR_DEPRECATED);return t&&!Ha[i]&&(Ha[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};const Ka={assertOptions:Ga,validators:za},Wa=Ka.validators;class Za{constructor(e){this.defaults=e,this.interceptors={request:new Go,response:new Go}}request(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=qa(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;let s;void 0!==n&&Ka.assertOptions(n,{silentJSONParsing:Wa.transitional(Wa.boolean),forcedJSONParsing:Wa.transitional(Wa.boolean),clarifyTimeoutError:Wa.transitional(Wa.boolean)},!1),void 0!==r&&Ka.assertOptions(r,{encode:Wa.function,serialize:Wa.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),s=i&&ko.merge(i.common,i[t.method]),s&&ko.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=ba.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,h=0;if(!a){const e=[Va.bind(this),void 0];e.unshift.apply(e,o),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);while(h<l)u=u.then(e[h++],e[h++]);return u}l=o.length;let d=t;h=0;while(h<l){const e=o[h++],t=o[h++];try{d=e(d)}catch(f){t.call(this,f);break}}try{u=Va.call(this,d)}catch(f){return Promise.reject(f)}h=0,l=c.length;while(h<l)u=u.then(c[h++],c[h++]);return u}getUri(e){e=qa(this.defaults,e);const t=xa(e.baseURL,e.url);return zo(t,e.params,e.paramsSerializer)}}ko.forEach(["delete","get","head","options"],(function(e){Za.prototype[e]=function(t,n){return this.request(qa(n||{},{method:e,url:t,data:(n||{}).data}))}})),ko.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(qa(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Za.prototype[e]=t(),Za.prototype[e+"Form"]=t(!0)}));const Qa=Za;class Ja{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;while(t-- >0)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Ea(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new Ja((function(t){e=t}));return{token:t,cancel:e}}}const Ya=Ja;function Xa(e){return function(t){return e.apply(null,t)}}function ec(e){return ko.isObject(e)&&!0===e.isAxiosError}const tc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tc).forEach((([e,t])=>{tc[t]=e}));const nc=tc;function rc(e){const t=new Qa(e),n=Os(Qa.prototype.request,t);return ko.extend(n,Qa.prototype,t,{allOwnKeys:!0}),ko.extend(n,t,null,{allOwnKeys:!0}),n.create=function(t){return rc(qa(e,t))},n}const ic=rc(aa);ic.Axios=Qa,ic.CanceledError=Ea,ic.CancelToken=Ya,ic.isCancel=_a,ic.VERSION=$a,ic.toFormData=Mo,ic.AxiosError=Oo,ic.Cancel=ic.CanceledError,ic.all=function(e){return Promise.all(e)},ic.spread=Xa,ic.isAxiosError=ec,ic.mergeConfig=qa,ic.AxiosHeaders=ba,ic.formToJSON=e=>ra(ko.isHTMLForm(e)?new FormData(e):e),ic.HttpStatusCode=nc,ic.default=ic;const sc=ic;Function.define(Function,"axios",sc);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const oc=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ac=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],c=((7&i)<<18|(63&s)<<12|(63&o)<<6|63&a)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")},cc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,u=t>>2,l=(3&t)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oc(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ac(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length,o=s?n[e.charAt(i)]:0;++i;const a=i<e.length,c=a?n[e.charAt(i)]:64;++i;const u=i<e.length,l=u?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==c||null==l)throw Error();const h=t<<2|o>>4;if(r.push(h),64!==c){const e=o<<4&240|c>>2;if(r.push(e),64!==l){const e=c<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},uc=function(e){const t=oc(e);return cc.encodeByteArray(t,!0)},lc=function(e){return uc(e).replace(/\./g,"")},hc=function(e){try{return cc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&fc(n)&&(e[n]=dc(e[n],t[n]));return e}function fc(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function mc(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pc())}function gc(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function yc(){return"object"===typeof self&&self.self===self}function vc(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function bc(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function wc(){const e=pc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _c(){return!gc()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ic(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Ec(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}function kc(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=()=>kc().__FIREBASE_DEFAULTS__,Sc=()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",BASE_URL:"/"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0},Cc=()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&hc(e[1]);return t&&JSON.parse(t)},Oc=()=>{try{return Tc()||Sc()||Cc()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},xc=e=>{var t,n;return null===(n=null===(t=Oc())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ac=()=>{var e;return null===(e=Oc())||void 0===e?void 0:e.config},Rc=e=>{var t;return null===(t=Oc())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Nc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[lc(JSON.stringify(n)),lc(JSON.stringify(o)),a].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="FirebaseError";class Pc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Dc,Object.setPrototypeOf(this,Pc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lc.prototype.create)}}class Lc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?jc(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`,a=new Pc(r,o,n);return a}}function jc(e,t){return e.replace(Mc,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}const Mc=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Uc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Vc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Bc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(qc(n)&&qc(s)){if(!Bc(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qc(e){return null!==e&&"object"===typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $c(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function zc(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Hc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(e,t){const n=new Kc(e,t);return n.subscribe.bind(n)}class Kc{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=Wc(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Zc),void 0===r.error&&(r.error=Zc),void 0===r.complete&&(r.complete=Zc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Wc(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}function Zc(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qc(e){return e&&e._delegate?e._delegate:e}class Jc{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Nc;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(tu(e))try{this.getOrInitializeService({instanceIdentifier:Yc})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=Yc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Yc){return this.instances.has(e)}getOptions(e=Yc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(i);n===e&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(ON){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:eu(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(ON){}return n||null}normalizeInstanceIdentifier(e=Yc){return this.component?this.component.multipleInstances?e:Yc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function eu(e){return e===Yc?void 0:e}function tu(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Xc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ru=[];var iu;(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(iu||(iu={}));const su={debug:iu.DEBUG,verbose:iu.VERBOSE,info:iu.INFO,warn:iu.WARN,error:iu.ERROR,silent:iu.SILENT},ou=iu.INFO,au={[iu.DEBUG]:"log",[iu.VERBOSE]:"log",[iu.INFO]:"info",[iu.WARN]:"warn",[iu.ERROR]:"error"},cu=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=au[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class uu{constructor(e){this.name=e,this._logLevel=ou,this._logHandler=cu,this._userLogHandler=null,ru.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in iu))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?su[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,iu.DEBUG,...e),this._logHandler(this,iu.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,iu.VERBOSE,...e),this._logHandler(this,iu.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,iu.INFO,...e),this._logHandler(this,iu.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,iu.WARN,...e),this._logHandler(this,iu.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,iu.ERROR,...e),this._logHandler(this,iu.ERROR,...e)}}function lu(e){ru.forEach((t=>{t.setLogLevel(e)}))}function hu(e,t){for(const n of ru){let r=null;t&&t.level&&(r=su[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const s=i.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:iu[n].toLowerCase(),message:s,args:i,type:t.name})}}}const du=(e,t)=>t.some((t=>e instanceof t));let fu,pu;function mu(){return fu||(fu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gu(){return pu||(pu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yu=new WeakMap,vu=new WeakMap,bu=new WeakMap,wu=new WeakMap,_u=new WeakMap;function Iu(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ou(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&yu.set(t,e)})).catch((()=>{})),_u.set(t,e),t}function Eu(e){if(vu.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));vu.set(e,t)}let ku={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ou(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Tu(e){ku=e(ku)}function Su(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?gu().includes(e)?function(...t){return e.apply(xu(this),t),Ou(yu.get(this))}:function(...t){return Ou(e.apply(xu(this),t))}:function(t,...n){const r=e.call(xu(this),t,...n);return bu.set(r,t.sort?t.sort():[t]),Ou(r)}}function Cu(e){return"function"===typeof e?Su(e):(e instanceof IDBTransaction&&Eu(e),du(e,mu())?new Proxy(e,ku):e)}function Ou(e){if(e instanceof IDBRequest)return Iu(e);if(wu.has(e))return wu.get(e);const t=Cu(e);return t!==e&&(wu.set(e,t),_u.set(t,e)),t}const xu=e=>_u.get(e);function Au(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Ou(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Ou(o.result),e.oldVersion,e.newVersion,Ou(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}const Ru=["get","getKey","getAll","getAllKeys","count"],Nu=["put","add","delete","clear"],Fu=new Map;function Du(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Fu.get(t))return Fu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Nu.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ru.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return Fu.set(t,s),s}Tu((e=>({...e,get:(t,n,r)=>Du(t,n)||e.get(t,n,r),has:(t,n)=>!!Du(t,n)||e.has(t,n)})));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pu{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map((e=>{if(Lu(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}function Lu(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}const ju="@firebase/app",Mu="0.9.0",Uu=new uu("@firebase/app"),Vu="@firebase/app-compat",Bu="@firebase/analytics-compat",qu="@firebase/analytics",$u="@firebase/app-check-compat",zu="@firebase/app-check",Hu="@firebase/auth",Gu="@firebase/auth-compat",Ku="@firebase/database",Wu="@firebase/database-compat",Zu="@firebase/functions",Qu="@firebase/functions-compat",Ju="@firebase/installations",Yu="@firebase/installations-compat",Xu="@firebase/messaging",el="@firebase/messaging-compat",tl="@firebase/performance",nl="@firebase/performance-compat",rl="@firebase/remote-config",il="@firebase/remote-config-compat",sl="@firebase/storage",ol="@firebase/storage-compat",al="@firebase/firestore",cl="@firebase/firestore-compat",ul="firebase",ll="9.15.0",hl="[DEFAULT]",dl={[ju]:"fire-core",[Vu]:"fire-core-compat",[qu]:"fire-analytics",[Bu]:"fire-analytics-compat",[zu]:"fire-app-check",[$u]:"fire-app-check-compat",[Hu]:"fire-auth",[Gu]:"fire-auth-compat",[Ku]:"fire-rtdb",[Wu]:"fire-rtdb-compat",[Zu]:"fire-fn",[Qu]:"fire-fn-compat",[Ju]:"fire-iid",[Yu]:"fire-iid-compat",[Xu]:"fire-fcm",[el]:"fire-fcm-compat",[tl]:"fire-perf",[nl]:"fire-perf-compat",[rl]:"fire-rc",[il]:"fire-rc-compat",[sl]:"fire-gcs",[ol]:"fire-gcs-compat",[al]:"fire-fst",[cl]:"fire-fst-compat","fire-js":"fire-js",[ul]:"fire-js-all"},fl=new Map,pl=new Map;function ml(e,t){try{e.container.addComponent(t)}catch(n){Uu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function gl(e,t){e.container.addOrOverwriteComponent(t)}function yl(e){const t=e.name;if(pl.has(t))return Uu.debug(`There were multiple attempts to register component ${t}.`),!1;pl.set(t,e);for(const n of fl.values())ml(n,e);return!0}function vl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bl(e,t,n=hl){vl(e,t).clearInstance(n)}function wl(){pl.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Il=new Lc("app","Firebase",_l);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class El{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Jc("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Il.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=ll;function Tl(e,t={}){let n=e;if("object"!==typeof t){const e=t;t={name:e}}const r=Object.assign({name:hl,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Il.create("bad-app-name",{appName:String(i)});if(n||(n=Ac()),!n)throw Il.create("no-options");const s=fl.get(i);if(s){if(Bc(n,s.options)&&Bc(r,s.config))return s;throw Il.create("duplicate-app",{appName:i})}const o=new nu(i);for(const c of pl.values())o.addComponent(c);const a=new El(n,r,o);return fl.set(i,a),a}function Sl(e=hl){const t=fl.get(e);if(!t&&e===hl)return Tl();if(!t)throw Il.create("no-app",{appName:e});return t}function Cl(){return Array.from(fl.values())}async function Ol(e){const t=e.name;fl.has(t)&&(fl.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function xl(e,t,n){var r;let i=null!==(r=dl[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Uu.warn(e.join(" "))}yl(new Jc(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Al(e,t){if(null!==e&&"function"!==typeof e)throw Il.create("invalid-log-argument");hu(e,t)}function Rl(e){lu(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="firebase-heartbeat-database",Fl=1,Dl="firebase-heartbeat-store";let Pl=null;function Ll(){return Pl||(Pl=Au(Nl,Fl,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Dl)}}}).catch((e=>{throw Il.create("idb-open",{originalErrorMessage:e.message})}))),Pl}async function jl(e){try{const t=await Ll();return t.transaction(Dl).objectStore(Dl).get(Ul(e))}catch(t){if(t instanceof Pc)Uu.warn(t.message);else{const e=Il.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Uu.warn(e.message)}}}async function Ml(e,t){try{const n=await Ll(),r=n.transaction(Dl,"readwrite"),i=r.objectStore(Dl);return await i.put(t,Ul(e)),r.done}catch(n){if(n instanceof Pc)Uu.warn(n.message);else{const e=Il.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Uu.warn(e.message)}}}function Ul(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=1024,Bl=2592e6;class ql{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Hl(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=$l();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf(),n=Date.now();return n-t<=Bl})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=$l(),{heartbeatsToSend:t,unsentEntries:n}=zl(this._heartbeatsCache.heartbeats),r=lc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function $l(){const e=new Date;return e.toISOString().substring(0,10)}function zl(e,t=Vl){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Gl(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gl(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ic()&&Ec().then((()=>!0)).catch((()=>!1))}async read(){const e=await this._canUseIndexedDBPromise;if(e){const e=await jl(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ml(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ml(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Gl(e){return lc(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(e){yl(new Jc("platform-logger",(e=>new Pu(e)),"PRIVATE")),yl(new Jc("heartbeat",(e=>new ql(e)),"PRIVATE")),xl(ju,Mu,e),xl(ju,Mu,"esm2017"),xl("fire-js","")}Kl("");var Wl="firebase",Zl="9.15.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
xl(Wl,Zl,"app");function Ql(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Jl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Yl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xl(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",["timeout"]:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function eh(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const th=Xl,nh=eh,rh=new Lc("auth","Firebase",eh()),ih=new uu("@firebase/auth");function sh(e,...t){ih.logLevel<=iu.ERROR&&ih.error(`Auth (${kl}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(e,...t){throw lh(e,...t)}function ah(e,...t){return lh(e,...t)}function ch(e,t,n){const r=Object.assign(Object.assign({},nh()),{[t]:n}),i=new Lc("auth","Firebase",r);return i.create(t,{appName:e.name})}function uh(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&oh(e,"argument-error"),ch(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lh(e,...t){if("string"!==typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return rh.create(e,...t)}function hh(e,t,...n){if(!e)throw lh(t,...n)}function dh(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sh(t),new Error(t)}function fh(e,t){e||dh(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map;function mh(e){fh(e instanceof Function,"Expected a class definition");let t=ph.get(e);return t?(fh(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ph.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(e,t){const n=vl(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if(Bc(r,null!==t&&void 0!==t?t:{}))return e;oh(e,"already-initialized")}const r=n.initialize({options:t});return r}function yh(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mh);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function bh(){return"http:"===wh()||"https:"===wh()}function wh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(bh()||vc()||"connection"in navigator))||navigator.onLine}function Ih(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t){this.shortDelay=e,this.longDelay=t,fh(t>e,"Short delay should be less than long delay!"),this.isMobile=mc()||bc()}get(){return _h()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(e,t){fh(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void dh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void dh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void dh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"internal-error",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error"},Ch=new Eh(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function xh(e,t,n,r,i={}){return Ah(e,i,(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=$c(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Th.fetch()(Nh(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Ah(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sh),t);try{const t=new Fh(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Dh(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Dh(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Dh(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Dh(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ch(e,a,o);oh(e,a)}}catch(i){if(i instanceof Pc)throw i;oh(e,"network-request-failed")}}async function Rh(e,t,n,r,i={}){const s=await xh(e,t,n,r,i);return"mfaPendingCredential"in s&&oh(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Nh(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?kh(e.config,i):`${e.config.apiScheme}://${i}`}class Fh{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ah(this.auth,"network-request-failed"))),Ch.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ah(e,t,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(e,t){return xh(e,"POST","/v1/accounts:delete",t)}async function Lh(e,t){return xh(e,"POST","/v1/accounts:update",t)}async function jh(e,t){return xh(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(e,t=!1){const n=Qc(e),r=await n.getIdToken(t),i=Bh(r);hh(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s["sign_in_provider"];return{claims:i,token:r,authTime:Mh(Vh(i.auth_time)),issuedAtTime:Mh(Vh(i.iat)),expirationTime:Mh(Vh(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s["sign_in_second_factor"])||null}}function Vh(e){return 1e3*Number(e)}function Bh(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const e=hc(n);return e?JSON.parse(e):(sh("Failed to decode base64 JWT payload"),null)}catch(i){return sh("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function qh(e){const t=Bh(e);return hh(t,"internal-error"),hh("undefined"!==typeof t.exp,"internal-error"),hh("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Pc&&zh(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function zh({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mh(this.lastLoginAt),this.creationTime=Mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await $h(e,jh(n,{idToken:r}));hh(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Qh(s.providerUserInfo):[],a=Zh(e.providerData,o),c=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),l=!!c&&u,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gh(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(e,h)}async function Wh(e){const t=Qc(e);await Kh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Zh(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}function Qh(e){return e.map((e=>{var{providerId:t}=e,n=Ql(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(e,t){const n=await Ah(e,{},(async()=>{const n=$c({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Nh(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Th.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){hh(e.idToken,"internal-error"),hh("undefined"!==typeof e.idToken,"internal-error"),hh("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):qh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return hh(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await Jh(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Yh;return n&&(hh("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(hh("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(hh("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yh,this.toJSON())}_performRefresh(){return dh("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e,t){hh("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ed{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ql(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await $h(this,this.stsTokenManager.getToken(this.auth,e));return hh(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Uh(this,e)}reload(){return Wh(this)}_assign(e){this!==e&&(hh(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ed(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){hh(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Kh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await $h(this,Ph(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:I}=t;hh(v&&I,e,"internal-error");const E=Yh.fromJSON(this.name,I);hh("string"===typeof v,e,"internal-error"),Xh(l,e.name),Xh(h,e.name),hh("boolean"===typeof b,e,"internal-error"),hh("boolean"===typeof w,e,"internal-error"),Xh(d,e.name),Xh(f,e.name),Xh(p,e.name),Xh(m,e.name),Xh(g,e.name),Xh(y,e.name);const k=new ed({uid:v,auth:e,email:h,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new Yh;r.updateFromServerResponse(t);const i=new ed({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Kh(i),i}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}td.type="NONE";const nd=td;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(e,t,n){return`firebase:${e}:${t}:${n}`}class id{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=rd(this.userKey,r.apiKey,i),this.fullPersistenceKey=rd("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ed._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new id(mh(nd),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||mh(nd);const s=rd(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=ed._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(ON){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(ON){}}))),new id(i,e,n)):new id(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ud(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(od(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hd(t))return"Blackberry";if(dd(t))return"Webos";if(ad(t))return"Safari";if((t.includes("chrome/")||cd(t))&&!t.includes("edge/"))return"Chrome";if(ld(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function od(e=pc()){return/firefox\//i.test(e)}function ad(e=pc()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cd(e=pc()){return/crios\//i.test(e)}function ud(e=pc()){return/iemobile/i.test(e)}function ld(e=pc()){return/android/i.test(e)}function hd(e=pc()){return/blackberry/i.test(e)}function dd(e=pc()){return/webos/i.test(e)}function fd(e=pc()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pd(e=pc()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function md(e=pc()){var t;return fd(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function gd(){return wc()&&10===document.documentMode}function yd(e=pc()){return fd(e)||ld(e)||dd(e)||hd(e)||/windows phone/i.test(e)||ud(e)}function vd(){try{return!(!window||window===window.top)}catch(e){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(e,t=[]){let n;switch(e){case"Browser":n=sd(pc());break;case"Worker":n=`${sd(pc())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${kl}/${r}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{const r=e(t);n(r)}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ed(this),this.idTokenSubscription=new Ed(this),this.beforeStateQueue=new wd(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rh,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mh(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await id.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return hh(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ih()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Qc(e):null;return t&&hh(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&hh(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(mh(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mh(e)||this._popupRedirectResolver;hh(t,this,"argument-error"),this.redirectPersistenceManager=await id.create(this,[mh(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return hh(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return hh(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function Id(e){return Qc(e)}class Ed{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gc((e=>this.observer=e))}get next(){return hh(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kd(e,t,n){const r=Id(e);hh(r._canInitEmulator,r,"emulator-config-failed"),hh(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Td(t),{host:o,port:a}=Sd(t),c=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Od()}function Td(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sd(e){const t=Td(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Cd(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Cd(t)}}}function Cd(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Od(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dh("not implemented")}_getIdTokenResponse(e){return dh("not implemented")}_linkToIdToken(e,t){return dh("not implemented")}_getReauthenticationResolver(e){return dh("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(e,t){return xh(e,"POST","/v1/accounts:resetPassword",Oh(e,t))}async function Rd(e,t){return xh(e,"POST","/v1/accounts:update",t)}async function Nd(e,t){return xh(e,"POST","/v1/accounts:update",Oh(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(e,t){return Rh(e,"POST","/v1/accounts:signInWithPassword",Oh(e,t))}async function Dd(e,t){return xh(e,"POST","/v1/accounts:sendOobCode",Oh(e,t))}async function Pd(e,t){return Dd(e,t)}async function Ld(e,t){return Dd(e,t)}async function jd(e,t){return Dd(e,t)}async function Md(e,t){return Dd(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(e,t){return Rh(e,"POST","/v1/accounts:signInWithEmailLink",Oh(e,t))}async function Vd(e,t){return Rh(e,"POST","/v1/accounts:signInWithEmailLink",Oh(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends xd{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Bd(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Bd(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Fd(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ud(e,{email:this._email,oobCode:this._password});default:oh(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Rd(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Vd(e,{idToken:t,email:this._email,oobCode:this._password});default:oh(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(e,t){return Rh(e,"POST","/v1/accounts:signInWithIdp",Oh(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="http://localhost";class zd extends xd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ql(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new zd(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return qd(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qd(e,t)}buildRequest(){const e={requestUri:$d,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=$c(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(e,t){return xh(e,"POST","/v1/accounts:sendVerificationCode",Oh(e,t))}async function Gd(e,t){return Rh(e,"POST","/v1/accounts:signInWithPhoneNumber",Oh(e,t))}async function Kd(e,t){const n=await Rh(e,"POST","/v1/accounts:signInWithPhoneNumber",Oh(e,t));if(n.temporaryProof)throw Dh(e,"account-exists-with-different-credential",n);return n}const Wd={["USER_NOT_FOUND"]:"user-not-found"};async function Zd(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return Rh(e,"POST","/v1/accounts:signInWithPhoneNumber",Oh(e,n),Wd)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends xd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Qd({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Qd({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Gd(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Kd(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Zd(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Qd({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yd(e){const t=zc(Hc(e))["link"],n=t?zc(Hc(t))["deep_link_id"]:null,r=zc(Hc(e))["deep_link_id"],i=r?zc(Hc(r))["link"]:null;return i||r||n||t||e}class Xd{constructor(e){var t,n,r,i,s,o;const a=zc(Hc(e)),c=null!==(t=a["apiKey"])&&void 0!==t?t:null,u=null!==(n=a["oobCode"])&&void 0!==n?n:null,l=Jd(null!==(r=a["mode"])&&void 0!==r?r:null);hh(c&&u&&l,"argument-error"),this.apiKey=c,this.operation=l,this.code=u,this.continueUrl=null!==(i=a["continueUrl"])&&void 0!==i?i:null,this.languageCode=null!==(s=a["languageCode"])&&void 0!==s?s:null,this.tenantId=null!==(o=a["tenantId"])&&void 0!==o?o:null}static parseLink(e){const t=Yd(e);try{return new Xd(t)}catch(ON){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ef{constructor(){this.providerId=ef.PROVIDER_ID}static credential(e,t){return Bd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Xd.parseLink(t);return hh(n,"argument-error"),Bd._fromEmailAndCode(e,n.code,n.tenantId)}}ef.PROVIDER_ID="password",ef.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ef.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class tf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends tf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rf extends nf{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return hh("providerId"in t&&"signInMethod"in t,"argument-error"),zd._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return hh(e.idToken||e.accessToken,"argument-error"),zd._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return rf.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return rf.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!n&&!r&&!t&&!i)return null;if(!o)return null;try{return new rf(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends nf{constructor(){super("facebook.com")}static credential(e){return zd._fromParams({providerId:sf.PROVIDER_ID,signInMethod:sf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sf.credentialFromTaggedObject(e)}static credentialFromError(e){return sf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return sf.credential(e.oauthAccessToken)}catch(ON){return null}}}sf.FACEBOOK_SIGN_IN_METHOD="facebook.com",sf.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class of extends nf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zd._fromParams({providerId:of.PROVIDER_ID,signInMethod:of.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return of.credentialFromTaggedObject(e)}static credentialFromError(e){return of.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return of.credential(t,n)}catch(ON){return null}}}of.GOOGLE_SIGN_IN_METHOD="google.com",of.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class af extends nf{constructor(){super("github.com")}static credential(e){return zd._fromParams({providerId:af.PROVIDER_ID,signInMethod:af.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return af.credentialFromTaggedObject(e)}static credentialFromError(e){return af.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return af.credential(e.oauthAccessToken)}catch(ON){return null}}}af.GITHUB_SIGN_IN_METHOD="github.com",af.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const cf="http://localhost";class uf extends xd{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return qd(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qd(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new uf(n,i):null}static _create(e,t){return new uf(e,t)}buildRequest(){return{requestUri:cf,returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="saml.";class hf extends tf{constructor(e){hh(e.startsWith(lf),"argument-error"),super(e)}static credentialFromResult(e){return hf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return hf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=uf.fromJSON(e);return hh(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return uf._create(n,t)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends nf{constructor(){super("twitter.com")}static credential(e,t){return zd._fromParams({providerId:df.PROVIDER_ID,signInMethod:df.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return df.credentialFromTaggedObject(e)}static credentialFromError(e){return df.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return df.credential(t,n)}catch(ON){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ff(e,t){return Rh(e,"POST","/v1/accounts:signUp",Oh(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */df.TWITTER_SIGN_IN_METHOD="twitter.com",df.PROVIDER_ID="twitter.com";class pf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await ed._fromIdTokenResponse(e,n,r),s=mf(n),o=new pf({user:i,providerId:s,_tokenResponse:n,operationType:t});return o}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=mf(n);return new pf({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function mf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(e){var t;const n=Id(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new pf({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await ff(n,{returnSecureToken:!0}),i=await pf._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Pc{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new yf(e,t,n,r)}}function vf(e,t,n,r){const i="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw yf._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(e,t){const n=Qc(e);await If(!0,n,t);const{providerUserInfo:r}=await Lh(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=bf(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function _f(e,t,n=!1){const r=await $h(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return pf._forOperation(e,"link",r)}async function If(e,t,n){await Kh(t);const r=bf(t.providerData),i=!1===e?"provider-already-linked":"no-such-provider";hh(r.has(n)===e,t.auth,i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await $h(e,vf(r,i,t,e),n);hh(s.idToken,r,"internal-error");const o=Bh(s.idToken);hh(o,r,"internal-error");const{sub:a}=o;return hh(e.uid===a,r,"user-mismatch"),pf._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&oh(r,"user-mismatch"),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(e,t,n=!1){const r="signIn",i=await vf(e,r,t),s=await pf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Tf(e,t){return kf(Id(e),t)}async function Sf(e,t){const n=Qc(e);return await If(!1,n,t.providerId),_f(n,t)}async function Cf(e,t){return Ef(Qc(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(e,t){return Rh(e,"POST","/v1/accounts:signInWithCustomToken",Oh(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(e,t){const n=Id(e),r=await Of(n,{token:t,returnSecureToken:!0}),i=await pf._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Rf._fromServerResponse(e,t):oh(e,"internal-error")}}class Rf extends Af{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Rf(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(e,t,n){var r;hh((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),hh("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(hh(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(hh(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(e,t,n){const r=Qc(e),i={requestType:"PASSWORD_RESET",email:t};n&&Nf(r,i,n),await Ld(r,i)}async function Df(e,t,n){await Ad(Qc(e),{oobCode:t,newPassword:n})}async function Pf(e,t){await Nd(Qc(e),{oobCode:t})}async function Lf(e,t){const n=Qc(e),r=await Ad(n,{oobCode:t}),i=r.requestType;switch(hh(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":hh(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":hh(r.mfaInfo,n,"internal-error");default:hh(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Af._fromServerResponse(Id(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function jf(e,t){const{data:n}=await Lf(Qc(e),t);return n.email}async function Mf(e,t,n){const r=Id(e),i=await ff(r,{returnSecureToken:!0,email:t,password:n}),s=await pf._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function Uf(e,t,n){return Tf(Qc(e),ef.credential(t,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(e,t,n){const r=Qc(e),i={requestType:"EMAIL_SIGNIN",email:t};hh(n.handleCodeInApp,r,"argument-error"),n&&Nf(r,i,n),await jd(r,i)}function Bf(e,t){const n=Xd.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function qf(e,t,n){const r=Qc(e),i=ef.credentialWithLink(t,n||vh());return hh(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Tf(r,i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(e,t){return xh(e,"POST","/v1/accounts:createAuthUri",Oh(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(e,t){const n=bh()?vh():"http://localhost",r={identifier:t,continueUri:n},{signinMethods:i}=await $f(Qc(e),r);return i||[]}async function Hf(e,t){const n=Qc(e),r=await e.getIdToken(),i={requestType:"VERIFY_EMAIL",idToken:r};t&&Nf(n.auth,i,t);const{email:s}=await Pd(n.auth,i);s!==e.email&&await e.reload()}async function Gf(e,t,n){const r=Qc(e),i=await e.getIdToken(),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:t};n&&Nf(r.auth,s,n);const{email:o}=await Md(r.auth,s);o!==e.email&&await e.reload()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(e,t){return xh(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=Qc(e),i=await r.getIdToken(),s={idToken:i,displayName:t,photoUrl:n,returnSecureToken:!0},o=await $h(r,Kf(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Zf(e,t){return Jf(Qc(e),t,null)}function Qf(e,t){return Jf(Qc(e),null,t)}async function Jf(e,t,n){const{auth:r}=e,i=await e.getIdToken(),s={idToken:i,returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const o=await $h(e,Rd(r,s));await e._updateTokensIfNecessary(o,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Bh(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n["sign_in_provider"];if(r){const e="anonymous"!==r&&"custom"!==r?r:null;return new Xf(s,e)}}if(!r)return null;switch(r){case"facebook.com":return new tp(s,i);case"github.com":return new np(s,i);case"google.com":return new rp(s,i);case"twitter.com":return new ip(s,i,e.screenName||null);case"custom":case"anonymous":return new Xf(s,null);default:return new Xf(s,r,i)}}class Xf{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class ep extends Xf{constructor(e,t,n,r){super(e,t,n),this.username=r}}class tp extends Xf{constructor(e,t){super(e,"facebook.com",t)}}class np extends ep{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class rp extends Xf{constructor(e,t){super(e,"google.com",t)}}class ip extends ep{constructor(e,t,n){super(e,"twitter.com",t,n)}}function sp(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Yf(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(e,t,n,r){return Qc(e).onIdTokenChanged(t,n,r)}function ap(e,t,n){return Qc(e).beforeAuthStateChanged(t,n)}function cp(e,t,n,r){return Qc(e).onAuthStateChanged(t,n,r)}class up{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new up("enroll",e,t)}static _fromMfaPendingCredential(e){return new up("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return up._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return up._fromIdtoken(e.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Id(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Af._fromServerResponse(n,e)));hh(r.mfaPendingCredential,n,"internal-error");const s=up._fromMfaPendingCredential(r.mfaPendingCredential);return new lp(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await pf._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return hh(t.user,n,"internal-error"),pf._forOperation(t.user,t.operationType,o);default:oh(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function hp(e,t){var n;const r=Qc(e),i=t;return hh(t.customData.operationType,r,"argument-error"),hh(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),lp._fromError(r,i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(e,t){return xh(e,"POST","/v2/accounts/mfaEnrollment:start",Oh(e,t))}function fp(e,t){return xh(e,"POST","/v2/accounts/mfaEnrollment:finalize",Oh(e,t))}function pp(e,t){return xh(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Oh(e,t))}class mp{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Af._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new mp(e)}async getSession(){return up._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await $h(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken(),r=await $h(this.user,pp(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(i){if("auth/user-token-expired"!==(null===i||void 0===i?void 0:i.code))throw i}}}const gp=new WeakMap;function yp(e){const t=Qc(e);return gp.has(t)||gp.set(t,mp._fromUser(t)),gp.get(t)}const vp="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vp,"1"),this.storage.removeItem(vp),Promise.resolve(!0)):Promise.resolve(!1)}catch(ON){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(){const e=pc();return ad(e)||fd(e)}const _p=1e3,Ip=10;class Ep extends bp{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wp()&&vd(),this.fallbackToPolling=yd(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);gd()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Ip):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),_p)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ep.type="LOCAL";const kp=Ep;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends bp{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Tp.type="SESSION";const Sp=Tp;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(e){return Promise.all(e.map((async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Op(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await Cp(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xp(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Op.receivers=[];class Ap{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=xp("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){return window}function Np(e){Rp().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(){return"undefined"!==typeof Rp()["WorkerGlobalScope"]&&"function"===typeof Rp()["importScripts"]}async function Dp(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const e=await navigator.serviceWorker.ready;return e.active}catch(ON){return null}}function Pp(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function Lp(){return Fp()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="firebaseLocalStorageDb",Mp=1,Up="firebaseLocalStorage",Vp="fbase_key";class Bp{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function qp(e,t){return e.transaction([Up],t?"readwrite":"readonly").objectStore(Up)}function $p(){const e=indexedDB.deleteDatabase(jp);return new Bp(e).toPromise()}function zp(){const e=indexedDB.open(jp,Mp);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Up,{keyPath:Vp})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Up)?t(n):(n.close(),await $p(),t(await zp()))}))}))}async function Hp(e,t,n){const r=qp(e,!0).put({[Vp]:t,value:n});return new Bp(r).toPromise()}async function Gp(e,t){const n=qp(e,!1).get(t),r=await new Bp(n).toPromise();return void 0===r?null:r.value}function Kp(e,t){const n=qp(e,!0).delete(t);return new Bp(n).toPromise()}const Wp=800,Zp=3;class Qp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await zp()),this.db}async _withRetries(e){let t=0;while(1)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>Zp)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Op._getInstance(Lp()),this.receiver._subscribe("keyChanged",(async(e,t)=>{const n=await this._poll();return{keyProcessed:n.includes(t.key)}})),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await Dp(),!this.activeServiceWorker)return;this.sender=new Ap(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&Pp()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(ON){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await Hp(e,vp,"1"),await Kp(e,vp),!0}catch(ON){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Hp(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>Gp(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Kp(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=qp(e,!1).getAll();return new Bp(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),Wp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Qp.type="LOCAL";const Jp=Qp;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(e,t){return xh(e,"POST","/v2/accounts/mfaSignIn:start",Oh(e,t))}function Xp(e,t){return xh(e,"POST","/v2/accounts/mfaSignIn:finalize",Oh(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(e){return(await xh(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}function nm(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ah("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",tm().appendChild(r)}))}function rm(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=500,sm=6e4,om=1e12;class am{constructor(e){this.auth=e,this.counter=om,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new cm(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||om;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||om;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||om;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class cm{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;hh(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=um(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),sm)}),im))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function um(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=rm("rcb"),hm=new Eh(3e4,6e4),dm="https://www.google.com/recaptcha/api.js?";class fm{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Rp().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return hh(pm(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Rp().grecaptcha):new Promise(((n,r)=>{const i=Rp().setTimeout((()=>{r(ah(e,"network-request-failed"))}),hm.get());Rp()[lm]=()=>{Rp().clearTimeout(i),delete Rp()[lm];const s=Rp().grecaptcha;if(!s)return void r(ah(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};const s=`${dm}?${$c({onload:lm,render:"explicit",hl:t})}`;nm(s).catch((()=>{clearTimeout(i),r(ah(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Rp().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function pm(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class mm{async load(e){return new am(e)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="recaptcha",ym={theme:"light",type:"image"};class vm{constructor(e,t=Object.assign({},ym),n){this.parameters=t,this.type=gm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Id(n),this.isInvisible="invisible"===this.parameters.size,hh("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;hh(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mm:new fm,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){hh(!this.parameters.sitekey,this.auth,"argument-error"),hh(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),hh("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Rp()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){hh(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){hh(bh()&&!Fp(),this.auth,"internal-error"),await bm(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await em(this.auth);hh(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return hh(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function bm(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Qd._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function _m(e,t,n){const r=Id(e),i=await km(r,t,Qc(n));return new wm(i,(e=>Tf(r,e)))}async function Im(e,t,n){const r=Qc(e);await If(!1,r,"phone");const i=await km(r.auth,t,Qc(n));return new wm(i,(e=>Sf(r,e)))}async function Em(e,t,n){const r=Qc(e),i=await km(r.auth,t,Qc(n));return new wm(i,(e=>Cf(r,e)))}async function km(e,t,n){var r;const i=await n.verify();try{let s;if(hh("string"===typeof i,e,"argument-error"),hh(n.type===gm,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){hh("enroll"===t.type,e,"internal-error");const n=await dp(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{hh("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;hh(n,e,"missing-multi-factor-info");const o=await Yp(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await Hd(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}async function Tm(e,t){await _f(Qc(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this.providerId=Sm.PROVIDER_ID,this.auth=Id(e)}verifyPhoneNumber(e,t){return km(this.auth,e,Qc(t))}static credential(e,t){return Qd._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Sm.credentialFromTaggedObject(t)}static credentialFromError(e){return Sm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Qd._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Cm(e,t){return t?mh(t):(hh(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sm.PROVIDER_ID="phone",Sm.PHONE_SIGN_IN_METHOD="phone";class Om extends xd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xm(e){return kf(e.auth,new Om(e),e.bypassAuthState)}function Am(e){const{auth:t,user:n}=e;return hh(n,t,"internal-error"),Ef(n,new Om(e),e.bypassAuthState)}async function Rm(e){const{auth:t,user:n}=e;return hh(n,t,"internal-error"),_f(n,new Om(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xm;case"linkViaPopup":case"linkViaRedirect":return Rm;case"reauthViaPopup":case"reauthViaRedirect":return Am;default:oh(this.auth,"internal-error")}}resolve(e){fh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=new Eh(2e3,1e4);async function Dm(e,t,n){const r=Id(e);uh(e,t,tf);const i=Cm(r,n),s=new jm(r,"signInViaPopup",t,i);return s.executeNotNull()}async function Pm(e,t,n){const r=Qc(e);uh(r.auth,t,tf);const i=Cm(r.auth,n),s=new jm(r.auth,"reauthViaPopup",t,i,r);return s.executeNotNull()}async function Lm(e,t,n){const r=Qc(e);uh(r.auth,t,tf);const i=Cm(r.auth,n),s=new jm(r.auth,"linkViaPopup",t,i,r);return s.executeNotNull()}class jm extends Nm{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,jm.currentPopupAction&&jm.currentPopupAction.cancel(),jm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return hh(e,this.auth,"internal-error"),e}async onExecution(){fh(1===this.filter.length,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ah(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ah(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ah(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Fm.get())};e()}}jm.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Mm="pendingRedirect",Um=new Map;class Vm extends Nm{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Um.get(this.auth._key());if(!e){try{const t=await Bm(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Um.set(this.auth._key(),e)}return this.bypassAuthState||Um.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Bm(e,t){const n=Gm(t),r=Hm(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}async function qm(e,t){return Hm(e)._set(Gm(t),"true")}function $m(){Um.clear()}function zm(e,t){Um.set(e._key(),t)}function Hm(e){return mh(e._redirectPersistence)}function Gm(e){return rd(Mm,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(e,t,n){return Wm(e,t,n)}async function Wm(e,t,n){const r=Id(e);uh(e,t,tf);const i=Cm(r,n);return await qm(i,r),i._openRedirect(r,t,"signInViaRedirect")}function Zm(e,t,n){return Qm(e,t,n)}async function Qm(e,t,n){const r=Qc(e);uh(r.auth,t,tf);const i=Cm(r.auth,n);await qm(i,r.auth);const s=await tg(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}function Jm(e,t,n){return Ym(e,t,n)}async function Ym(e,t,n){const r=Qc(e);uh(r.auth,t,tf);const i=Cm(r.auth,n);await If(!1,r,t.providerId),await qm(i,r.auth);const s=await tg(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}async function Xm(e,t){return await Id(e)._initializationPromise,eg(e,t,!1)}async function eg(e,t,n=!1){const r=Id(e),i=Cm(r,t),s=new Vm(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function tg(e){const t=xp(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=6e5;class rg{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!og(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!sg(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ah(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ng&&this.cachedEventUids.clear(),this.cachedEventUids.has(ig(e))}saveEventToCache(e){this.cachedEventUids.add(ig(e)),this.lastProcessedEventTime=Date.now()}}function ig(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function sg({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}function og(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sg(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(e,t={}){return xh(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ug=/^https?/;async function lg(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ag(e);for(const n of t)try{if(hg(n))return}catch(ON){}oh(e,"unauthorized-domain")}function hg(e){const t=vh(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ug.test(n))return!1;if(cg.test(e))return r===e;const i=e.replace(/\./g,"\\."),s=new RegExp("^(.+\\."+i+"|"+i+")$","i");return s.test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Eh(3e4,6e4);function fg(){const e=Rp().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function pg(e){return new Promise(((t,n)=>{var r,i,s;function o(){fg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fg(),n(ah(e,"network-request-failed"))},timeout:dg.get()})}if(null===(i=null===(r=Rp().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Rp().gapi)||void 0===s?void 0:s.load)){const t=rm("iframefcb");return Rp()[t]=()=>{gapi.load?o():n(ah(e,"network-request-failed"))},nm(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw mg=null,e}))}let mg=null;function gg(e){return mg=mg||pg(e),mg}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=new Eh(5e3,15e3),vg="__/auth/iframe",bg="emulator/auth/iframe",wg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_g=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ig(e){const t=e.config;hh(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?kh(t,bg):`https://${e.config.authDomain}/${vg}`,r={apiKey:t.apiKey,appName:e.name,v:kl},i=_g.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$c(r).slice(1)}`}async function Eg(e){const t=await gg(e),n=Rp().gapi;return hh(n,e,"internal-error"),t.open({where:document.body,url:Ig(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wg,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ah(e,"network-request-failed"),s=Rp().setTimeout((()=>{r(i)}),yg.get());function o(){Rp().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tg=500,Sg=600,Cg="_blank",Og="http://localhost";class xg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ag(e,t,n,r=Tg,i=Sg){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},kg),{width:r.toString(),height:i.toString(),top:s,left:o}),u=pc().toLowerCase();n&&(a=cd(u)?Cg:n),od(u)&&(t=t||Og,c.scrollbars="yes");const l=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(md(u)&&"_self"!==a)return Rg(t||"",a),new xg(null);const h=window.open(t||"",a,l);hh(h,e,"popup-blocked");try{h.focus()}catch(d){}return new xg(h)}function Rg(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="__/auth/handler",Fg="emulator/auth/handler";function Dg(e,t,n,r,i,s){hh(e.config.authDomain,e,"auth-domain-config-required"),hh(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:kl,eventId:i};if(t instanceof tf){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Vc(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof nf){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];return`${Pg(e)}?${$c(a).slice(1)}`}function Pg({config:e}){return e.emulator?kh(e,Fg):`https://${e.authDomain}/${Ng}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="webStorageSupport";class jg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sp,this._completeRedirectFn=eg,this._overrideRedirectResult=zm}async _openPopup(e,t,n,r){var i;fh(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");const s=Dg(e,t,n,vh(),r);return Ag(e,s,xp())}async _openRedirect(e,t,n,r){return await this._originValidation(e),Np(Dg(e,t,n,vh(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(fh(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Eg(e),n=new rg(e);return t.register("authEvent",(t=>{hh(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");const r=n.onEvent(t.authEvent);return{status:r?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){const n=this.iframes[e._key()];n.send(Lg,{type:Lg},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Lg];void 0!==i&&t(!!i),oh(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lg(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yd()||ad()||fd()}}const Mg=jg;class Ug{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return dh("unexpected MultiFactorSessionType")}}}class Vg extends Ug{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Vg(e)}_finalizeEnroll(e,t,n){return fp(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Xp(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Bg{constructor(){}static assertion(e){return Vg._fromCredential(e)}}Bg.FACTOR_ID="phone";var qg="@firebase/auth",$g="0.21.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){hh(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Gg(e){yl(new Jc("auth",((t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((t,r)=>{hh(s&&!s.includes(":"),"invalid-api-key",{appName:t.name}),hh(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:t.name});const i={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bd(e)},a=new _d(t,r,i);return yh(a,n),a})(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{const r=e.getProvider("auth-internal");r.initialize()}))),yl(new Jc("auth-internal",(e=>{const t=Id(e.getProvider("auth").getImmediate());return(e=>new zg(e))(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),xl(qg,$g,Hg(e)),xl(qg,$g,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=300,Wg=Rc("authIdTokenMaxAge")||Kg;let Zg=null;const Qg=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Wg)return;const i=null===n||void 0===n?void 0:n.token;Zg!==i&&(Zg=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Jg(e=Sl()){const t=vl(e,"auth");if(t.isInitialized())return t.getImmediate();const n=gh(e,{popupRedirectResolver:Mg,persistence:[Jp,kp,Sp]}),r=Rc("authTokenSyncURL");if(r){const e=Qg(r);ap(n,e,(()=>e(n.currentUser))),op(n,(t=>e(t)))}const i=xc("auth");return i&&kd(n,`http://${i}`),n}Gg("Browser");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yg{constructor(e,t){this._delegate=e,this.firebase=t,ml(e,new Jc("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ol(this._delegate))))}_getService(e,t=hl){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=hl){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ml(this._delegate,e)}_addOrOverwriteComponent(e){gl(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},ey=new Lc("app-compat","Firebase",Xg);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ty(e){const t={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:xl,setLogLevel:Rl,onLog:Al,apps:null,SDK_VERSION:kl,INTERNAL:{registerComponent:c,removeApp:r,useAsService:u,modularAPIs:i}};function r(e){delete t[e]}function s(e){if(e=e||hl,!Uc(t,e))throw ey.create("no-app",{appName:e});return t[e]}function o(r,i={}){const s=Tl(r,i);if(Uc(t,s.name))return t[s.name];const o=new e(s,n);return t[s.name]=o,o}function a(){return Object.keys(t).map((e=>t[e]))}function c(t){const r=t.name,i=r.replace("-compat","");if(yl(t)&&"PUBLIC"===t.type){const o=(e=s())=>{if("function"!==typeof e[i])throw ey.create("invalid-app-argument",{appName:r});return e[i]()};void 0!==t.serviceProps&&dc(o,t.serviceProps),n[i]=o,e.prototype[i]=function(...e){const n=this._getService.bind(this,r);return n.apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[i]:null}function u(e,t){if("serverAuth"===t)return null;const n=t;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:a}),s["App"]=e,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){const e=ty(Yg);function t(t){dc(e,t)}return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:ny,extendNamespace:t,createSubscribe:Gc,ErrorFactory:Lc,deepExtend:dc}),e}const ry=ny(),iy=new uu("@firebase/app-compat"),sy="@firebase/app-compat",oy="0.2.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ay(e){xl(sy,oy,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(yc()&&void 0!==self.firebase){iy.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&iy.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const cy=ry;ay();var uy="firebase",ly="9.15.0";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hy(){return window}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
cy.registerVersion(uy,ly,"app-compat");const dy=2e3;async function fy(e,t,n){var r;const{BuildInfo:i}=hy();fh(t.sessionId,"AuthEvent did not contain a session ID");const s=await vy(t.sessionId),o={};return fd()?o["ibi"]=i.packageName:ld()?o["apn"]=i.packageName:oh(e,"operation-not-supported-in-this-environment"),i.displayName&&(o["appDisplayName"]=i.displayName),o["sessionId"]=s,Dg(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}async function py(e){const{BuildInfo:t}=hy(),n={};fd()?n.iosBundleId=t.packageName:ld()?n.androidPackageName=t.packageName:oh(e,"operation-not-supported-in-this-environment"),await ag(e,n)}function my(e){const{cordova:t}=hy();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,pd()?"_blank":"_system","location=yes"),n(i)}))}))}async function gy(e,t,n){const{cordova:r}=hy();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout((()=>{o(ah(e,"redirect-cancelled-by-user"))}),dy))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(c),document.addEventListener("resume",u,!1),ld()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}}))}finally{i()}}function yy(e){var t,n,r,i,s,o,a,c,u,l;const h=hy();hh("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),hh("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),hh("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),hh("function"===typeof(null===(c=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),hh("function"===typeof(null===(l=null===(u=null===h||void 0===h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function vy(e){const t=by(e),n=await crypto.subtle.digest("SHA-256",t),r=Array.from(new Uint8Array(n));return r.map((e=>e.toString(16).padStart(2,"0"))).join("")}function by(e){if(fh(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=20;class _y extends rg{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}function Iy(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Sy(),postBody:null,tenantId:e.tenantId,error:ah(e,"no-auth-event")}}function Ey(e,t){return Cy()._set(Oy(e),t)}async function ky(e){const t=await Cy()._get(Oy(e));return t&&await Cy()._remove(Oy(e)),t}function Ty(e,t){var n,r;const i=Ay(t);if(i.includes("/__/auth/callback")){const t=Ry(i),s=t["firebaseError"]?xy(decodeURIComponent(t["firebaseError"])):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s["code"])||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?ah(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Sy(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<wy;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Cy(){return mh(kp)}function Oy(e){return rd("authEvent",e.config.apiKey,e.name)}function xy(e){try{return JSON.parse(e)}catch(t){return null}}function Ay(e){const t=Ry(e),n=t["link"]?decodeURIComponent(t["link"]):void 0,r=Ry(n)["link"],i=t["deep_link_id"]?decodeURIComponent(t["deep_link_id"]):void 0,s=Ry(i)["link"];return s||i||r||n||e}function Ry(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return zc(n.join("?"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=500;class Fy{constructor(){this._redirectPersistence=Sp,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=eg,this._overrideRedirectResult=zm}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new _y(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){oh(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){yy(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),$m(),await this._originValidation(e);const s=Iy(e,n,r);await Ey(e,s);const o=await fy(e,s,t),a=await my(o);return gy(e,i,a)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=py(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=hy(),s=setTimeout((async()=>{await ky(e),t.onEvent(Py())}),Ny),o=async n=>{clearTimeout(s);const r=await ky(e);let i=null;r&&(null===n||void 0===n?void 0:n["url"])&&(i=Ty(r,n["url"])),t.onEvent(i||Py())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,c=`${i.packageName.toLowerCase()}://`;hy().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}}const Dy=Fy;function Py(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ah("no-auth-event")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(e,t){Id(e)._logFramework(t)}var jy="@firebase/auth-compat",My="0.3.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Uy=1e3;function Vy(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function By(){return"http:"===Vy()||"https:"===Vy()}function qy(e=pc()){return!("file:"!==Vy()&&"ionic:"!==Vy()&&"capacitor:"!==Vy()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function $y(){return bc()||gc()}function zy(){return wc()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Hy(e=pc()){return/Edge\/\d+/.test(e)}function Gy(e=pc()){return zy()||Hy(e)}function Ky(){try{const e=self.localStorage,t=xp();if(e)return e["setItem"](t,"1"),e["removeItem"](t),!Gy()||Ic()}catch(e){return Wy()&&Ic()}return!1}function Wy(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Zy(){return(By()||vc()||qy())&&!$y()&&Ky()&&!Wy()}function Qy(){return qy()&&"undefined"!==typeof document}async function Jy(){return!!Qy()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),Uy);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}function Yy(){return"undefined"!==typeof window?window:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy={LOCAL:"local",NONE:"none",SESSION:"session"},ev=hh,tv="persistence";function nv(e,t){ev(Object.values(Xy).includes(t),e,"invalid-persistence-type"),bc()?ev(t!==Xy.SESSION,e,"unsupported-persistence-type"):gc()?ev(t===Xy.NONE,e,"unsupported-persistence-type"):Wy()?ev(t===Xy.NONE||t===Xy.LOCAL&&Ic(),e,"unsupported-persistence-type"):ev(t===Xy.NONE||Ky(),e,"unsupported-persistence-type")}async function rv(e){await e._initializationPromise;const t=sv(),n=rd(tv,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function iv(e,t){const n=sv();if(!n)return[];const r=rd(tv,e,t),i=n.getItem(r);switch(i){case Xy.NONE:return[nd];case Xy.LOCAL:return[Jp,Sp];case Xy.SESSION:return[Sp];default:return[]}}function sv(){var e;try{return(null===(e=Yy())||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=hh;class av{constructor(){this.browserResolver=mh(Mg),this.cordovaResolver=mh(Dy),this.underlyingResolver=null,this._redirectPersistence=Sp,this._completeRedirectFn=eg,this._overrideRedirectResult=zm}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Qy()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ov(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Jy();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(e){return e.unwrap()}function uv(e){return e.wrapped()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(e){return dv(e)}function hv(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){const n=t;n.resolver=new mv(e,hp(e,t))}else if(r){const e=dv(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function dv(e){const{_tokenResponse:t}=e instanceof Pc?e.customData:e;if(!t)return null;if(!(e instanceof Pc)&&"temporaryProof"in t&&"phoneNumber"in t)return Sm.credentialFromResult(e);const n=t.providerId;if(!n||n===Jl.PASSWORD)return null;let r;switch(n){case Jl.GOOGLE:r=of;break;case Jl.FACEBOOK:r=sf;break;case Jl.GITHUB:r=af;break;case Jl.TWITTER:r=df;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?uf._create(n,o):zd._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new rf(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Pc?r.credentialFromError(e):r.credentialFromResult(e)}function fv(e,t){return t.catch((t=>{throw t instanceof Pc&&hv(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:lv(e),additionalUserInfo:sp(e),user:gv.getOrCreate(n)}}))}async function pv(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>fv(e,n.confirm(t))}}class mv{constructor(e,t){this.resolver=t,this.auth=uv(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return fv(cv(this.auth),this.resolver.resolveSignIn(e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this._delegate=e,this.multiFactor=yp(e)}static getOrCreate(e){return gv.USER_MAP.has(e)||gv.USER_MAP.set(e,new gv(e)),gv.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return fv(this.auth,Sf(this._delegate,e))}async linkWithPhoneNumber(e,t){return pv(this.auth,Im(this._delegate,e,t))}async linkWithPopup(e){return fv(this.auth,Lm(this._delegate,e,av))}async linkWithRedirect(e){return await rv(Id(this.auth)),Jm(this._delegate,e,av)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return fv(this.auth,Cf(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return pv(this.auth,Em(this._delegate,e,t))}reauthenticateWithPopup(e){return fv(this.auth,Pm(this._delegate,e,av))}async reauthenticateWithRedirect(e){return await rv(Id(this.auth)),Zm(this._delegate,e,av)}sendEmailVerification(e){return Hf(this._delegate,e)}async unlink(e){return await wf(this._delegate,e),this}updateEmail(e){return Zf(this._delegate,e)}updatePassword(e){return Qf(this._delegate,e)}updatePhoneNumber(e){return Tm(this._delegate,e)}updateProfile(e){return Wf(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Gf(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gv.USER_MAP=new WeakMap;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const yv=hh;class vv{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;yv(n,"invalid-api-key",{appName:e.name}),yv(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?av:void 0;this._delegate=t.initialize({options:{persistence:wv(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(th),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gv.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){kd(this._delegate,e,t)}applyActionCode(e){return Pf(this._delegate,e)}checkActionCode(e){return Lf(this._delegate,e)}confirmPasswordReset(e,t){return Df(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return fv(this._delegate,Mf(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return zf(this._delegate,e)}isSignInWithEmailLink(e){return Bf(this._delegate,e)}async getRedirectResult(){yv(Zy(),this._delegate,"operation-not-supported-in-this-environment");const e=await Xm(this._delegate,av);return e?fv(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Ly(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=bv(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=bv(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return Vf(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Ff(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(nv(this._delegate,e),e){case Xy.SESSION:t=Sp;break;case Xy.LOCAL:const e=await mh(Jp)._isAvailable();t=e?Jp:kp;break;case Xy.NONE:t=nd;break;default:return oh("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return fv(this._delegate,gf(this._delegate))}signInWithCredential(e){return fv(this._delegate,Tf(this._delegate,e))}signInWithCustomToken(e){return fv(this._delegate,xf(this._delegate,e))}signInWithEmailAndPassword(e,t){return fv(this._delegate,Uf(this._delegate,e,t))}signInWithEmailLink(e,t){return fv(this._delegate,qf(this._delegate,e,t))}signInWithPhoneNumber(e,t){return pv(this._delegate,_m(this._delegate,e,t))}async signInWithPopup(e){return yv(Zy(),this._delegate,"operation-not-supported-in-this-environment"),fv(this._delegate,Dm(this._delegate,e,av))}async signInWithRedirect(e){return yv(Zy(),this._delegate,"operation-not-supported-in-this-environment"),await rv(this._delegate),Km(this._delegate,e,av)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return jf(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function bv(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r,s=e=>i(e&&gv.getOrCreate(e));return{next:s,error:t,complete:n}}function wv(e,t){const n=iv(e,t);if("undefined"===typeof self||n.includes(Jp)||n.push(Jp),"undefined"!==typeof window)for(const r of[kp,Sp])n.includes(r)||n.push(r);return n.includes(nd)||n.push(nd),n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vv.Persistence=Xy;class _v{constructor(){this.providerId="phone",this._delegate=new Sm(cv(cy.auth()))}static credential(e,t){return Sm.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}_v.PHONE_SIGN_IN_METHOD=Sm.PHONE_SIGN_IN_METHOD,_v.PROVIDER_ID=Sm.PROVIDER_ID;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Iv=hh;class Ev{constructor(e,t,n=cy.app()){var r;Iv(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new vm(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="auth-compat";function Tv(e){e.INTERNAL.registerComponent(new Jc(kv,(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new vv(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Yl.EMAIL_SIGNIN,PASSWORD_RESET:Yl.PASSWORD_RESET,RECOVER_EMAIL:Yl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Yl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Yl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Yl.VERIFY_EMAIL}},EmailAuthProvider:ef,FacebookAuthProvider:sf,GithubAuthProvider:af,GoogleAuthProvider:of,OAuthProvider:rf,SAMLAuthProvider:hf,PhoneAuthProvider:_v,PhoneMultiFactorGenerator:Bg,RecaptchaVerifier:Ev,TwitterAuthProvider:df,Auth:vv,AuthCredential:xd,Error:Pc}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion(jy,My)}Tv(cy);var Sv,Cv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ov={},xv=xv||{},Av=Cv||self;function Rv(){}function Nv(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function Fv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function Dv(e){return Object.prototype.hasOwnProperty.call(e,Pv)&&e[Pv]||(e[Pv]=++Lv)}var Pv="closure_uid_"+(1e9*Math.random()>>>0),Lv=0;function jv(e,t,n){return e.call.apply(e.bind,arguments)}function Mv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Uv(e,t,n){return Uv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jv:Mv,Uv.apply(null,arguments)}function Vv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Bv(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function qv(){this.s=this.s,this.o=this.o}var $v=0;qv.prototype.s=!1,qv.prototype.na=function(){this.s||(this.s=!0,this.M(),0==$v)||Dv(this)},qv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Hv(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Gv(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Nv(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Kv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Kv.prototype.h=function(){this.defaultPrevented=!0};var Wv=function(){if(!Av.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Av.addEventListener("test",Rv,t),Av.removeEventListener("test",Rv,t)}catch(n){}return e}();function Zv(e){return/^[\s\xa0]*$/.test(e)}var Qv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Jv(e,t){return e<t?-1:e>t?1:0}function Yv(){var e=Av.navigator;return e&&(e=e.userAgent)?e:""}function Xv(e){return-1!=Yv().indexOf(e)}function eb(e){return eb[" "](e),e}function tb(e){var t=pb;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}eb[" "]=Rv;var nb,rb=Xv("Opera"),ib=Xv("Trident")||Xv("MSIE"),sb=Xv("Edge"),ob=sb||ib,ab=Xv("Gecko")&&!(-1!=Yv().toLowerCase().indexOf("webkit")&&!Xv("Edge"))&&!(Xv("Trident")||Xv("MSIE"))&&!Xv("Edge"),cb=-1!=Yv().toLowerCase().indexOf("webkit")&&!Xv("Edge");function ub(){var e=Av.document;return e?e.documentMode:void 0}e:{var lb="",hb=function(){var e=Yv();return ab?/rv:([^\);]+)(\)|;)/.exec(e):sb?/Edge\/([\d\.]+)/.exec(e):ib?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):cb?/WebKit\/(\S+)/.exec(e):rb?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(hb&&(lb=hb?hb[1]:""),ib){var db=ub();if(null!=db&&db>parseFloat(lb)){nb=String(db);break e}}nb=lb}var fb,pb={};function mb(){return tb((function(){let e=0;const t=Qv(String(nb)).split("."),n=Qv("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=Jv(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Jv(0==i[2].length,0==s[2].length)||Jv(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(Av.document&&ib){var gb=ub();fb=gb||(parseInt(nb,10)||void 0)}else fb=void 0;var yb=fb;function vb(e,t){if(Kv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ab){e:{try{eb(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:bb[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&vb.X.h.call(this)}}Bv(vb,Kv);var bb={2:"touch",3:"pen",4:"mouse"};vb.prototype.h=function(){vb.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wb="closure_listenable_"+(1e6*Math.random()|0),_b=0;function Ib(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++_b,this.ba=this.ea=!1}function Eb(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function kb(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Tb(e){const t={};for(const n in e)t[n]=e[n];return t}const Sb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cb(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Sb.length;t++)n=Sb[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ob(e){this.src=e,this.g={},this.h=0}function xb(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=zv(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Eb(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ab(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}Ob.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Ab(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new Ib(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};var Rb="closure_lm_"+(1e6*Math.random()|0),Nb={};function Fb(e,t,n,r,i){if(r&&r.once)return Lb(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Fb(e,t[s],n,r,i);return null}return n=$b(n),e&&e[wb]?e.N(t,n,Fv(r)?!!r.capture:!!r,i):Db(e,t,n,!1,r,i)}function Db(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Fv(i)?!!i.capture:!!i,a=Bb(e);if(a||(e[Rb]=a=new Ob(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=Pb(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Wv||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ub(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pb(){function e(n){return t.call(e.src,e.listener,n)}const t=Vb;return e}function Lb(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Lb(e,t[s],n,r,i);return null}return n=$b(n),e&&e[wb]?e.O(t,n,Fv(r)?!!r.capture:!!r,i):Db(e,t,n,!0,r,i)}function jb(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)jb(e,t[s],n,r,i);else r=Fv(r)?!!r.capture:!!r,n=$b(n),e&&e[wb]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Ab(s,n,r,i),-1<n&&(Eb(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Bb(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ab(t,n,r,i)),(n=-1<e?t[e]:null)&&Mb(n))}function Mb(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[wb])xb(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ub(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bb(t))?(xb(n,e),0==n.h&&(n.src=null,t[Rb]=null)):Eb(e)}}}function Ub(e){return e in Nb?Nb[e]:Nb[e]="on"+e}function Vb(e,t){if(e.ba)e=!0;else{t=new vb(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Mb(e),e=n.call(r,t)}return e}function Bb(e){return e=e[Rb],e instanceof Ob?e:null}var qb="__closure_events_fn_"+(1e9*Math.random()>>>0);function $b(e){return"function"===typeof e?e:(e[qb]||(e[qb]=function(t){return e.handleEvent(t)}),e[qb])}function zb(){qv.call(this),this.i=new Ob(this),this.P=this,this.I=null}function Hb(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Kv(t,e);else if(t instanceof Kv)t.target=t.target||e;else{var i=t;t=new Kv(r,e),Cb(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Gb(o,r,!0,t)&&i}if(o=t.g=e,i=Gb(o,r,!0,t)&&i,i=Gb(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Gb(o,r,!1,t)&&i}function Gb(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.ea&&xb(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Bv(zb,qv),zb.prototype[wb]=!0,zb.prototype.removeEventListener=function(e,t,n,r){jb(this,e,t,n,r)},zb.prototype.M=function(){if(zb.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Eb(n[r]);delete t.g[e],t.h--}}this.I=null},zb.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},zb.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Kb=Av.JSON.stringify;function Wb(){var e=rw;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Zb{constructor(){this.h=this.g=null}add(e,t){const n=Jb.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var Qb,Jb=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Yb),(e=>e.reset()));class Yb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Xb(e){Av.setTimeout((()=>{throw e}),0)}function ew(e,t){Qb||tw(),nw||(Qb(),nw=!0),rw.add(e,t)}function tw(){var e=Av.Promise.resolve(void 0);Qb=function(){e.then(iw)}}var nw=!1,rw=new Zb;function iw(){for(var e;e=Wb();){try{e.h.call(e.g)}catch(n){Xb(n)}var t=Jb;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nw=!1}function sw(e,t){zb.call(this),this.h=e||1,this.g=t||Av,this.j=Uv(this.lb,this),this.l=Date.now()}function ow(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function aw(e,t,n){if("function"===typeof e)n&&(e=Uv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Uv(e.handleEvent,e)}return 2147483647<Number(t)?-1:Av.setTimeout(e,t||0)}function cw(e){e.g=aw((()=>{e.g=null,e.i&&(e.i=!1,cw(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Bv(sw,zb),Sv=sw.prototype,Sv.ca=!1,Sv.R=null,Sv.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Hb(this,"tick"),this.ca&&(ow(this),this.start()))}},Sv.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Sv.M=function(){sw.X.M.call(this),ow(this),delete this.g};class uw extends qv{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cw(this)}M(){super.M(),this.g&&(Av.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lw(e){qv.call(this),this.h=e,this.g={}}Bv(lw,qv);var hw=[];function dw(e,t,n,r){Array.isArray(n)||(n&&(hw[0]=n.toString()),n=hw);for(var i=0;i<n.length;i++){var s=Fb(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function fw(e){kb(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Mb(e)}),e),e.g={}}function pw(){this.g=!0}function mw(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}function gw(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}function yw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+bw(e,n)+(r?" "+r:"")}))}function vw(e,t){e.info((function(){return"TIMEOUT: "+t}))}function bw(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Kb(n)}catch(a){return t}}lw.prototype.M=function(){lw.X.M.call(this),fw(this)},lw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pw.prototype.Aa=function(){this.g=!1},pw.prototype.info=function(){};var ww={},_w=null;function Iw(){return _w=_w||new zb}function Ew(e){Kv.call(this,ww.Pa,e)}function kw(e){const t=Iw();Hb(t,new Ew(t))}function Tw(e,t){Kv.call(this,ww.STAT_EVENT,e),this.stat=t}function Sw(e){const t=Iw();Hb(t,new Tw(t,e))}function Cw(e,t){Kv.call(this,ww.Qa,e),this.size=t}function Ow(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Av.setTimeout((function(){e()}),t)}ww.Pa="serverreachability",Bv(Ew,Kv),ww.STAT_EVENT="statevent",Bv(Tw,Kv),ww.Qa="timingevent",Bv(Cw,Kv);var xw={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Aw={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Rw(){}function Nw(e){return e.h||(e.h=e.i())}function Fw(){}Rw.prototype.h=null;var Dw,Pw={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Lw(){Kv.call(this,"d")}function jw(){Kv.call(this,"c")}function Mw(){}function Uw(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new lw(this),this.O=Bw,e=ob?125:void 0,this.T=new sw(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Vw}function Vw(){this.i=null,this.g="",this.h=!1}Bv(Lw,Kv),Bv(jw,Kv),Bv(Mw,Rw),Mw.prototype.g=function(){return new XMLHttpRequest},Mw.prototype.i=function(){return{}},Dw=new Mw;var Bw=45e3,qw={},$w={};function zw(e,t,n){e.K=1,e.v=d_(a_(t)),e.s=n,e.P=!0,Hw(e,null)}function Hw(e,t){e.F=Date.now(),Zw(e),e.A=a_(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),T_(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Vw,e.g=xI(e.l,n?t:null,!e.s),0<e.N&&(e.L=new uw(Uv(e.La,e,e.g),e.N)),dw(e.S,e.g,"readystatechange",e.ib),t=e.H?Tb(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),kw(),mw(e.j,e.u,e.A,e.m,e.U,e.s)}function Gw(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Kw(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Ww(e,n),r==$w){4==t&&(e.o=4,Sw(14),i=!1),yw(e.j,e.m,null,"[Incomplete Response]");break}if(r==qw){e.o=4,Sw(15),yw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}yw(e.j,e.m,r,null),e_(e,r)}Gw(e)&&r!=$w&&r!=qw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Sw(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),_I(t),t.K=!0,Sw(11))):(yw(e.j,e.m,n,"[Invalid Chunked Response]"),Xw(e),Yw(e))}function Ww(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?$w:(n=Number(t.substring(n,r)),isNaN(n)?qw:(r+=1,r+n>t.length?$w:(t=t.substr(r,n),e.C=r+n,t)))}function Zw(e){e.V=Date.now()+e.O,Qw(e,e.O)}function Qw(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ow(Uv(e.gb,e),t)}function Jw(e){e.B&&(Av.clearTimeout(e.B),e.B=null)}function Yw(e){0==e.l.G||e.I||kI(e.l,e)}function Xw(e){Jw(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ow(e.T),fw(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function e_(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||F_(n.h,e)))if(!e.J&&F_(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;EI(n),dI(n)}wI(n),Sw(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Ow(Uv(n.cb,n),6e3));if(1>=N_(n.h)&&n.ja){try{n.ja()}catch(u){}n.ja=void 0}}else SI(n,11)}else if((e.J||n.g==e)&&EI(n),!Zv(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.I=u[1],n.ka=u[2];const t=u[3];null!=t&&(n.ma=t,n.j.info("VER="+n.ma));const i=u[4];null!=i&&(n.Ca=i,n.j.info("SVER="+n.Ca));const l=u[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(D_(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.za=e,h_(r.F,r.D,e))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=OI(r,r.H?r.ka:null,r.V),o.J){P_(r.h,o);var a=o,c=r.J;c&&a.setTimeout(c),a.B&&(Jw(a),Zw(a)),r.g=o}else bI(r);0<n.i.length&&pI(n)}else"stop"!=u[0]&&"close"!=u[0]||SI(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?SI(n,7):hI(n):"noop"!=u[0]&&n.l&&n.l.wa(u),n.A=0)}kw(4)}catch(u){}}function t_(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Nv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function n_(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Nv(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function r_(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Nv(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=n_(e),r=t_(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Sv=Uw.prototype,Sv.setTimeout=function(e){this.O=e},Sv.ib=function(e){e=e.target;const t=this.L;t&&3==sI(e)?t.l():this.La(e)},Sv.La=function(e){try{if(e==this.g)e:{const l=sI(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>l)&&(3!=l||ob||this.g&&(this.h.h||this.g.fa()||oI(this.g)))){this.I||4!=l||7==t||kw(8==t||0>=h?3:2),Jw(this);var n=this.g.aa();this.Y=n;t:if(Gw(this)){var r=oI(this.g);e="";var i=r.length,s=4==sI(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xw(this),Yw(this);var o="";break t}this.h.i=new Av.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,gw(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zv(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Sw(12),Xw(this),Yw(this);break e}yw(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,e_(this,n)}this.P?(Kw(this,l,o),ob&&this.i&&3==l&&(dw(this.S,this.T,"tick",this.hb),this.T.start())):(yw(this.j,this.m,o,null),e_(this,o)),4==l&&Xw(this),this.i&&!this.I&&(4==l?kI(this.l,this):(this.i=!1,Zw(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Sw(12)):(this.o=0,Sw(13)),Xw(this),Yw(this)}}}catch(l){}},Sv.hb=function(){if(this.g){var e=sI(this.g),t=this.g.fa();this.C<t.length&&(Jw(this),Kw(this,e,t),this.i&&4!=e&&Zw(this))}},Sv.cancel=function(){this.I=!0,Xw(this)},Sv.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(vw(this.j,this.A),2!=this.K&&(kw(),Sw(17)),Xw(this),this.o=2,Yw(this)):Qw(this,this.V-e)};var i_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function s_(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function o_(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof o_){this.h=void 0!==t?t:e.h,c_(this,e.j),this.s=e.s,this.g=e.g,u_(this,e.m),this.l=e.l,t=e.i;var n=new __;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),l_(this,n),this.o=e.o}else e&&(n=String(e).match(i_))?(this.h=!!t,c_(this,n[1]||"",!0),this.s=f_(n[2]||""),this.g=f_(n[3]||"",!0),u_(this,n[4]),this.l=f_(n[5]||"",!0),l_(this,n[6]||"",!0),this.o=f_(n[7]||"")):(this.h=!!t,this.i=new __(null,this.h))}function a_(e){return new o_(e)}function c_(e,t,n){e.j=n?f_(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function u_(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function l_(e,t,n){t instanceof __?(e.i=t,C_(e.i,e.h)):(n||(t=p_(t,b_)),e.i=new __(t,e.h))}function h_(e,t,n){e.i.set(t,n)}function d_(e){return h_(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function f_(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function p_(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,m_),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function m_(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}o_.prototype.toString=function(){var e=[],t=this.j;t&&e.push(p_(t,g_,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(p_(t,g_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(p_(n,"/"==n.charAt(0)?v_:y_,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",p_(n,w_)),e.join("")};var g_=/[#\/\?@]/g,y_=/[#\?:]/g,v_=/[#\?]/g,b_=/[#\?@]/g,w_=/#/g;function __(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function I_(e){e.g||(e.g=new Map,e.h=0,e.i&&s_(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function E_(e,t){I_(e),t=S_(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function k_(e,t){return I_(e),t=S_(e,t),e.g.has(t)}function T_(e,t,n){E_(e,t),0<n.length&&(e.i=null,e.g.set(S_(e,t),Hv(n)),e.h+=n.length)}function S_(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function C_(e,t){t&&!e.j&&(I_(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(E_(this,t),T_(this,n,e))}),e)),e.j=t}Sv=__.prototype,Sv.add=function(e,t){I_(this),this.i=null,e=S_(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Sv.forEach=function(e,t){I_(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Sv.oa=function(){I_(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Sv.W=function(e){I_(this);let t=[];if("string"===typeof e)k_(this,e)&&(t=t.concat(this.g.get(S_(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Sv.set=function(e,t){return I_(this),this.i=null,e=S_(this,e),k_(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Sv.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t},Sv.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var O_=class{constructor(e,t){this.h=e,this.g=t}};function x_(e){this.l=e||A_,Av.PerformanceNavigationTiming?(e=Av.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(Av.g&&Av.g.Ga&&Av.g.Ga()&&Av.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var A_=10;function R_(e){return!!e.h||!!e.g&&e.g.size>=e.j}function N_(e){return e.h?1:e.g?e.g.size:0}function F_(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function D_(e,t){e.g?e.g.add(t):e.h=t}function P_(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function L_(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Hv(e.i)}function j_(){}function M_(){this.g=new j_}function U_(e,t,n){const r=n||"";try{r_(e,(function(e,n){let i=e;Fv(e)&&(i=Kb(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function V_(e,t){const n=new pw;if(Av.Image){const r=new Image;r.onload=Vv(B_,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Vv(B_,n,r,"TestLoadImage: error",!1,t),r.onabort=Vv(B_,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vv(B_,n,r,"TestLoadImage: timeout",!1,t),Av.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function B_(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function q_(e){this.l=e.ac||null,this.j=e.jb||!1}function $_(e,t){zb.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=z_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}x_.prototype.cancel=function(){if(this.i=L_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},j_.prototype.stringify=function(e){return Av.JSON.stringify(e,void 0)},j_.prototype.parse=function(e){return Av.JSON.parse(e,void 0)},Bv(q_,Rw),q_.prototype.g=function(){return new $_(this.l,this.j)},q_.prototype.i=function(e){return function(){return e}}({}),Bv($_,zb);var z_=0;function H_(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function G_(e){e.readyState=4,e.l=null,e.j=null,e.A=null,K_(e)}function K_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Sv=$_.prototype,Sv.open=function(e,t){if(this.readyState!=z_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,K_(this)},Sv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Av).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Sv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,G_(this)),this.readyState=z_},Sv.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,K_(this)),this.g&&(this.readyState=3,K_(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Av.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;H_(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Sv.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?G_(this):K_(this),3==this.readyState&&H_(this)}},Sv.Va=function(e){this.g&&(this.response=this.responseText=e,G_(this))},Sv.Ua=function(e){this.g&&(this.response=e,G_(this))},Sv.ga=function(){this.g&&G_(this)},Sv.setRequestHeader=function(e,t){this.v.append(e,t)},Sv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Sv.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty($_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var W_=Av.JSON.parse;function Z_(e){zb.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Q_,this.K=this.L=!1}Bv(Z_,zb);var Q_="",J_=/^https?$/i,Y_=["POST","PUT"];function X_(e){return ib&&mb()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function eI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,tI(e),rI(e)}function tI(e){e.D||(e.D=!0,Hb(e,"complete"),Hb(e,"error"))}function nI(e){if(e.h&&"undefined"!=typeof xv&&(!e.C[1]||4!=sI(e)||2!=e.aa()))if(e.v&&4==sI(e))aw(e.Ha,0,e);else if(Hb(e,"readystatechange"),4==sI(e)){e.h=!1;try{const c=e.aa();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===c){var i=String(e.H).match(i_)[1]||null;if(!i&&Av.self&&Av.self.location){var s=Av.self.location.protocol;i=s.substr(0,s.length-1)}r=!J_.test(i?i.toLowerCase():"")}n=r}if(n)Hb(e,"complete"),Hb(e,"success");else{e.m=6;try{var o=2<sI(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.aa()+"]",tI(e)}}finally{rI(e)}}}function rI(e,t){if(e.g){iI(e);const r=e.g,i=e.C[0]?Rv:null;e.g=null,e.C=null,t||Hb(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function iI(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Av.clearTimeout(e.A),e.A=null)}function sI(e){return e.g?e.g.readyState:0}function oI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Q_:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(HI){return null}}function aI(e){let t="";return kb(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function cI(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=aI(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):h_(e,t,n))}function uI(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function lI(e){this.Ca=0,this.i=[],this.j=new pw,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=uI("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=uI("baseRetryDelayMs",5e3,e),this.bb=uI("retryDelaySeedMs",1e4,e),this.$a=uI("forwardChannelMaxRetries",2,e),this.ta=uI("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new x_(e&&e.concurrentRequestLimit),this.Fa=new M_,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function hI(e){if(fI(e),3==e.G){var t=e.U++,n=a_(e.F);h_(n,"SID",e.I),h_(n,"RID",t),h_(n,"TYPE","terminate"),yI(e,n),t=new Uw(e,e.j,t,void 0),t.K=2,t.v=d_(a_(n)),n=!1,Av.navigator&&Av.navigator.sendBeacon&&(n=Av.navigator.sendBeacon(t.v.toString(),"")),!n&&Av.Image&&((new Image).src=t.v,n=!0),n||(t.g=xI(t.l,null),t.g.da(t.v)),t.F=Date.now(),Zw(t)}CI(e)}function dI(e){e.g&&(_I(e),e.g.cancel(),e.g=null)}function fI(e){dI(e),e.u&&(Av.clearTimeout(e.u),e.u=null),EI(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Av.clearTimeout(e.m),e.m=null)}function pI(e){R_(e.h)||e.m||(e.m=!0,ew(e.Ja,e),e.C=0)}function mI(e,t){return!(N_(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Ow(Uv(e.Ja,e,t),TI(e,e.C)),e.C++,!0))}function gI(e,t){var n;n=t?t.m:e.U++;const r=a_(e.F);h_(r,"SID",e.I),h_(r,"RID",n),h_(r,"AID",e.T),yI(e,r),e.o&&e.s&&cI(r,e.o,e.s),n=new Uw(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=vI(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),D_(e.h,n),zw(n,r,t)}function yI(e,t){e.ia&&kb(e.ia,(function(e,n){h_(t,n,e)})),e.l&&r_({},(function(e,n){h_(t,n,e)}))}function vI(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Uv(e.l.Ra,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{U_(a,e,"req"+n+"_")}catch(rE){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function bI(e){e.g||e.u||(e.Z=1,ew(e.Ia,e),e.A=0)}function wI(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Ow(Uv(e.Ia,e),TI(e,e.A)),e.A++,!0)}function _I(e){null!=e.B&&(Av.clearTimeout(e.B),e.B=null)}function II(e){e.g=new Uw(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=a_(e.sa);h_(t,"RID","rpc"),h_(t,"SID",e.I),h_(t,"CI",e.L?"0":"1"),h_(t,"AID",e.T),h_(t,"TYPE","xmlhttp"),yI(e,t),e.o&&e.s&&cI(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=d_(a_(t)),n.s=null,n.P=!0,Hw(n,e)}function EI(e){null!=e.v&&(Av.clearTimeout(e.v),e.v=null)}function kI(e,t){var n=null;if(e.g==t){EI(e),_I(e),e.g=null;var r=2}else{if(!F_(e.h,t))return;n=t.D,P_(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Iw(),Hb(r,new Cw(r,n)),pI(e)}else bI(e);else if(i=t.o,3==i||0==i&&0<e.pa||!(1==r&&mI(e,t)||2==r&&wI(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:SI(e,5);break;case 4:SI(e,10);break;case 3:SI(e,6);break;default:SI(e,2)}}function TI(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function SI(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Uv(e.kb,e);n||(n=new o_("//www.google.com/images/cleardot.gif"),Av.location&&"http"==Av.location.protocol||c_(n,"https"),d_(n)),V_(n.toString(),r)}else Sw(2);e.G=0,e.l&&e.l.va(t),CI(e),fI(e)}function CI(e){if(e.G=0,e.la=[],e.l){const t=L_(e.h);0==t.length&&0==e.i.length||(Gv(e.la,t),Gv(e.la,e.i),e.h.i.length=0,Hv(e.i),e.i.length=0),e.l.ua()}}function OI(e,t,n){var r=n instanceof o_?a_(n):new o_(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),u_(r,r.m);else{var i=Av.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new o_(null,void 0);r&&c_(s,r),t&&(s.g=t),i&&u_(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&h_(r,n,t),h_(r,"VER",e.ma),yI(e,r),r}function xI(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new Z_(new q_({jb:!0})):new Z_(e.ra),t.Ka(e.H),t}function AI(){}function RI(){if(ib&&!(10<=Number(yb)))throw Error("Environmental error: no available transport.")}function NI(e,t){zb.call(this),this.g=new lI(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Zv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zv(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new PI(this)}function FI(e){Lw.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function DI(){jw.call(this),this.status=1}function PI(e){this.g=e}Sv=Z_.prototype,Sv.Ka=function(e){this.L=e},Sv.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Dw.g(),this.C=this.u?Nw(this.u):Nw(Dw),this.g.onreadystatechange=Uv(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void eI(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Av.FormData&&e instanceof Av.FormData,!(0<=zv(Y_,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{iI(this),0<this.B&&((this.K=X_(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Uv(this.qa,this)):this.A=aw(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){eI(this,s)}},Sv.qa=function(){"undefined"!=typeof xv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hb(this,"timeout"),this.abort(8))},Sv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hb(this,"complete"),Hb(this,"abort"),rI(this))},Sv.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rI(this,!0)),Z_.X.M.call(this)},Sv.Ha=function(){this.s||(this.F||this.v||this.l?nI(this):this.fb())},Sv.fb=function(){nI(this)},Sv.aa=function(){try{return 2<sI(this)?this.g.status:-1}catch(e){return-1}},Sv.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Sv.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),W_(t)}},Sv.Ea=function(){return this.m},Sv.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},Sv=lI.prototype,Sv.ma=8,Sv.G=1,Sv.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Uw(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=Tb(s),Cb(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(r="__data__"in r.g&&(r=r.g.__data__,"string"===typeof r)?r.length:void 0,void 0===r)break;if(t+=r,4096<t){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=vI(this,i,t),n=a_(this.F),h_(n,"RID",e),h_(n,"CVER",22),this.D&&h_(n,"X-HTTP-Session-Id",this.D),yI(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(aI(s)))+"&"+t:this.o&&cI(n,this.o,s)),D_(this.h,i),this.Ya&&h_(n,"TYPE","init"),this.O?(h_(n,"$req",t),h_(n,"SID","null"),i.Z=!0,zw(i,n,null)):zw(i,n,t),this.G=2}}else 3==this.G&&(e?gI(this,e):0==this.i.length||R_(this.h)||gI(this))},Sv.Ia=function(){if(this.u=null,II(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ow(Uv(this.eb,this),e)}},Sv.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Sw(10),dI(this),II(this))},Sv.cb=function(){null!=this.v&&(this.v=null,dI(this),wI(this),Sw(19))},Sv.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Sw(2)):(this.j.info("Failed to ping google.com"),Sw(1))},Sv=AI.prototype,Sv.xa=function(){},Sv.wa=function(){},Sv.va=function(){},Sv.ua=function(){},Sv.Ra=function(){},RI.prototype.g=function(e,t){return new NI(e,t)},Bv(NI,zb),NI.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Sw(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=OI(e,null,e.V),pI(e)},NI.prototype.close=function(){hI(this.g)},NI.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Kb(e),e=n);t.i.push(new O_(t.ab++,e)),3==t.G&&pI(t)},NI.prototype.M=function(){this.g.l=null,delete this.j,hI(this.g),delete this.g,NI.X.M.call(this)},Bv(FI,Lw),Bv(DI,jw),Bv(PI,AI),PI.prototype.xa=function(){Hb(this.g,"a")},PI.prototype.wa=function(e){Hb(this.g,new FI(e))},PI.prototype.va=function(e){Hb(this.g,new DI)},PI.prototype.ua=function(){Hb(this.g,"b")},RI.prototype.createWebChannel=RI.prototype.g,NI.prototype.send=NI.prototype.u,NI.prototype.open=NI.prototype.m,NI.prototype.close=NI.prototype.close,xw.NO_ERROR=0,xw.TIMEOUT=8,xw.HTTP_ERROR=6,Aw.COMPLETE="complete",Fw.EventType=Pw,Pw.OPEN="a",Pw.CLOSE="b",Pw.ERROR="c",Pw.MESSAGE="d",zb.prototype.listen=zb.prototype.N,Z_.prototype.listenOnce=Z_.prototype.O,Z_.prototype.getLastError=Z_.prototype.Oa,Z_.prototype.getLastErrorCode=Z_.prototype.Ea,Z_.prototype.getStatus=Z_.prototype.aa,Z_.prototype.getResponseJson=Z_.prototype.Sa,Z_.prototype.getResponseText=Z_.prototype.fa,Z_.prototype.send=Z_.prototype.da,Z_.prototype.setWithCredentials=Z_.prototype.Ka;var LI=Ov.createWebChannelTransport=function(){return new RI},jI=Ov.getStatEventTarget=function(){return Iw()},MI=Ov.ErrorCode=xw,UI=Ov.EventType=Aw,VI=Ov.Event=ww,BI=Ov.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},qI=Ov.FetchXmlHttpFactory=q_,$I=Ov.WebChannel=Fw,zI=Ov.XhrIo=Z_;const HI="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}GI.UNAUTHENTICATED=new GI(null),GI.GOOGLE_CREDENTIALS=new GI("google-credentials-uid"),GI.FIRST_PARTY=new GI("first-party-uid"),GI.MOCK_USER=new GI("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let KI="9.15.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new uu("@firebase/firestore");function ZI(){return WI.logLevel}function QI(e){WI.setLogLevel(e)}function JI(e,...t){if(WI.logLevel<=iu.DEBUG){const n=t.map(eE);WI.debug(`Firestore (${KI}): ${e}`,...n)}}function YI(e,...t){if(WI.logLevel<=iu.ERROR){const n=t.map(eE);WI.error(`Firestore (${KI}): ${e}`,...n)}}function XI(e,...t){if(WI.logLevel<=iu.WARN){const n=t.map(eE);WI.warn(`Firestore (${KI}): ${e}`,...n)}}function eE(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(e="Unexpected state"){const t=`FIRESTORE (${KI}) INTERNAL ASSERTION FAILED: `+e;throw YI(t),new Error(t)}function nE(e,t){e||tE()}function rE(e,t){e||tE()}function iE(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oE extends Pc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(GI.UNAUTHENTICATED)))}shutdown(){}}class lE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hE{constructor(e){this.t=e,this.currentUser=GI.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new aE;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new aE,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{JI("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(JI("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new aE)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(JI("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(nE("string"==typeof t.accessToken),new cE(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nE(null===e||"string"==typeof e),new GI(e)}}class dE{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r,this.type="FirstParty",this.user=GI.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(nE(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class fE{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r}getToken(){return Promise.resolve(new dE(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable((()=>t(GI.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mE{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const n=e=>{null!=e.error&&JI("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.A;return this.A=e.token,JI("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{JI("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.T.getImmediate({optional:!0});e?r(e):JI("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(nE("string"==typeof e.token),this.A=e.token,new pE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function gE(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=gE(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function vE(e,t){return e<t?-1:e>t?1:0}function bE(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function wE(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oE(sE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oE(sE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new oE(sE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oE(sE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _E.fromMillis(Date.now())}static fromDate(e){return _E.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new _E(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vE(this.nanoseconds,e.nanoseconds):vE(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.timestamp=e}static fromTimestamp(e){return new IE(e)}static min(){return new IE(new _E(0,0))}static max(){return new IE(new _E(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,t,n){void 0===t?t=0:t>e.length&&tE(),void 0===n?n=e.length-t:n>e.length-t&&tE(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===EE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof EE?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kE extends EE{construct(e,t,n){return new kE(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new oE(sE.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new kE(t)}static emptyPath(){return new kE([])}}const TE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class SE extends EE{construct(e,t,n){return new SE(e,t,n)}static isValidIdentifier(e){return TE.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),SE.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new SE(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new oE(sE.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new oE(sE.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new oE(sE.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new oE(sE.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new SE(t)}static emptyPath(){return new SE([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.path=e}static fromPath(e){return new CE(kE.fromString(e))}static fromName(e){return new CE(kE.fromString(e).popFirst(5))}static empty(){return new CE(kE.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kE.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kE.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new CE(new kE(e.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function xE(e){return e.fields.find((e=>2===e.kind))}function AE(e){return e.fields.filter((e=>2!==e.kind))}OE.UNKNOWN_ID=-1;class RE{constructor(e,t){this.fieldPath=e,this.kind=t}}class NE{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new NE(0,PE.min())}}function FE(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=IE.fromTimestamp(1e9===r?new _E(n+1,0):new _E(n,r));return new PE(i,CE.empty(),t)}function DE(e){return new PE(e.readTime,e.key,-1)}class PE{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new PE(IE.min(),CE.empty(),-1)}static max(){return new PE(IE.max(),CE.empty(),-1)}}function LE(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=CE.comparator(e.documentKey,t.documentKey),0!==n?n:vE(e.largestBatchId,t.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ME{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(e){if(e.code!==sE.FAILED_PRECONDITION||e.message!==jE)throw e;JI("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tE(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new VE(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof VE?t:VE.resolve(t)}catch(e){return VE.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):VE.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):VE.reject(t)}static resolve(e){return new VE(((t,n)=>{t(e)}))}static reject(e){return new VE(((t,n)=>{n(e)}))}static waitFor(e){return new VE(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=VE.resolve(!1);for(const n of e)t=t.next((e=>e?VE.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new VE(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new VE(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new aE,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new zE(e,t.error)):this.P.resolve()},this.transaction.onerror=t=>{const n=ZE(t.target.error);this.P.reject(new zE(e,n))}}static open(e,t,n,r){try{return new BE(t,e.transaction(r,n))}catch(e){throw new zE(t,e)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(JI("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new GE(t)}}class qE{constructor(e,t,n){this.name=e,this.version=t,this.S=n,12.2===qE.D(pc())&&YI("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return JI("SimpleDb","Removing database:",e),KE(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Ic())return!1;if(qE.N())return!0;const e=pc(),t=qE.D(e),n=0<t&&t<10,r=qE.k(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",BASE_URL:"/"})||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static k(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async F(e){return this.db||(JI("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new zE(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new oE(sE.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new oE(sE.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new zE(e,r))},r.onupgradeneeded=e=>{JI("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.S.$(t,r.transaction,e.oldVersion,this.version).next((()=>{JI("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.F(e);const t=BE.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.V(),e))).catch((e=>(t.abort(e),VE.reject(e)))).toPromise();return s.catch((()=>{})),await t.v,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(JI("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class $E{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return KE(this.q.delete())}}class zE extends oE{constructor(e,t){super(sE.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function HE(e){return"IndexedDbTransactionError"===e.name}class GE{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(JI("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(JI("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),KE(n)}add(e){return JI("SimpleDb","ADD",this.store.name,e,e),KE(this.store.add(e))}get(e){return KE(this.store.get(e)).next((t=>(void 0===t&&(t=null),JI("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return JI("SimpleDb","DELETE",this.store.name,e),KE(this.store.delete(e))}count(){return JI("SimpleDb","COUNT",this.store.name),KE(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.H(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new VE(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}J(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new VE(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}Y(e,t){JI("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,((e,t,n)=>n.delete()))}Z(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}tt(e){const t=this.cursor({});return new VE(((n,r)=>{t.onerror=e=>{const t=ZE(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}H(e,t){const n=[];return new VE(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new $E(i),o=t(i.primaryKey,i.value,s);if(o instanceof VE){const e=o.catch((e=>(s.done(),VE.reject(e))));n.push(e)}s.isDone?r():null===s.G?i.continue():i.continue(s.G)}})).next((()=>VE.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function KE(e){return new VE(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=ZE(e.target.error);n(t)}}))}let WE=!1;function ZE(e){const t=qE.D(pc());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new oE("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return WE||(WE=!0,setTimeout((()=>{throw e}),0)),e}}return e}class QE{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){JI("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{JI("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(e){HE(e)?JI("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await UE(e)}await this.nt(6e4)}))}}class JE{constructor(e,t){this.localStore=e,this.persistence=t}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.it(t,e)))}it(e,t){const n=new Set;let r=t,i=!0;return VE.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return JI("IndexBackiller",`Processing collection: ${t}`),this.rt(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}rt(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ot(r,n))).next((n=>(JI("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ot(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=DE(t);LE(r,n)>0&&(n=r)})),new PE(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}YE.at=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class XE{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class ek{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ek("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ek&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nk(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(e){return null==e}function sk(e){return 0===e&&1/e==-1/0}function ok(e){return"number"==typeof e&&Number.isInteger(e)&&!sk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ck(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ck(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vE(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ck.EMPTY_BYTE_STRING=new ck("");const uk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lk(e){if(nE(!!e),"string"==typeof e){let t=0;const n=uk.exec(e);if(nE(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:hk(e.seconds),nanos:hk(e.nanos)}}function hk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function dk(e){return"string"==typeof e?ck.fromBase64String(e):ck.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pk(e){const t=e.mapValue.fields.__previous_value__;return fk(t)?pk(t):t}function mk(e){const t=lk(e.mapValue.fields.__local_write_time__.timestampValue);return new _E(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yk={nullValue:"NULL_VALUE"};function vk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fk(e)?4:Nk(e)?9007199254740991:10:tE()}function bk(e,t){if(e===t)return!0;const n=vk(e);if(n!==vk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mk(e).isEqual(mk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=lk(e.timestampValue),r=lk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return dk(e.bytesValue).isEqual(dk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hk(e.geoPointValue.latitude)===hk(t.geoPointValue.latitude)&&hk(e.geoPointValue.longitude)===hk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hk(e.integerValue)===hk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=hk(e.doubleValue),r=hk(t.doubleValue);return n===r?sk(n)===sk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return bE(e.arrayValue.values||[],t.arrayValue.values||[],bk);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tk(n)!==tk(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bk(n[i],r[i])))return!1;return!0}(e,t);default:return tE()}}function wk(e,t){return void 0!==(e.values||[]).find((e=>bk(e,t)))}function _k(e,t){if(e===t)return 0;const n=vk(e),r=vk(t);if(n!==r)return vE(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vE(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=hk(e.integerValue||e.doubleValue),r=hk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ik(e.timestampValue,t.timestampValue);case 4:return Ik(mk(e),mk(t));case 5:return vE(e.stringValue,t.stringValue);case 6:return function(e,t){const n=dk(e),r=dk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=vE(n[i],r[i]);if(0!==e)return e}return vE(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=vE(hk(e.latitude),hk(t.latitude));return 0!==n?n:vE(hk(e.longitude),hk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=_k(n[i],r[i]);if(e)return e}return vE(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===gk.mapValue&&t===gk.mapValue)return 0;if(e===gk.mapValue)return 1;if(t===gk.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=vE(r[o],s[o]);if(0!==e)return e;const t=_k(n[r[o]],i[s[o]]);if(0!==t)return t}return vE(r.length,s.length)}(e.mapValue,t.mapValue);default:throw tE()}}function Ik(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vE(e,t);const n=lk(e),r=lk(t),i=vE(n.seconds,r.seconds);return 0!==i?i:vE(n.nanos,r.nanos)}function Ek(e){return kk(e)}function kk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=lk(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?dk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,CE.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=kk(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${kk(e.fields[i])}`;return n+"}"}(e.mapValue):tE();var t,n}function Tk(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Sk(e){return!!e&&"integerValue"in e}function Ck(e){return!!e&&"arrayValue"in e}function Ok(e){return!!e&&"nullValue"in e}function xk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ak(e){return!!e&&"mapValue"in e}function Rk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return nk(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Rk(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Rk(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Nk(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fk(e){return"nullValue"in e?yk:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Tk(ek.empty(),CE.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:tE()}function Dk(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Tk(ek.empty(),CE.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?gk:tE()}function Pk(e,t){const n=_k(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Lk(e,t){const n=_k(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t){this.position=e,this.inclusive=t}}function Mk(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?CE.comparator(CE.fromName(o.referenceValue),n.key):_k(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Uk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!bk(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{}class Bk extends Vk{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Jk(e,t,n):"array-contains"===t?new tT(e,n):"in"===t?new nT(e,n):"not-in"===t?new rT(e,n):"array-contains-any"===t?new iT(e,n):new Bk(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Yk(e,n):new Xk(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_k(t,this.value)):null!==t&&vk(this.value)===vk(t)&&this.matchesComparison(_k(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tE()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qk extends Vk{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new qk(e,t)}matches(e){return $k(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt((e=>e.isInequality()));return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function $k(e){return"and"===e.op}function zk(e){return"or"===e.op}function Hk(e){return Gk(e)&&$k(e)}function Gk(e){for(const t of e.filters)if(t instanceof qk)return!1;return!0}function Kk(e){if(e instanceof Bk)return e.field.canonicalString()+e.op.toString()+Ek(e.value);{const t=e.filters.map((e=>Kk(e))).join(",");return`${e.op}(${t})`}}function Wk(e,t){return e instanceof Bk?function(e,t){return t instanceof Bk&&e.op===t.op&&e.field.isEqual(t.field)&&bk(e.value,t.value)}(e,t):e instanceof qk?function(e,t){return t instanceof qk&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Wk(n,t.filters[r])),!0)}(e,t):void tE()}function Zk(e,t){const n=e.filters.concat(t);return qk.create(n,e.op)}function Qk(e){return e instanceof Bk?function(e){return`${e.field.canonicalString()} ${e.op} ${Ek(e.value)}`}(e):e instanceof qk?function(e){return e.op.toString()+" {"+e.getFilters().map(Qk).join(" ,")+"}"}(e):"Filter"}class Jk extends Bk{constructor(e,t,n){super(e,t,n),this.key=CE.fromName(n.referenceValue)}matches(e){const t=CE.comparator(e.key,this.key);return this.matchesComparison(t)}}class Yk extends Bk{constructor(e,t){super(e,"in",t),this.keys=eT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Xk extends Bk{constructor(e,t){super(e,"not-in",t),this.keys=eT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function eT(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>CE.fromName(e.referenceValue)))}class tT extends Bk{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ck(t)&&wk(t.arrayValue,this.value)}}class nT extends Bk{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wk(this.value.arrayValue,t)}}class rT extends Bk{constructor(e,t){super(e,"not-in",t)}matches(e){if(wk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wk(this.value.arrayValue,t)}}class iT extends Bk{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ck(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>wk(this.value.arrayValue,e)))}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t="asc"){this.field=e,this.dir=t}}function oT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t){this.comparator=e,this.root=t||uT.EMPTY}insert(e,t){return new aT(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,uT.BLACK,null,null))}remove(e){return new aT(this.comparator,this.root.remove(e,this.comparator).copy(null,null,uT.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cT(this.root,e,this.comparator,!1)}getReverseIterator(){return new cT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cT(this.root,e,this.comparator,!0)}}class cT{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class uT{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:uT.RED,this.left=null!=r?r:uT.EMPTY,this.right=null!=i?i:uT.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new uT(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return uT.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return uT.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,uT.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,uT.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tE();if(this.right.isRed())throw tE();const e=this.left.check();if(e!==this.right.check())throw tE();return e+(this.isRed()?0:1)}}uT.EMPTY=null,uT.RED=!0,uT.BLACK=!1,uT.EMPTY=new class{constructor(){this.size=0}get key(){throw tE()}get value(){throw tE()}get color(){throw tE()}get left(){throw tE()}get right(){throw tE()}copy(e,t,n,r,i){return this}insert(e,t,n){return new uT(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class lT{constructor(e){this.comparator=e,this.data=new aT(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hT(this.data.getIterator())}getIteratorFrom(e){return new hT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof lT))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new lT(this.comparator);return t.data=e,t}}class hT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dT(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.fields=e,e.sort(SE.comparator)}static empty(){return new fT([])}unionWith(e){let t=new lT(SE.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new fT(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bE(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.value=e}static empty(){return new pT({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ak(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rk(t)}setAll(e){let t=SE.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Rk(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ak(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bk(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ak(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){nk(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new pT(Rk(this.value))}}function mT(e){const t=[];return nk(e.fields,((e,n)=>{const r=new SE([e]);if(Ak(n)){const e=mT(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new fT(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class gT{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new gT(e,0,IE.min(),IE.min(),IE.min(),pT.empty(),0)}static newFoundDocument(e,t,n,r){return new gT(e,1,t,IE.min(),n,r,0)}static newNoDocument(e,t){return new gT(e,2,t,IE.min(),IE.min(),pT.empty(),0)}static newUnknownDocument(e,t){return new gT(e,3,t,IE.min(),IE.min(),pT.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(IE.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pT.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pT.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=IE.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gT&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gT(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ft=null}}function vT(e,t=null,n=[],r=[],i=null,s=null,o=null){return new yT(e,t,n,r,i,s,o)}function bT(e){const t=iE(e);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Kk(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ik(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ek(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ek(e))).join(",")),t.ft=e}return t.ft}function wT(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!oT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Wk(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Uk(e.startAt,t.startAt)&&Uk(e.endAt,t.endAt)}function _T(e){return CE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function IT(e,t){return e.filters.filter((e=>e instanceof Bk&&e.field.isEqual(t)))}function ET(e,t,n){let r=yk,i=!0;for(const s of IT(e,t)){let e=yk,t=!0;switch(s.op){case"<":case"<=":e=Fk(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=yk}Pk({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Pk({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function kT(e,t,n){let r=gk,i=!0;for(const s of IT(e,t)){let e=gk,t=!0;switch(s.op){case">=":case">":e=Dk(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=gk}Lk({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Lk({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}function ST(e,t,n,r,i,s,o,a){return new TT(e,t,n,r,i,s,o,a)}function CT(e){return new TT(e)}function OT(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function xT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function AT(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function RT(e){return null!==e.collectionGroup}function NT(e){const t=iE(e);if(null===t.dt){t.dt=[];const e=AT(t),n=xT(t);if(null!==e&&null===n)e.isKeyField()||t.dt.push(new sT(e)),t.dt.push(new sT(SE.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.dt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new sT(SE.keyField(),e))}}}return t.dt}function FT(e){const t=iE(e);if(!t._t)if("F"===t.limitType)t._t=vT(t.path,t.collectionGroup,NT(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of NT(t)){const t="desc"===i.dir?"asc":"desc";e.push(new sT(i.field,t))}const n=t.endAt?new jk(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jk(t.startAt.position,t.startAt.inclusive):null;t._t=vT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function DT(e,t){t.getFirstInequalityField(),AT(e);const n=e.filters.concat([t]);return new TT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function PT(e,t,n){return new TT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function LT(e,t){return wT(FT(e),FT(t))&&e.limitType===t.limitType}function jT(e){return`${bT(FT(e))}|lt:${e.limitType}`}function MT(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Qk(e))).join(", ")}]`),ik(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ek(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ek(e))).join(",")),`Target(${t})`}(FT(e))}; limitType=${e.limitType})`}function UT(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):CE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of NT(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Mk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,NT(e),t))&&!(e.endAt&&!function(e,t,n){const r=Mk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,NT(e),t))}(e,t)}function VT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function BT(e){return(t,n)=>{let r=!1;for(const i of NT(e)){const e=qT(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function qT(e,t,n){const r=e.field.isKeyField()?CE.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_k(r,i):tE()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return tE()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sk(t)?"-0":t}}function zT(e){return{integerValue:""+e}}function HT(e,t){return ok(t)?zT(t):$T(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this._=void 0}}function KT(e,t,n){return e instanceof QT?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof JT?YT(e,t):e instanceof XT?eS(e,t):function(e,t){const n=ZT(e,t),r=nS(n)+nS(e.gt);return Sk(n)&&Sk(e.gt)?zT(r):$T(e.yt,r)}(e,t)}function WT(e,t,n){return e instanceof JT?YT(e,t):e instanceof XT?eS(e,t):n}function ZT(e,t){return e instanceof tS?Sk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class QT extends GT{}class JT extends GT{constructor(e){super(),this.elements=e}}function YT(e,t){const n=rS(t);for(const r of e.elements)n.some((e=>bk(e,r)))||n.push(r);return{arrayValue:{values:n}}}class XT extends GT{constructor(e){super(),this.elements=e}}function eS(e,t){let n=rS(t);for(const r of e.elements)n=n.filter((e=>!bk(e,r)));return{arrayValue:{values:n}}}class tS extends GT{constructor(e,t){super(),this.yt=e,this.gt=t}}function nS(e){return hk(e.integerValue||e.doubleValue)}function rS(e){return Ck(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t){this.field=e,this.transform=t}}function sS(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof JT&&t instanceof JT||e instanceof XT&&t instanceof XT?bE(e.elements,t.elements,bk):e instanceof tS&&t instanceof tS?bk(e.gt,t.gt):e instanceof QT&&t instanceof QT}(e.transform,t.transform)}class oS{constructor(e,t){this.version=e,this.transformResults=t}}class aS{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new aS}static exists(e){return new aS(void 0,e)}static updateTime(e){return new aS(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class uS{}function lS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wS(e.key,aS.none()):new mS(e.key,e.data,aS.none());{const n=e.data,r=pT.empty();let i=new lT(SE.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new gS(e.key,r,new fT(i.toArray()),aS.none())}}function hS(e,t,n){e instanceof mS?function(e,t,n){const r=e.value.clone(),i=vS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gS?function(e,t,n){if(!cS(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=vS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dS(e,t,n,r){return e instanceof mS?function(e,t,n,r){if(!cS(e.precondition,t))return n;const i=e.value.clone(),s=bS(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gS?function(e,t,n,r){if(!cS(e.precondition,t))return n;const i=bS(e.fieldTransforms,r,t),s=t.data;return s.setAll(yS(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return cS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function fS(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ZT(r.transform,e||null);null!=i&&(null===n&&(n=pT.empty()),n.set(r.field,i))}return n||null}function pS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&bE(e,t,((e,t)=>sS(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class mS extends uS{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gS extends uS{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yS(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function vS(e,t,n){const r=new Map;nE(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,WT(o,a,n[i]))}return r}function bS(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,KT(e,s,t))}return r}class wS extends uS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _S extends uS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.count=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ES,kS;function TS(e){switch(e){default:return tE();case sE.CANCELLED:case sE.UNKNOWN:case sE.DEADLINE_EXCEEDED:case sE.RESOURCE_EXHAUSTED:case sE.INTERNAL:case sE.UNAVAILABLE:case sE.UNAUTHENTICATED:return!1;case sE.INVALID_ARGUMENT:case sE.NOT_FOUND:case sE.ALREADY_EXISTS:case sE.PERMISSION_DENIED:case sE.FAILED_PRECONDITION:case sE.ABORTED:case sE.OUT_OF_RANGE:case sE.UNIMPLEMENTED:case sE.DATA_LOSS:return!0}}function SS(e){if(void 0===e)return YI("GRPC error has no .code"),sE.UNKNOWN;switch(e){case ES.OK:return sE.OK;case ES.CANCELLED:return sE.CANCELLED;case ES.UNKNOWN:return sE.UNKNOWN;case ES.DEADLINE_EXCEEDED:return sE.DEADLINE_EXCEEDED;case ES.RESOURCE_EXHAUSTED:return sE.RESOURCE_EXHAUSTED;case ES.INTERNAL:return sE.INTERNAL;case ES.UNAVAILABLE:return sE.UNAVAILABLE;case ES.UNAUTHENTICATED:return sE.UNAUTHENTICATED;case ES.INVALID_ARGUMENT:return sE.INVALID_ARGUMENT;case ES.NOT_FOUND:return sE.NOT_FOUND;case ES.ALREADY_EXISTS:return sE.ALREADY_EXISTS;case ES.PERMISSION_DENIED:return sE.PERMISSION_DENIED;case ES.FAILED_PRECONDITION:return sE.FAILED_PRECONDITION;case ES.ABORTED:return sE.ABORTED;case ES.OUT_OF_RANGE:return sE.OUT_OF_RANGE;case ES.UNIMPLEMENTED:return sE.UNIMPLEMENTED;case ES.DATA_LOSS:return sE.DATA_LOSS;default:return tE()}}(kS=ES||(ES={}))[kS.OK=0]="OK",kS[kS.CANCELLED=1]="CANCELLED",kS[kS.UNKNOWN=2]="UNKNOWN",kS[kS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kS[kS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kS[kS.NOT_FOUND=5]="NOT_FOUND",kS[kS.ALREADY_EXISTS=6]="ALREADY_EXISTS",kS[kS.PERMISSION_DENIED=7]="PERMISSION_DENIED",kS[kS.UNAUTHENTICATED=16]="UNAUTHENTICATED",kS[kS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kS[kS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kS[kS.ABORTED=10]="ABORTED",kS[kS.OUT_OF_RANGE=11]="OUT_OF_RANGE",kS[kS.UNIMPLEMENTED=12]="UNIMPLEMENTED",kS[kS.INTERNAL=13]="INTERNAL",kS[kS.UNAVAILABLE=14]="UNAVAILABLE",kS[kS.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class CS{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nk(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return rk(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new aT(CE.comparator);function xS(){return OS}const AS=new aT(CE.comparator);function RS(...e){let t=AS;for(const n of e)t=t.insert(n.key,n);return t}function NS(e){let t=AS;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function FS(){return PS()}function DS(){return PS()}function PS(){return new CS((e=>e.toString()),((e,t)=>e.isEqual(t)))}const LS=new aT(CE.comparator),jS=new lT(CE.comparator);function MS(...e){let t=jS;for(const n of e)t=t.add(n);return t}const US=new lT(vE);function VS(){return US}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,qS.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new BS(IE.min(),r,VS(),xS(),MS())}}class qS{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qS(n,t,MS(),MS(),MS())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,t,n,r){this.It=e,this.removedTargetIds=t,this.key=n,this.Tt=r}}class zS{constructor(e,t){this.targetId=e,this.Et=t}}class HS{constructor(e,t,n=ck.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class GS{constructor(){this.At=0,this.Rt=ZS(),this.bt=ck.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=MS(),t=MS(),n=MS();return this.Rt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:tE()}})),new qS(this.bt,this.Pt,e,t,n)}xt(){this.vt=!1,this.Rt=ZS()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class KS{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=xS(),this.qt=WS(),this.Ut=new lT(vE)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,(t=>{const n=this.Wt(t);switch(e.state){case 0:this.zt(t)&&n.Dt(e.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(e.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(n.Ft(),n.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),n.Dt(e.resumeToken));break;default:tE()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach(((e,n)=>{this.zt(n)&&t(n)}))}Jt(e){const t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){const e=r.target;if(_T(e))if(0===n){const n=new CE(e.path);this.Qt(t,n,gT.newNoDocument(n,IE.min()))}else nE(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach(((n,r)=>{const i=this.Yt(r);if(i){if(n.current&&_T(i.target)){const t=new CE(i.target.path);null!==this.Lt.get(t)||this.te(r,t)||this.Qt(r,t,gT.newNoDocument(t,e))}n.St&&(t.set(r,n.Ct()),n.xt())}}));let n=MS();this.qt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Yt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Lt.forEach(((t,n)=>n.setReadTime(e)));const r=new BS(e,t,this.Ut,this.Lt,n);return this.Lt=xS(),this.qt=WS(),this.Ut=new lT(vE),r}Gt(e,t){if(!this.zt(e))return;const n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,n){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new GS,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new lT(vE),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||JI("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new GS),this.$t.getRemoteKeysForTarget(e).forEach((t=>{this.Qt(e,t,null)}))}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function WS(){return new aT(CE.comparator)}function ZS(){return new aT(CE.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=(()=>{const e={asc:"ASCENDING",desc:"DESCENDING"};return e})(),JS=(()=>{const e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e})(),YS=(()=>{const e={and:"AND",or:"OR"};return e})();class XS{constructor(e,t){this.databaseId=e,this.wt=t}}function eC(e,t){return e.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tC(e,t){return e.wt?t.toBase64():t.toUint8Array()}function nC(e,t){return eC(e,t.toTimestamp())}function rC(e){return nE(!!e),IE.fromTimestamp(function(e){const t=lk(e);return new _E(t.seconds,t.nanos)}(e))}function iC(e,t){return function(e){return new kE(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sC(e){const t=kE.fromString(e);return nE(RC(t)),t}function oC(e,t){return iC(e.databaseId,t.path)}function aC(e,t){const n=sC(t);if(n.get(1)!==e.databaseId.projectId)throw new oE(sE.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new oE(sE.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new CE(hC(n))}function cC(e,t){return iC(e.databaseId,t)}function uC(e){const t=sC(e);return 4===t.length?kE.emptyPath():hC(t)}function lC(e){return new kE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hC(e){return nE(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function dC(e,t,n){return{name:oC(e,t),fields:n.value.mapValue.fields}}function fC(e,t,n){const r=aC(e,t.name),i=rC(t.updateTime),s=t.createTime?rC(t.createTime):IE.min(),o=new pT({mapValue:{fields:t.fields}}),a=gT.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function pC(e,t){return"found"in t?function(e,t){nE(!!t.found),t.found.name,t.found.updateTime;const n=aC(e,t.found.name),r=rC(t.found.updateTime),i=t.found.createTime?rC(t.found.createTime):IE.min(),s=new pT({mapValue:{fields:t.found.fields}});return gT.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){nE(!!t.missing),nE(!!t.readTime);const n=aC(e,t.missing),r=rC(t.readTime);return gT.newNoDocument(n,r)}(e,t):tE()}function mC(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:tE()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.wt?(nE(void 0===t||"string"==typeof t),ck.fromBase64String(t||"")):(nE(void 0===t||t instanceof Uint8Array),ck.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?sE.UNKNOWN:SS(e.code);return new oE(t,e.message||"")}(o);n=new HS(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=aC(e,r.document.name),s=rC(r.document.updateTime),o=r.document.createTime?rC(r.document.createTime):IE.min(),a=new pT({mapValue:{fields:r.document.fields}}),c=gT.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new $S(u,l,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=aC(e,r.document),s=r.readTime?rC(r.readTime):IE.min(),o=gT.newNoDocument(i,s),a=r.removedTargetIds||[];n=new $S([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=aC(e,r.document),s=r.removedTargetIds||[];n=new $S([],s,i,null)}else{if(!("filter"in t))return tE();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new IS(r),s=e.targetId;n=new zS(s,i)}}return n}function gC(e,t){let n;if(t instanceof mS)n={update:dC(e,t.key,t.value)};else if(t instanceof wS)n={delete:oC(e,t.key)};else if(t instanceof gS)n={update:dC(e,t.key,t.data),updateMask:AC(t.fieldMask)};else{if(!(t instanceof _S))return tE();n={verify:oC(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof QT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof JT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof XT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tS)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw tE()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:tE()}(e,t.precondition)),n}function yC(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?aS.updateTime(rC(e.updateTime)):void 0!==e.exists?aS.exists(e.exists):aS.none()}(t.currentDocument):aS.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)nE("REQUEST_TIME"===t.setToServerValue),n=new QT;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new JT(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new XT(e)}else"increment"in t?n=new tS(e,t.increment):tE();const r=SE.fromServerFormat(t.fieldPath);return new iS(r,n)}(e,t))):[];if(t.update){t.update.name;const i=aC(e,t.update.name),s=new pT({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new fT(t.map((e=>SE.fromServerFormat(e))))}(t.updateMask);return new gS(i,s,e,n,r)}return new mS(i,s,n,r)}if(t.delete){const r=aC(e,t.delete);return new wS(r,n)}if(t.verify){const r=aC(e,t.verify);return new _S(r,n)}return tE()}function vC(e,t){return e&&e.length>0?(nE(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?rC(e.updateTime):rC(t);return n.isEqual(IE.min())&&(n=rC(t)),new oS(n,e.transformResults||[])}(e,t)))):[]}function bC(e,t){return{documents:[cC(e,t.path)]}}function wC(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=cC(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=cC(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return xC(qk.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:CC(e.field),direction:kC(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.wt||ik(t)?t:{value:t}}(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function _C(e){let t=uC(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nE(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=EC(e);return t instanceof qk&&Hk(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new sT(OC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ik(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new jk(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new jk(n,t)}(n.endAt)),ST(t,i,o,s,a,"F",c,u)}function IC(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tE()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}function EC(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=OC(e.unaryFilter.field);return Bk.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=OC(e.unaryFilter.field);return Bk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=OC(e.unaryFilter.field);return Bk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=OC(e.unaryFilter.field);return Bk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tE()}}(e):void 0!==e.fieldFilter?function(e){return Bk.create(OC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tE()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return qk.create(e.compositeFilter.filters.map((e=>EC(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return tE()}}(e.compositeFilter.op))}(e):tE()}function kC(e){return QS[e]}function TC(e){return JS[e]}function SC(e){return YS[e]}function CC(e){return{fieldPath:e.canonicalString()}}function OC(e){return SE.fromServerFormat(e.fieldPath)}function xC(e){return e instanceof Bk?function(e){if("=="===e.op){if(xk(e.value))return{unaryFilter:{field:CC(e.field),op:"IS_NAN"}};if(Ok(e.value))return{unaryFilter:{field:CC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xk(e.value))return{unaryFilter:{field:CC(e.field),op:"IS_NOT_NAN"}};if(Ok(e.value))return{unaryFilter:{field:CC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:CC(e.field),op:TC(e.op),value:e.value}}}(e):e instanceof qk?function(e){const t=e.getFilters().map((e=>xC(e)));return 1===t.length?t[0]:{compositeFilter:{op:SC(e.op),filters:t}}}(e):tE()}function AC(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function RC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=DC(t)),t=FC(e.get(n),t);return DC(t)}function FC(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function DC(e){return e+""}function PC(e){const t=e.length;if(nE(t>=2),2===t)return nE(""===e.charAt(0)&&""===e.charAt(1)),kE.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&tE(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:tE()}s=t+2}return new kE(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(e,t){return[e,NC(t)]}function MC(e,t,n){return[e,NC(t),n]}const UC={},VC=["prefixPath","collectionGroup","readTime","documentId"],BC=["prefixPath","collectionGroup","documentId"],qC=["collectionGroup","readTime","prefixPath","documentId"],$C=["canonicalId","targetId"],zC=["targetId","path"],HC=["path","targetId"],GC=["collectionId","parent"],KC=["indexId","uid"],WC=["uid","sequenceNumber"],ZC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],QC=["indexId","uid","orderedDocumentKey"],JC=["userId","collectionPath","documentId"],YC=["userId","collectionPath","largestBatchId"],XC=["userId","collectionGroup","largestBatchId"],eO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tO=[...eO,"documentOverlays"],nO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rO=nO,iO=[...rO,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO extends ME{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function oO(e,t){const n=iE(e);return qE.M(n.se,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&hS(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=dS(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=dS(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=DS();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=lS(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(IE.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),MS())}isEqual(e){return this.batchId===e.batchId&&bE(this.mutations,e.mutations,((e,t)=>pS(e,t)))&&bE(this.baseMutations,e.baseMutations,((e,t)=>pS(e,t)))}}class cO{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){nE(e.mutations.length===n.length);let r=LS;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new cO(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,n,r,i=IE.min(),s=IE.min(),o=ck.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new lO(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new lO(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new lO(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.ie=e}}function dO(e,t){let n;if(t.document)n=fC(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=CE.fromSegments(t.noDocument.path),r=gO(t.noDocument.readTime);n=gT.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return tE();{const e=CE.fromSegments(t.unknownDocument.path),r=gO(t.unknownDocument.version);n=gT.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new _E(e[0],e[1]);return IE.fromTimestamp(t)}(t.readTime)),n}function fO(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pO(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:oC(e,t.key),fields:t.data.value.mapValue.fields,updateTime:eC(e,t.version.toTimestamp()),createTime:eC(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:mO(t.version)};else{if(!t.isUnknownDocument())return tE();r.unknownDocument={path:n.path.toArray(),version:mO(t.version)}}return r}function pO(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function mO(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gO(e){const t=new _E(e.seconds,e.nanoseconds);return IE.fromTimestamp(t)}function yO(e,t){const n=(t.baseMutations||[]).map((t=>yC(e.ie,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>yC(e.ie,t))),i=_E.fromMillis(t.localWriteTimeMs);return new aO(t.batchId,i,n,r)}function vO(e){const t=gO(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?gO(e.lastLimboFreeSnapshotVersion):IE.min();let r;var i;return void 0!==e.query.documents?(nE(1===(i=e.query).documents.length),r=FT(CT(uC(i.documents[0])))):r=function(e){return FT(_C(e))}(e.query),new lO(r,e.targetId,0,e.lastListenSequenceNumber,t,n,ck.fromBase64String(e.resumeToken))}function bO(e,t){const n=mO(t.snapshotVersion),r=mO(t.lastLimboFreeSnapshotVersion);let i;i=_T(t.target)?bC(e.ie,t.target):wC(e.ie,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bT(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function wO(e){const t=_C({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?PT(t,t.limit,"L"):t}function _O(e,t){return new uO(t.largestBatchId,yC(e.ie,t.overlayMutation))}function IO(e,t){const n=t.path.lastSegment();return[e,NC(t.path.popLast()),n]}function EO(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:mO(r.readTime),documentKey:NC(r.documentKey.path),largestBatchId:r.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{getBundleMetadata(e,t){return TO(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:gO(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return TO(e).put({bundleId:(n=t).id,createTime:mO(rC(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return SO(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:wO(t.bundledQuery),readTime:gO(t.readTime)};var t}))}saveNamedQuery(e,t){return SO(e).put(function(e){return{name:e.name,readTime:mO(rC(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function TO(e){return oO(e,"bundles")}function SO(e){return oO(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){const n=t.uid||"";return new CO(e,n)}getOverlay(e,t){return OO(e).get(IO(this.userId,t)).next((e=>e?_O(this.yt,e):null))}getOverlays(e,t){const n=FS();return VE.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new uO(t,i);r.push(this.oe(e,s))})),VE.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(NC(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(OO(e).Y("collectionPathOverlayIndex",r))})),VE.waitFor(i)}getOverlaysForCollection(e,t,n){const r=FS(),i=NC(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return OO(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=_O(this.yt,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=FS();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return OO(e).Z({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=_O(this.yt,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}oe(e,t){return OO(e).put(function(e,t,n){const[r,i,s]=IO(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:gC(e.ie,n.mutation)}}(this.yt,this.userId,t))}}function OO(e){return oO(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(hk(e.integerValue));else if("doubleValue"in e){const n=hk(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),sk(n)?t.le(0):t.le(n))}else if("timestampValue"in e){const n=e.timestampValue;this.he(t,20),"string"==typeof n?t.fe(n):(t.fe(`${n.seconds||""}`),t.le(n.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(dk(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.he(t,45),t.le(n.latitude||0),t.le(n.longitude||0)}else"mapValue"in e?Nk(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):tE()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const n=e.fields||{};this.he(t,55);for(const r of Object.keys(n))this.de(r,t),this.ce(n[r],t)}ye(e,t){const n=e.values||[];this.he(t,50);for(const r of n)this.ce(r,t)}me(e,t){this.he(t,37),CE.fromName(e).path.forEach((e=>{this.he(t,60),this.pe(e,t)}))}he(e,t){e.le(t)}_e(e){e.le(2)}}function AO(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function RO(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=AO(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}xO.Ie=new xO;class NO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ee(n.value),n=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.be(n.value),n=t.next();this.Pe()}ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ee(e);else if(e<2048)this.Ee(960|e>>>6),this.Ee(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|e>>>12),this.Ee(128|63&e>>>6),this.Ee(128|63&e);else{const e=t.codePointAt(0);this.Ee(240|e>>>18),this.Ee(128|63&e>>>12),this.Ee(128|63&e>>>6),this.Ee(128|63&e)}}this.Ae()}Ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.be(e);else if(e<2048)this.be(960|e>>>6),this.be(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.be(480|e>>>12),this.be(128|63&e>>>6),this.be(128|63&e);else{const e=t.codePointAt(0);this.be(240|e>>>18),this.be(128|63&e>>>12),this.be(128|63&e>>>6),this.be(128|63&e)}}this.Pe()}Se(e){const t=this.De(e),n=RO(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}xe(e){const t=this.De(e),n=RO(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class FO{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class DO{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class PO{constructor(){this.$e=new NO,this.Be=new FO(this.$e),this.Le=new DO(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new LO(this.indexId,this.documentKey,this.arrayValue,n)}}function jO(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=MO(e.arrayValue,t.arrayValue),0!==n?n:(n=MO(e.directionalValue,t.directionalValue),0!==n?n:CE.comparator(e.documentKey,t.documentKey)))}function MO(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const e=t;e.isInequality()?this.Qe=e:this.Ge.push(e)}}je(e){nE(e.collectionGroup===this.collectionId);const t=xE(e);if(void 0!==t&&!this.We(t))return!1;const n=AE(e);let r=0,i=0;for(;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){const e=n[r];if(!this.ze(this.Qe,e)||!this.He(this.Ke[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],e))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(e){var t,n;if(nE(e instanceof Bk||e instanceof qk),e instanceof Bk){if(e instanceof nT){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Bk.create(e.field,"==",t))))||[];return qk.create(r,"or")}return e}const r=e.filters.map((e=>VO(e)));return qk.create(r,e.op)}function BO(e){if(0===e.getFilters().length)return[];const t=HO(VO(e));return nE(zO(t)),qO(t)||$O(t)?[t]:t.getFilters()}function qO(e){return e instanceof Bk}function $O(e){return e instanceof qk&&Hk(e)}function zO(e){return qO(e)||$O(e)||function(e){if(e instanceof qk&&zk(e)){for(const t of e.getFilters())if(!qO(t)&&!$O(t))return!1;return!0}return!1}(e)}function HO(e){if(nE(e instanceof Bk||e instanceof qk),e instanceof Bk)return e;if(1===e.filters.length)return HO(e.filters[0]);const t=e.filters.map((e=>HO(e)));let n=qk.create(t,e.op);return n=WO(n),zO(n)?n:(nE(n instanceof qk),nE($k(n)),nE(n.filters.length>1),n.filters.reduce(((e,t)=>GO(e,t))))}function GO(e,t){let n;return nE(e instanceof Bk||e instanceof qk),nE(t instanceof Bk||t instanceof qk),n=e instanceof Bk?t instanceof Bk?function(e,t){return qk.create([e,t],"and")}(e,t):KO(e,t):t instanceof Bk?KO(t,e):function(e,t){if(nE(e.filters.length>0&&t.filters.length>0),$k(e)&&$k(t))return Zk(e,t.getFilters());const n=zk(e)?e:t,r=zk(e)?t:e,i=n.filters.map((e=>GO(e,r)));return qk.create(i,"or")}(e,t),WO(n)}function KO(e,t){if($k(t))return Zk(t,e.getFilters());{const n=t.filters.map((t=>GO(e,t)));return qk.create(n,"or")}}function WO(e){if(nE(e instanceof Bk||e instanceof qk),e instanceof Bk)return e;const t=e.getFilters();if(1===t.length)return WO(t[0]);if(Gk(e))return e;const n=t.map((e=>WO(e))),r=[];return n.forEach((t=>{t instanceof Bk?r.push(t):t instanceof qk&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:qk.create(r,e.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ZO{constructor(){this.Je=new QO}addToCollectionParentIndex(e,t){return this.Je.add(t),VE.resolve()}getCollectionParents(e,t){return VE.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return VE.resolve()}deleteFieldIndex(e,t){return VE.resolve()}getDocumentsMatchingTarget(e,t){return VE.resolve(null)}getIndexType(e,t){return VE.resolve(0)}getFieldIndexes(e,t){return VE.resolve([])}getNextCollectionGroupToUpdate(e){return VE.resolve(null)}getMinOffset(e,t){return VE.resolve(PE.min())}getMinOffsetFromCollectionGroup(e,t){return VE.resolve(PE.min())}updateCollectionGroup(e,t,n){return VE.resolve()}updateIndexEntries(e,t){return VE.resolve()}}class QO{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new lT(kE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new lT(kE.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new Uint8Array(0);class YO{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new QO,this.Xe=new CS((e=>bT(e)),((e,t)=>wT(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Ye.add(t)}));const i={collectionId:n,parent:NC(r)};return XO(e).put(i)}return VE.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[wE(t),""],!1,!0);return XO(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(PC(r.parent))}return n}))}addFieldIndex(e,t){const n=tx(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=nx(e);return i.next((e=>{n.put(EO(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=tx(e),r=nx(e),i=ex(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=ex(e);let r=!0;const i=new Map;return VE.forEach(this.Ze(t),(t=>this.tn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=MS();const r=[];return VE.forEach(i,((i,s)=>{var o;JI("IndexedDbIndexManager",`Using index ${o=i,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${bT(t)}`);const a=function(e,t){const n=xE(t);if(void 0===n)return null;for(const r of IT(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),c=function(e,t){const n=new Map;for(const r of AE(t))for(const t of IT(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of AE(t)){const t=0===i.kind?ET(e,i.fieldPath,e.startAt):kT(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new jk(n,r)}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of AE(t)){const t=0===i.kind?kT(e,i.fieldPath,e.endAt):ET(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new jk(n,r)}(s,i),h=this.en(i,s,u),d=this.en(i,s,l),f=this.nn(i,s,c),p=this.sn(i.indexId,a,h,u.inclusive,d,l.inclusive,f);return VE.forEach(p,(i=>n.J(i,t.limit).next((t=>{t.forEach((t=>{const n=CE.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return VE.resolve(null)}))}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:BO(qk.create(e.filters,"and")).map((t=>vT(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.Xe.set(e,t),t)}sn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),u=[];for(let l=0;l<a;++l){const a=t?this.rn(t[l/c]):JO,h=this.on(e,a,n[l%c],r),d=this.un(e,a,i[l%c],s),f=o.map((t=>this.on(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}on(e,t,n,r){const i=new LO(e,CE.empty(),t,n);return r?i:i.Ue()}un(e,t,n,r){const i=new LO(e,CE.empty(),t,n);return r?i.Ue():i}tn(e,t){const n=new UO(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.je(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.Ze(t);return VE.forEach(r,(t=>this.tn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new lT(SE.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}cn(e,t){const n=new PO;for(const r of AE(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.qe(r.kind);xO.Ie.ue(e,i)}return n.Fe()}rn(e){const t=new PO;return xO.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const n=new PO;return xO.Ie.ue(Tk(this.databaseId,t),n.qe(function(e){const t=AE(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}nn(e,t,n){if(null===n)return[];let r=[];r.push(new PO);let i=0;for(const s of AE(e)){const e=n[i++];for(const n of r)if(this.hn(t,s.fieldPath)&&Ck(e))r=this.ln(r,s,e);else{const t=n.qe(s.kind);xO.Ie.ue(e,t)}}return this.fn(r)}en(e,t,n){return this.nn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Fe();return t}ln(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new PO;n.seed(e.Fe()),xO.Ie.ue(s,n.qe(t.kind)),i.push(n)}return i}hn(e,t){return!!e.filters.find((e=>e instanceof Bk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=tx(e),r=nx(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return VE.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new NE(t.sequenceNumber,new PE(gO(t.readTime),new CE(PC(t.documentKey)),t.largestBatchId)):NE.empty(),r=e.fields.map((([e,t])=>new RE(SE.fromServerFormat(e),t)));return new OE(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:vE(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=tx(e),i=nx(e);return this.dn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>VE.forEach(t,(t=>i.put(EO(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return VE.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?VE.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),VE.forEach(i,(n=>this._n(e,t,n).next((t=>{const i=this.wn(r,n);return t.isEqual(i)?VE.resolve():this.mn(e,r,n,t,i)})))))))}))}gn(e,t,n,r){return ex(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}yn(e,t,n,r){return ex(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}_n(e,t,n){const r=ex(e);let i=new lT(jO);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},((e,r)=>{i=i.add(new LO(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}wn(e,t){let n=new lT(jO);const r=this.cn(t,e);if(null==r)return n;const i=xE(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Ck(s))for(const i of s.arrayValue.values||[])n=n.add(new LO(t.indexId,e.key,this.rn(i),r))}else n=n.add(new LO(t.indexId,e.key,JO,r));return n}mn(e,t,n,r,i){JI("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=dT(s),c=dT(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=dT(o)):t?(i(a),a=dT(s)):(a=dT(s),c=dT(o))}}(r,i,jO,(r=>{s.push(this.gn(e,t,n,r))}),(r=>{s.push(this.yn(e,t,n,r))})),VE.waitFor(s)}dn(e){let t=1;return nx(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>jO(e,t))).filter(((e,t,n)=>!t||0!==jO(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=jO(s,e),i=jO(s,t);if(0===n)r[0]=e.Ue();else if(n>0&&i<0)r.push(s),r.push(s.Ue());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.pn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,JO,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,JO,[]];i.push(IDBKeyRange.bound(e,t))}return i}pn(e,t){return jO(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(rx)}getMinOffset(e,t){return VE.mapArray(this.Ze(t),(t=>this.tn(e,t).next((e=>e||tE())))).next(rx)}}function XO(e){return oO(e,"collectionParents")}function ex(e){return oO(e,"indexEntries")}function tx(e){return oO(e,"indexConfiguration")}function nx(e){return oO(e,"indexState")}function rx(e){nE(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;LE(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new PE(t.readTime,t.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sx{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new sx(e,sx.DEFAULT_COLLECTION_PERCENTILE,sx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Z({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{nE(1===a)})));const u=[];for(const l of n.mutations){const e=MC(t,l.key.path,n.batchId);s.push(i.delete(e)),u.push(l.key)}return VE.waitFor(s).next((()=>u))}function ax(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw tE();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sx.DEFAULT_COLLECTION_PERCENTILE=10,sx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sx.DEFAULT=new sx(41943040,sx.DEFAULT_COLLECTION_PERCENTILE,sx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sx.DISABLED=new sx(-1,0,0);class cx{constructor(e,t,n,r){this.userId=e,this.yt=t,this.indexManager=n,this.referenceDelegate=r,this.In={}}static re(e,t,n,r){nE(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new cx(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lx(e).Z({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=hx(e),s=lx(e);return s.add({}).next((o=>{nE("number"==typeof o);const a=new aO(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>gC(e.ie,t))),i=n.mutations.map((t=>gC(e.ie,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.yt,this.userId,a),u=[];let l=new lT(((e,t)=>vE(e.canonicalString(),t.canonicalString())));for(const e of r){const t=MC(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),u.push(s.put(c)),u.push(i.put(t,UC))}return l.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.In[o]=a.keys()})),VE.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return lx(e).get(t).next((e=>e?(nE(e.userId===this.userId),yO(this.yt,e)):null))}Tn(e,t){return this.In[t]?VE.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.In[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return lx(e).Z({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(nE(t.batchId>=n),i=yO(this.yt,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return lx(e).Z({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lx(e).W("userMutationsIndex",t).next((e=>e.map((e=>yO(this.yt,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=jC(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return hx(e).Z({range:r},((n,r,s)=>{const[o,a,c]=n,u=PC(a);if(o===this.userId&&t.path.isEqual(u))return lx(e).get(c).next((e=>{if(!e)throw tE();nE(e.userId===this.userId),i.push(yO(this.yt,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new lT(vE);const r=[];return t.forEach((t=>{const i=jC(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=hx(e).Z({range:s},((e,r,i)=>{const[s,o,a]=e,c=PC(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),VE.waitFor(r).next((()=>this.En(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=jC(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new lT(vE);return hx(e).Z({range:s},((e,t,i)=>{const[s,a,c]=e,u=PC(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(c)):i.done()})).next((()=>this.En(e,o)))}En(e,t){const n=[],r=[];return t.forEach((t=>{r.push(lx(e).get(t).next((e=>{if(null===e)throw tE();nE(e.userId===this.userId),n.push(yO(this.yt,e))})))})),VE.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return ox(e.se,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.An(t.batchId)})),VE.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return VE.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return hx(e).Z({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=PC(e[1]);r.push(t)}else n.done()})).next((()=>{nE(0===r.length)}))}))}containsKey(e,t){return ux(e,this.userId,t)}Rn(e){return dx(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function ux(e,t,n){const r=jC(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return hx(e).Z({range:s,X:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function lx(e){return oO(e,"mutations")}function hx(e){return oO(e,"documentMutations")}function dx(e){return oO(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new fx(0)}static vn(){return new fx(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next((t=>{const n=new fx(t.highestTargetId);return t.highestTargetId=n.next(),this.Sn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Vn(e).next((e=>IE.fromTimestamp(new _E(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Vn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Vn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r))))}addTargetData(e,t){return this.Dn(e,t).next((()=>this.Vn(e).next((n=>(n.targetCount+=1,this.Cn(t,n),this.Sn(e,n))))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>mx(e).delete(t.targetId))).next((()=>this.Vn(e))).next((t=>(nE(t.targetCount>0),t.targetCount-=1,this.Sn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return mx(e).Z(((s,o)=>{const a=vO(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>VE.waitFor(i))).next((()=>r))}forEachTarget(e,t){return mx(e).Z(((e,n)=>{const r=vO(n);t(r)}))}Vn(e){return gx(e).get("targetGlobalKey").next((e=>(nE(null!==e),e)))}Sn(e,t){return gx(e).put("targetGlobalKey",t)}Dn(e,t){return mx(e).put(bO(this.yt,t))}Cn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Vn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=bT(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return mx(e).Z({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=vO(n);wT(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=yx(e);return t.forEach((t=>{const s=NC(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),VE.waitFor(r)}removeMatchingKeys(e,t,n){const r=yx(e);return VE.forEach(t,(t=>{const i=NC(t.path);return VE.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=yx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=yx(e);let i=MS();return r.Z({range:n,X:!0},((e,t,n)=>{const r=PC(e[1]),s=new CE(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=NC(t.path),r=IDBKeyRange.bound([n],[wE(n)],!1,!0);let i=0;return yx(e).Z({index:"documentTargetsIndex",X:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}ne(e,t){return mx(e).get(t).next((e=>e?vO(e):null))}}function mx(e){return oO(e,"targets")}function gx(e){return oO(e,"targetGlobal")}function yx(e){return oO(e,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx([e,t],[n,r]){const i=vE(e,n);return 0===i?vE(t,r):i}class bx{constructor(e){this.xn=e,this.buffer=new lT(vx),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();vx(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wx{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){JI("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){HE(e)?JI("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await UE(e)}await this.Fn(3e5)}))}}class _x{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return VE.resolve(YE.at);const n=new bx(t);return this.$n.forEachTarget(e,(e=>n.On(e.sequenceNumber))).next((()=>this.$n.Ln(e,(e=>n.On(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.$n.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(JI("LruGarbageCollector","Garbage collection skipped; disabled"),VE.resolve(ix)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(JI("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ix):this.qn(e,t)))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let n,r,i,s,o,a,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(JI("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),ZI()<=iu.DEBUG&&JI("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-u}ms`),VE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new _x(e,t)}(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Un(e){let t=0;return this.Ln(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,((e,n)=>t(n)))}addReference(e,t,n){return Ex(e,n)}removeReference(e,t,n){return Ex(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Ex(e,t)}Gn(e,t){return function(e,t){let n=!1;return dx(e).tt((r=>ux(e,r,t).next((e=>(e&&(n=!0),VE.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Kn(e,((s,o)=>{if(o<=t){const t=this.Gn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,IE.min()),yx(e).delete([0,NC(s.path)]))))}));r.push(t)}})).next((()=>VE.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Ex(e,t)}Kn(e,t){const n=yx(e);let r,i=YE.at;return n.Z({index:"documentTargetsIndex"},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==YE.at&&t(new CE(PC(r)),i),i=o,r=s):i=YE.at})).next((()=>{i!==YE.at&&t(new CE(PC(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ex(e,t){return yx(e).put(function(e,t){return{targetId:0,path:NC(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.changes=new CS((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gT.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?VE.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return xx(e).put(n)}removeEntry(e,t,n){return xx(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],pO(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Qn(e,n))))}getEntry(e,t){let n=gT.newInvalidDocument(t);return xx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ax(t))},((e,r)=>{n=this.jn(t,r)})).next((()=>n))}Wn(e,t){let n={size:0,document:gT.newInvalidDocument(t)};return xx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ax(t))},((e,r)=>{n={document:this.jn(t,r),size:ax(r)}})).next((()=>n))}getEntries(e,t){let n=xS();return this.zn(e,t,((e,t)=>{const r=this.jn(e,t);n=n.insert(e,r)})).next((()=>n))}Hn(e,t){let n=xS(),r=new aT(CE.comparator);return this.zn(e,t,((e,t)=>{const i=this.jn(e,t);n=n.insert(e,i),r=r.insert(e,ax(t))})).next((()=>({documents:n,Jn:r})))}zn(e,t,n){if(t.isEmpty())return VE.resolve();let r=new lT(Nx);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Ax(r.first()),Ax(r.last())),s=r.getIterator();let o=s.getNext();return xx(e).Z({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=CE.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Nx(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.j(Ax(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getAllFromCollection(e,t,n){const r=[t.popLast().toArray(),t.lastSegment(),pO(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xx(e).W(IDBKeyRange.bound(r,i,!0)).next((e=>{let t=xS();for(const n of e){const e=this.jn(CE.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t}))}getAllFromCollectionGroup(e,t,n,r){let i=xS();const s=Rx(t,n),o=Rx(t,PE.max());return xx(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.jn(CE.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Cx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Ox(e).get("remoteDocumentGlobalKey").next((e=>(nE(!!e),e)))}Qn(e,t){return Ox(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const e=dO(this.yt,t);if(!e.isNoDocument()||!e.version.isEqual(IE.min()))return e}return gT.newInvalidDocument(e)}}function Sx(e){return new Tx(e)}class Cx extends kx{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new CS((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new lT(((e,t)=>vE(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.Xn.get(i);if(t.push(this.Yn.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=fO(this.Yn.yt,s);r=r.add(i.path.popLast());const c=ax(a);n+=c-o.size,t.push(this.Yn.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=fO(this.Yn.yt,s.convertToNoDocument(IE.min()));t.push(this.Yn.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Yn.updateMetadata(e,n)),VE.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next((e=>(this.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next((({documents:e,Jn:t})=>(t.forEach(((t,n)=>{this.Xn.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function Ox(e){return oO(e,"remoteDocumentGlobal")}function xx(e){return oO(e,"remoteDocumentsV14")}function Ax(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Rx(e,t){const n=t.documentKey.path.toArray();return[e,pO(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Nx(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=vE(n[s],r[s]),i)return i;return i=vE(n.length,r.length),i||(i=vE(n[n.length-2],r[r.length-2]),i||vE(n[n.length-1],r[r.length-1]))
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Fx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&dS(n.mutation,e,fT.empty(),_E.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,MS()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=MS()){const r=FS();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=RS();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=FS();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,MS())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=xS();const s=PS(),o=PS();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof gS)?i=i.insert(t.key,t):void 0!==o&&(s.set(t.key,o.mutation.getFieldMask()),dS(o.mutation,t,o.mutation.getFieldMask(),_E.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Fx(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=PS();let r=new aT(((e,t)=>e-t)),i=MS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||fT.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||MS()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,u=DS();c.forEach((e=>{if(!i.has(e)){const r=lS(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return VE.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return CE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):RT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):VE.resolve(FS());let o=-1,a=i;return s.next((t=>VE.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?VE.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,MS()))).next((e=>({batchId:o,changes:NS(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new CE(t)).next((e=>{let t=RS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=RS();return this.indexManager.getCollectionParents(e,r).next((s=>VE.forEach(s,(s=>{const o=function(e,t){return new TT(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)))).next((e=>{e.forEach(((e,t)=>{const n=t.getKey();null===r.get(n)&&(r=r.insert(n,gT.newInvalidDocument(n)))}));let n=RS();return r.forEach(((r,i)=>{const s=e.get(r);void 0!==s&&dS(s.mutation,i,fT.empty(),_E.now()),UT(t,i)&&(n=n.insert(r,i))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return VE.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:rC(n.createTime)}),VE.resolve()}getNamedQuery(e,t){return VE.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:wO(e.bundledQuery),readTime:rC(e.readTime)}}(t)),VE.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.overlays=new aT(CE.comparator),this.es=new Map}getOverlay(e,t){return VE.resolve(this.overlays.get(t))}getOverlays(e,t){const n=FS();return VE.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.oe(e,t,r)})),VE.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.es.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.es.delete(n)),VE.resolve()}getOverlaysForCollection(e,t,n){const r=FS(),i=t.length+1,s=new CE(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return VE.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new aT(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=FS(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=FS(),a=i.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((e,t)=>o.set(e,t))),o.size()>=r)break;return VE.resolve(o)}oe(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new uO(t,n));let i=this.es.get(t);void 0===i&&(i=MS(),this.es.set(t,i)),this.es.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.ns=new lT(Mx.ss),this.rs=new lT(Mx.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const n=new Mx(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.cs(new Mx(e,t))}hs(e,t){e.forEach((e=>this.removeReference(e,t)))}ls(e){const t=new CE(new kE([])),n=new Mx(t,e),r=new Mx(t,e+1),i=[];return this.rs.forEachInRange([n,r],(e=>{this.cs(e),i.push(e.key)})),i}fs(){this.ns.forEach((e=>this.cs(e)))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new CE(new kE([])),n=new Mx(t,e),r=new Mx(t,e+1);let i=MS();return this.rs.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Mx(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Mx{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return CE.comparator(e.key,t.key)||vE(e._s,t._s)}static os(e,t){return vE(e._s,t._s)||CE.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new lT(Mx.ss)}checkEmpty(e){return VE.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new aO(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.gs=this.gs.add(new Mx(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return VE.resolve(s)}lookupMutationBatch(e,t){return VE.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ps(n),i=r<0?0:r;return VE.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return VE.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return VE.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Mx(t,0),r=new Mx(t,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,r],(e=>{const t=this.ys(e._s);i.push(t)})),VE.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new lT(vE);return t.forEach((e=>{const t=new Mx(e,0),r=new Mx(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,r],(e=>{n=n.add(e._s)}))})),VE.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;CE.isDocumentKey(i)||(i=i.child(""));const s=new Mx(new CE(i),0);let o=new lT(vE);return this.gs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),s),VE.resolve(this.Is(o))}Is(e){const t=[];return e.forEach((e=>{const n=this.ys(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){nE(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return VE.forEach(t.mutations,(r=>{const i=new Mx(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.gs=n}))}An(e){}containsKey(e,t){const n=new Mx(t,0),r=this.gs.firstAfterOrEqual(n);return VE.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,VE.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.Es=e,this.docs=new aT(CE.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return VE.resolve(n?n.document.mutableCopy():gT.newInvalidDocument(t))}getEntries(e,t){let n=xS();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():gT.newInvalidDocument(e))})),VE.resolve(n)}getAllFromCollection(e,t,n){let r=xS();const i=new CE(t.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||LE(DE(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return VE.resolve(r)}getAllFromCollectionGroup(e,t,n,r){tE()}As(e,t){return VE.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Bx(this)}getSize(e){return VE.resolve(this.size)}}class Bx extends kx{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(n)})),VE.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.persistence=e,this.Rs=new CS((e=>bT(e)),wT),this.lastRemoteSnapshotVersion=IE.min(),this.highestTargetId=0,this.bs=0,this.Ps=new jx,this.targetCount=0,this.vs=fx.Pn()}forEachTarget(e,t){return this.Rs.forEach(((e,n)=>t(n))),VE.resolve()}getLastRemoteSnapshotVersion(e){return VE.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return VE.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),VE.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),VE.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new fx(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,VE.resolve()}updateTargetData(e,t){return this.Dn(t),VE.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,VE.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Rs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Rs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),VE.waitFor(i).next((()=>r))}getTargetCount(e){return VE.resolve(this.targetCount)}getTargetData(e,t){const n=this.Rs.get(t)||null;return VE.resolve(n)}addMatchingKeys(e,t,n){return this.Ps.us(t,n),VE.resolve()}removeMatchingKeys(e,t,n){this.Ps.hs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),VE.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),VE.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ps.ds(t);return VE.resolve(n)}containsKey(e,t){return VE.resolve(this.Ps.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new YE(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new qx(this),this.indexManager=new ZO,this.remoteDocumentCache=function(e){return new Vx(e)}((e=>this.referenceDelegate.xs(e))),this.yt=new hO(t),this.Ns=new Px(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Vs[e.toKey()];return n||(n=new Ux(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,n){JI("MemoryPersistence","Starting transaction:",e);const r=new zx(this.Ss.next());return this.referenceDelegate.ks(),n(r).next((e=>this.referenceDelegate.Os(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ms(e,t){return VE.or(Object.values(this.Vs).map((n=>()=>n.containsKey(e,t))))}}class zx extends ME{constructor(e){super(),this.currentSequenceNumber=e}}class Hx{constructor(e){this.persistence=e,this.Fs=new jx,this.$s=null}static Bs(e){return new Hx(e)}get Ls(){if(this.$s)return this.$s;throw tE()}addReference(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),VE.resolve()}removeReference(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),VE.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),VE.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach((e=>this.Ls.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ls.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return VE.forEach(this.Ls,(n=>{const r=CE.fromPath(n);return this.qs(e,r).next((e=>{e||t.removeEntry(r,IE.min())}))})).next((()=>(this.$s=null,t.apply(e))))}updateLimboDocument(e,t){return this.qs(e,t).next((e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())}))}xs(e){return 0}qs(e,t){return VE.or([()=>VE.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.yt=e}$(e,t,n,r){const i=new BE("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",LC,{unique:!0}),e.createObjectStore("documentMutations")}(e),Kx(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=VE.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Kx(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:IE.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",LC,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return VE.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Us(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(i))))),n<7&&r>=7&&(s=s.next((()=>this.Gs(i)))),n<8&&r>=8&&(s=s.next((()=>this.Qs(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.js(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:JC});t.createIndex("collectionPathOverlayIndex",YC,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",XC,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:VC});t.createIndex("documentKeyIndex",BC),t.createIndex("collectionGroupIndex",qC)}(e))).next((()=>this.Ws(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.zs(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:KC}).createIndex("sequenceNumberIndex",WC,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ZC}).createIndex("documentKeyIndex",QC,{unique:!1})}(e)))),s}Ks(e){let t=0;return e.store("remoteDocuments").Z(((e,n)=>{t+=ax(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Us(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>VE.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>VE.forEach(n,(n=>{nE(n.userId===t.userId);const r=yO(this.yt,n);return ox(e,t.userId,r).next((()=>{}))}))))}))))}Gs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Z(((n,i)=>{const s=new kE(n),o=function(e){return[0,NC(e)]}(s);r.push(t.get(o).next((n=>n?VE.resolve():(n=>t.put({targetId:0,path:NC(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>VE.waitFor(r)))}))}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:GC});const n=t.store("collectionParents"),r=new QO,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:NC(r)})}};return t.store("remoteDocuments").Z({X:!0},((e,t)=>{const n=new kE(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Z({X:!0},(([e,t,n],r)=>{const s=PC(t);return i(s.popLast())}))))}js(e){const t=e.store("targets");return t.Z(((e,n)=>{const r=vO(n),i=bO(this.yt,r);return t.put(i)}))}Ws(e,t){const n=t.store("remoteDocuments"),r=[];return n.Z(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(o=n,o.document?new CE(kE.fromString(o.document.name).popFirst(5)):o.noDocument?CE.fromSegments(o.noDocument.path):o.unknownDocument?CE.fromSegments(o.unknownDocument.path):tE()).path.toArray();var o;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>VE.waitFor(r)))}zs(e,t){const n=t.store("mutations"),r=Sx(this.yt),i=new $x(Hx.Bs,this.yt.ie);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:MS();yO(this.yt,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),VE.forEach(n,((e,n)=>{const s=new GI(n),o=CO.re(this.yt,s),a=i.getIndexManager(s),c=cx.re(s,this.yt,a,i.referenceDelegate);return new Dx(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new sO(t,YE.at),e).next()}))}))}}function Kx(e){e.createObjectStore("targetDocuments",{keyPath:zC}).createIndex("documentTargetsIndex",HC,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$C,{unique:!0}),e.createObjectStore("targetGlobal")}const Wx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zx{constructor(e,t,n,r,i,s,o,a,c,u,l=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Hs=i,this.window=s,this.document=o,this.Js=c,this.Ys=u,this.Xs=l,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=e=>Promise.resolve(),!Zx.C())throw new oE(sE.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ix(this,r),this.ii=t+"main",this.yt=new hO(a),this.ri=new qE(this.ii,this.Xs,new Gx(this.yt)),this.Cs=new px(this.referenceDelegate,this.yt),this.remoteDocumentCache=Sx(this.yt),this.Ns=new kO,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===u&&YI("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oE(sE.FAILED_PRECONDITION,Wx);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Cs.getHighestSequenceNumber(e)))})).then((e=>{this.Ss=new YE(e,this.Js)})).then((()=>{this.Ds=!0})).catch((e=>(this.ri&&this.ri.close(),Promise.reject(e))))}li(e){return this.si=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((async()=>{this.started&&await this.ui()})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Jx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))))}))})).next((()=>this.di(e))).next((t=>this.isPrimary&&!t?this._i(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(HE(e))return JI("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return JI("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable((()=>this.si(e))),this.isPrimary=e}))}fi(e){return Qx(e).get("owner").next((e=>VE.resolve(this.mi(e))))}gi(e){return Jx(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=oO(e,"clientMetadata");return t.W().next((e=>{const n=this.Ii(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return VE.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.oi)for(const t of e)this.oi.removeItem(this.Ti(t.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.ui().then((()=>this.yi())).then((()=>this.hi()))))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?VE.resolve(!0):Qx(e).get("owner").next((t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new oE(sE.FAILED_PRECONDITION,Wx);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jx(e).W().next((e=>void 0===this.Ii(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&JI("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new sO(e,YE.at);return this._i(t).next((()=>this.gi(t)))})),this.ri.close(),this.Pi()}Ii(e,t){return e.filter((e=>this.pi(e.updateTimeMs,t)&&!this.Ei(e.clientId)))}vi(){return this.runTransaction("getActiveClients","readonly",(e=>Jx(e).W().next((e=>this.Ii(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ds}getMutationQueue(e,t){return cx.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new YO(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return CO.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,n){JI("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(s=this.Xs)?iO:14===s?rO:13===s?nO:12===s?tO:11===s?eO:void tE();var s;let o;return this.ri.runTransaction(e,r,i,(r=>(o=new sO(r,this.Ss?this.Ss.next():YE.at),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.di(o))).next((t=>{if(!t)throw YI(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))),new oE(sE.FAILED_PRECONDITION,jE);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.Vi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Vi(e){return Qx(e).get("owner").next((e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new oE(sE.FAILED_PRECONDITION,Wx)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qx(e).put("owner",t)}static C(){return qE.C()}_i(e){const t=Qx(e);return t.get("owner").next((e=>this.mi(e)?(JI("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):VE.resolve()))}pi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(YI(`Detected an update time that is in the future: ${e} > ${n}`),!1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.ui())))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),_c()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return JI("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return YI("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Bv){YI("Failed to set zombie client id.",Bv)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Bv){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qx(e){return oO(e,"owner")}function Jx(e){return oO(e,"clientMetadata")}function Yx(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Xx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Si=n,this.Di=r}static Ci(e,t){let n=MS(),r=MS();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xx(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.ki(e,t).next((i=>i||this.Oi(e,t,r,n))).next((n=>n||this.Mi(e,t)))}ki(e,t){if(OT(t))return VE.resolve(null);let n=FT(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=PT(t,null,"F"),n=FT(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=MS(...r);return this.Ni.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Fi(t,r);return this.$i(t,s,i,n.readTime)?this.ki(e,PT(t,null,"F")):this.Bi(e,s,t,n)}))))})))))}Oi(e,t,n,r){return OT(t)||r.isEqual(IE.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((i=>{const s=this.Fi(t,i);return this.$i(t,s,n,r)?this.Mi(e,t):(ZI()<=iu.DEBUG&&JI("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),MT(t)),this.Bi(e,s,t,FE(r,-1)))}))}Fi(e,t){let n=new lT(BT(e));return t.forEach(((t,r)=>{UT(e,r)&&(n=n.add(r))})),n}$i(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mi(e,t){return ZI()<=iu.DEBUG&&JI("QueryEngine","Using full collection scan to execute query:",MT(t)),this.Ni.getDocumentsMatchingQuery(e,t,PE.min())}Bi(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t,n,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new aT(vE),this.Ui=new CS((e=>bT(e)),wT),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qi)))}}function nA(e,t,n,r){return new tA(e,t,n,r)}async function rA(e,t){const n=iE(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Qi(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=MS();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({ji:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function iA(e,t){const n=iE(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=VE.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);nE(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=MS();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function sA(e){const t=iE(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Cs.getLastRemoteSnapshotVersion(e)))}function oA(e,t){const n=iE(e),r=t.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.Cs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Cs.addMatchingKeys(e,s.addedDocuments,a))));let u=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?u=u.withResumeToken(ck.EMPTY_BYTE_STRING,IE.min()).withLastLimboFreeSnapshotVersion(IE.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(c,u,s)&&o.push(n.Cs.updateTargetData(e,u))}));let a=xS(),c=MS();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(aA(e,s,t.documentUpdates).next((e=>{a=e.Wi,c=e.zi}))),!r.isEqual(IE.min())){const t=n.Cs.getLastRemoteSnapshotVersion(e).next((t=>n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return VE.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.qi=i,e)))}function aA(e,t,n){let r=MS(),i=MS();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=xS();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(IE.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):JI("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Wi:r,zi:i}}))}function cA(e,t){const n=iE(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function uA(e,t){const n=iE(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Cs.getTargetData(e,t).next((i=>i?(r=i,VE.resolve(r)):n.Cs.allocateTargetId(e).next((i=>(r=new lO(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}async function lA(e,t,n){const r=iE(e),i=r.qi.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!HE(e))throw e;JI("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qi=r.qi.remove(t),r.Ui.delete(i.target)}function hA(e,t,n){const r=iE(e);let i=IE.min(),s=MS();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=iE(e),i=r.Ui.get(n);return void 0!==i?VE.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,FT(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Li.getDocumentsMatchingQuery(e,t,n?i:IE.min(),n?s:MS()))).next((e=>(pA(r,VT(t),e),{documents:e,Hi:s})))))}function dA(e,t){const n=iE(e),r=iE(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ne(e,t).next((e=>e?e.target:null))))}function fA(e,t){const n=iE(e),r=n.Ki.get(t)||IE.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Gi.getAllFromCollectionGroup(e,t,FE(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(pA(n,t,e),e)))}function pA(e,t,n){let r=e.Ki.get(t)||IE.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}async function mA(e,t,n,r){const i=iE(e);let s=MS(),o=xS();for(const u of n){const e=t.Ji(u.metadata.name);u.document&&(s=s.add(e));const n=t.Yi(u);n.setReadTime(t.Xi(u.metadata.readTime)),o=o.insert(e,n)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),c=await uA(i,function(e){return FT(CT(kE.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>aA(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Cs.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Cs.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi))).next((()=>t.Wi))))))}async function gA(e,t,n=MS()){const r=await uA(e,FT(wO(t.bundledQuery))),i=iE(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=rC(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ns.saveNamedQuery(e,t);const o=r.withResumeToken(ck.EMPTY_BYTE_STRING,s);return i.qi=i.qi.insert(o.targetId,o),i.Cs.updateTargetData(e,o).next((()=>i.Cs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Cs.addMatchingKeys(e,n,r.targetId))).next((()=>i.Ns.saveNamedQuery(e,t)))}))}function yA(e,t){return`firestore_clients_${e}_${t}`}function vA(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function bA(e,t){return`firestore_targets_${e}_${t}`}class wA{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Zi(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new oE(r.error.code,r.error.message))),s?new wA(e,t,r.state,i):(YI("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _A{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Zi(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new oE(n.error.code,n.error.message))),i?new _A(e,n.state,r):(YI("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class IA{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=VS();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=ok(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new IA(e,i):(YI("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class EA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new EA(t.clientId,t.onlineState):(YI("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kA{constructor(){this.activeTargetIds=VS()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TA{constructor(e,t,n,r,i){this.window=e,this.Hs=t,this.persistenceKey=n,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new aT(vE),this.started=!1,this.cr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ar=yA(this.persistenceKey,this.sr),this.hr=function(e){return`firestore_sequence_number_${e}`}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ur=this.ur.insert(this.sr,new kA),this.lr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.wr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.mr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const n of e){if(n===this.sr)continue;const e=this.getItem(yA(this.persistenceKey,n));if(e){const t=IA.Zi(n,e);t&&(this.ur=this.ur.insert(t.clientId,t))}}this.gr();const t=this.storage.getItem(this.wr);if(t){const e=this.yr(t);e&&this.pr(e)}for(const n of this.cr)this.rr(n);this.cr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,n){this.Tr(e,t,n),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(bA(this.persistenceKey,e));if(n){const r=_A.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bA(this.persistenceKey,e))}updateQueryState(e,t,n){this.Rr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Er(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return JI("SharedClientState","READ",e,t),t}setItem(e,t){JI("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){JI("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const t=e;if(t.storageArea===this.storage){if(JI("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ar)return void YI("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.lr.test(t.key)){if(null==t.newValue){const e=this.vr(t.key);return this.Vr(e,null)}{const e=this.Sr(t.key,t.newValue);if(e)return this.Vr(e.clientId,e)}}else if(this.dr.test(t.key)){if(null!==t.newValue){const e=this.Dr(t.key,t.newValue);if(e)return this.Cr(e)}}else if(this._r.test(t.key)){if(null!==t.newValue){const e=this.Nr(t.key,t.newValue);if(e)return this.kr(e)}}else if(t.key===this.wr){if(null!==t.newValue){const e=this.yr(t.newValue);if(e)return this.pr(e)}}else if(t.key===this.hr){const e=function(e){let t=YE.at;if(null!=e)try{const n=JSON.parse(e);nE("number"==typeof n),t=n}catch(e){YI("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==YE.at&&this.sequenceNumberHandler(e)}else if(t.key===this.mr){const e=this.Or(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Mr(e))))}}else this.cr.push(t)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,n){const r=new wA(this.currentUser,e,t,n),i=vA(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}Er(e){const t=vA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){const t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}Rr(e,t,n){const r=bA(this.persistenceKey,e),i=new _A(e,t,n);this.setItem(r,i.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const n=this.vr(e);return IA.Zi(n,t)}Dr(e,t){const n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return wA.Zi(new GI(i),r,t)}Nr(e,t){const n=this._r.exec(e),r=Number(n[1]);return _A.Zi(r,t)}yr(e){return EA.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);JI("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const n=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),i=this.Ir(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Br(s,o).then((()=>{this.ur=n}))}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=VS();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class SA{constructor(){this.Lr=new kA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,n){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new kA,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{Ur(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){JI("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){JI("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,n,r,i){const s=this.ho(e,t);JI("RestConnection","Sending: ",s,n);const o={};return this.lo(o,r,i),this.fo(e,s,o,n).then((e=>(JI("RestConnection","Received: ",e),e)),(t=>{throw XI("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}_o(e,t,n,r,i,s){return this.ao(e,t,n,r,i)}lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+KI,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}ho(e,t){const n=xA[e];return`${this.oo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,n,r){return new Promise(((i,s)=>{const o=new zI;o.setWithCredentials(!0),o.listenOnce(UI.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case MI.NO_ERROR:const t=o.getResponseJson();JI("Connection","XHR received:",JSON.stringify(t)),i(t);break;case MI.TIMEOUT:JI("Connection",'RPC "'+e+'" timed out'),s(new oE(sE.DEADLINE_EXCEEDED,"Request time out"));break;case MI.HTTP_ERROR:const n=o.getStatus();if(JI("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(sE).indexOf(t)>=0?t:sE.UNKNOWN}(t.status);s(new oE(e,t.message))}else s(new oE(sE.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new oE(sE.UNAVAILABLE,"Connection failed."));break;default:tE()}}finally{JI("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}wo(e,t,n){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=LI(),s=jI(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new qI({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const a=r.join("");JI("Connection","Creating WebChannel: "+a,o);const c=i.createWebChannel(a,o);let u=!1,l=!1;const h=new AA({Hr:e=>{l?JI("Connection","Not sending because WebChannel is closed:",e):(u||(JI("Connection","Opening WebChannel transport."),c.open(),u=!0),JI("Connection","WebChannel sending:",e),c.send(e))},Jr:()=>c.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(c,$I.EventType.OPEN,(()=>{l||JI("Connection","WebChannel transport opened.")})),d(c,$I.EventType.CLOSE,(()=>{l||(l=!0,JI("Connection","WebChannel transport closed"),h.io())})),d(c,$I.EventType.ERROR,(e=>{l||(l=!0,XI("Connection","WebChannel transport errored:",e),h.io(new oE(sE.UNAVAILABLE,"The operation could not be completed")))})),d(c,$I.EventType.MESSAGE,(e=>{var t;if(!l){const n=e.data[0];nE(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){JI("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=ES[e];if(void 0!==t)return SS(t)}(e),n=i.message;void 0===t&&(t=sE.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),l=!0,h.io(new oE(t,n)),c.close()}else JI("Connection","WebChannel received:",n),h.ro(n)}})),d(s,VI.STAT_EVENT,(e=>{e.stat===BI.PROXY?JI("Connection","Detected buffering proxy"):e.stat===BI.NOPROXY&&JI("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.so()}),0),h}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return"undefined"!=typeof window?window:null}function FA(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(e){return new XS(e,!0)}class PA{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Hs=e,this.timerId=t,this.mo=n,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-n);r>0&&JI("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,(()=>(this.Eo=Date.now(),e()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,t,n,r,i,s,o,a){this.Hs=e,this.vo=n,this.Vo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new PA(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(()=>this.$o())))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==e?this.xo.reset():t&&t.code===sE.RESOURCE_EXHAUSTED?(YI(t.toString()),YI("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):t&&t.code===sE.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.So===t&&this.Go(e,n)}),(t=>{e((()=>{const e=new oE(sE.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(e)}))}))}Go(e,t){const n=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((()=>{n((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((e=>{n((()=>this.Qo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Oo(){this.state=5,this.xo.Ro((async()=>{this.state=0,this.start()}))}Qo(e){return JI("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget((()=>this.So===e?t():(JI("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jA extends LA{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.yt=i}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=mC(this.yt,e),n=function(e){if(!("targetChange"in e))return IE.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?IE.min():t.readTime?rC(t.readTime):IE.min()}(e);return this.listener.Wo(t,n)}zo(e){const t={};t.database=lC(this.yt),t.addTarget=function(e,t){let n;const r=t.target;return n=_T(r)?{documents:bC(e,r)}:{query:wC(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tC(e,t.resumeToken):t.snapshotVersion.compareTo(IE.min())>0&&(n.readTime=eC(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);const n=IC(this.yt,e);n&&(t.labels=n),this.Bo(t)}Ho(e){const t={};t.database=lC(this.yt),t.removeTarget=e,this.Bo(t)}}class MA extends LA{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.yt=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(nE(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=vC(e.writeResults,e.commitTime),n=rC(e.commitTime);return this.listener.Zo(n,t)}return nE(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=lC(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>gC(this.yt,e)))};this.Bo(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.yt=r,this.nu=!1}su(){if(this.nu)throw new oE(sE.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.ao(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===sE.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new oE(sE.UNKNOWN,e.toString())}))}_o(e,t,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection._o(e,t,n,i,s,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===sE.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new oE(sE.UNKNOWN,e.toString())}))}terminate(){this.nu=!0}}class VA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(YI(t),this.ou=!1):JI("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.Ur((e=>{n.enqueueAndForget((async()=>{QA(this)&&(JI("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=iE(e);t._u.add(4),await $A(t),t.gu.set("Unknown"),t._u.delete(4),await qA(t)}(this))}))})),this.gu=new VA(n,r)}}async function qA(e){if(QA(e))for(const t of e.wu)await t(!0)}async function $A(e){for(const t of e.wu)await t(!1)}function zA(e,t){const n=iE(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),ZA(n)?WA(n):pR(n).ko()&&GA(n,t))}function HA(e,t){const n=iE(e),r=pR(n);n.du.delete(t),r.ko()&&KA(n,t),0===n.du.size&&(r.ko()?r.Fo():QA(n)&&n.gu.set("Unknown"))}function GA(e,t){e.yu.Ot(t.targetId),pR(e).zo(t)}function KA(e,t){e.yu.Ot(t),pR(e).Ho(t)}function WA(e){e.yu=new KS({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.du.get(t)||null}),pR(e).start(),e.gu.uu()}function ZA(e){return QA(e)&&!pR(e).No()&&e.du.size>0}function QA(e){return 0===iE(e)._u.size}function JA(e){e.yu=void 0}async function YA(e){e.du.forEach(((t,n)=>{GA(e,t)}))}async function XA(e,t){JA(e),ZA(e)?(e.gu.hu(t),WA(e)):e.gu.set("Unknown")}async function eR(e,t,n){if(e.gu.set("Online"),t instanceof HS&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.du.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.du.delete(r),e.yu.removeTarget(r))}(e,t)}catch(n){JI("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await tR(e,n)}else if(t instanceof $S?e.yu.Kt(t):t instanceof zS?e.yu.Jt(t):e.yu.jt(t),!n.isEqual(IE.min()))try{const t=await sA(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.yu.Zt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.du.get(t);if(!n)return;e.du.set(t,n.withResumeToken(ck.EMPTY_BYTE_STRING,n.snapshotVersion)),KA(e,t);const r=new lO(n.target,t,1,n.sequenceNumber);GA(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){JI("RemoteStore","Failed to raise snapshot:",t),await tR(e,t)}}async function tR(e,t,n){if(!HE(t))throw t;e._u.add(1),await $A(e),e.gu.set("Offline"),n||(n=()=>sA(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{JI("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await qA(e)}))}function nR(e,t){return t().catch((n=>tR(e,n,t)))}async function rR(e){const t=iE(e),n=mR(t);let r=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;iR(t);)try{const e=await cA(t.localStore,r);if(null===e){0===t.fu.length&&n.Fo();break}r=e.batchId,sR(t,e)}catch(e){await tR(t,e)}oR(t)&&aR(t)}function iR(e){return QA(e)&&e.fu.length<10}function sR(e,t){e.fu.push(t);const n=mR(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function oR(e){return QA(e)&&!mR(e).No()&&e.fu.length>0}function aR(e){mR(e).start()}async function cR(e){mR(e).eu()}async function uR(e){const t=mR(e);for(const n of e.fu)t.Xo(n.mutations)}async function lR(e,t,n){const r=e.fu.shift(),i=cO.from(r,t,n);await nR(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await rR(e)}async function hR(e,t){t&&mR(e).Yo&&await async function(e,t){if(n=t.code,TS(n)&&n!==sE.ABORTED){const n=e.fu.shift();mR(e).Mo(),await nR(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await rR(e)}var n}(e,t),oR(e)&&aR(e)}async function dR(e,t){const n=iE(e);n.asyncQueue.verifyOperationInProgress(),JI("RemoteStore","RemoteStore received new credentials");const r=QA(n);n._u.add(3),await $A(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n._u.delete(3),await qA(n)}async function fR(e,t){const n=iE(e);t?(n._u.delete(2),await qA(n)):t||(n._u.add(2),await $A(n),n.gu.set("Unknown"))}function pR(e){return e.pu||(e.pu=function(e,t,n){const r=iE(e);return r.su(),new jA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Yr:YA.bind(null,e),Zr:XA.bind(null,e),Wo:eR.bind(null,e)}),e.wu.push((async t=>{t?(e.pu.Mo(),ZA(e)?WA(e):e.gu.set("Unknown")):(await e.pu.stop(),JA(e))}))),e.pu}function mR(e){return e.Iu||(e.Iu=function(e,t,n){const r=iE(e);return r.su(),new MA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:cR.bind(null,e),Zr:hR.bind(null,e),tu:uR.bind(null,e),Zo:lR.bind(null,e)}),e.wu.push((async t=>{t?(e.Iu.Mo(),await rR(e)):(await e.Iu.stop(),e.fu.length>0&&(JI("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))}))),e.Iu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class gR{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new aE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new gR(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new oE(sE.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yR(e,t){if(YI("AsyncQueue",`${t}: ${e}`),HE(e))return new oE(sE.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.comparator=e?(t,n)=>e(t,n)||CE.comparator(t.key,n.key):(e,t)=>CE.comparator(e.key,t.key),this.keyedMap=RS(),this.sortedSet=new aT(this.comparator)}static emptySet(e){return new vR(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vR))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new vR;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.Tu=new aT(CE.comparator)}track(e){const t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):tE():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class wR{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new wR(e,t,vR.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&LT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.Au=void 0,this.listeners=[]}}class IR{constructor(){this.queries=new CS((e=>jT(e)),LT),this.onlineState="Unknown",this.Ru=new Set}}async function ER(e,t){const n=iE(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new _R),i)try{s.Au=await n.onListen(r)}catch(e){const n=yR(e,`Initialization of query '${MT(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.bu(n.onlineState),s.Au&&t.Pu(s.Au)&&CR(n)}async function kR(e,t){const n=iE(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function TR(e,t){const n=iE(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.Pu(i)&&(r=!0);t.Au=i}}r&&CR(n)}function SR(e,t,n){const r=iE(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function CR(e){e.Ru.forEach((e=>{e.next()}))}class OR{constructor(e,t,n){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new wR(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){if(e.docChanges.length>0)return!0;const t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=wR.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.yt=e}Ji(e){return aC(this.yt,e)}Yi(e){return e.metadata.exists?fC(this.yt,e.document,!1):gT.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return rC(e)}}class RR{constructor(e,t,n){this.Mu=e,this.localStore=t,this.yt=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=NR(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const n=kE.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,n=new AR(this.yt);for(const r of e)if(r.metadata.queries){const e=n.Ji(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||MS()).add(e);t.set(n,r)}}return t}async complete(){const e=await mA(this.localStore,new AR(this.yt),this.documents,this.Mu.id),t=this.$u(this.documents);for(const n of this.queries)await gA(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function NR(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.key=e}}class DR{constructor(e){this.key=e}}class PR{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=MS(),this.mutatedKeys=MS(),this.Gu=BT(e),this.Qu=new vR(this.Gu)}get ju(){return this.qu}Wu(e,t){const n=t?t.zu:new bR,r=t?t.Qu:this.Qu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),l=UT(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Hu(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Gu(l,a)>0||c&&this.Gu(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Qu:s,zu:n,$i:o,mutatedKeys:i}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const i=e.zu.Eu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tE()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||this.Gu(e.doc,t.doc))),this.Ju(n);const s=t?this.Yu():[],o=0===this.Ku.size&&this.current?1:0,a=o!==this.Uu;return this.Uu=o,0!==i.length||a?{snapshot:new wR(this.query,e.Qu,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new bR,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach((e=>this.qu=this.qu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qu=this.qu.delete(e))),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=MS(),this.Qu.forEach((e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))}));const t=[];return e.forEach((e=>{this.Ku.has(e)||t.push(new DR(e))})),this.Ku.forEach((n=>{e.has(n)||t.push(new FR(n))})),t}tc(e){this.qu=e.Hi,this.Ku=MS();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return wR.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class LR{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class jR{constructor(e){this.key=e,this.nc=!1}}class MR{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new CS((e=>jT(e)),LT),this.rc=new Map,this.oc=new Set,this.uc=new aT(CE.comparator),this.cc=new Map,this.ac=new jx,this.hc={},this.lc=new Map,this.fc=fx.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function UR(e,t){const n=pN(e);let r,i;const s=n.ic.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const e=await uA(n.localStore,FT(t));n.isPrimaryClient&&zA(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await VR(n,t,r,"current"===s,e.resumeToken)}return i}async function VR(e,t,n,r,i){e._c=(t,n,r)=>async function(e,t,n,r){let i=t.view.Wu(n);i.$i&&(i=await hA(e.localStore,t.query,!1).then((({documents:e})=>t.view.Wu(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return XR(e,t.targetId,o.Xu),o.snapshot}(e,t,n,r);const s=await hA(e.localStore,t,!0),o=new PR(t,s.Hi),a=o.Wu(s.documents),c=qS.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,c);XR(e,n,u.Xu);const l=new LR(t,n,o);return e.ic.set(t,l),e.rc.has(n)?e.rc.get(n).push(t):e.rc.set(n,[t]),u.snapshot}async function BR(e,t){const n=iE(e),r=n.ic.get(t),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter((e=>!LT(e,t)))),void n.ic.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await lA(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),HA(n.remoteStore,r.targetId),JR(n,r.targetId)})).catch(UE)):(JR(n,r.targetId),await lA(n.localStore,r.targetId,!0))}async function qR(e,t,n){const r=mN(e);try{const e=await function(e,t){const n=iE(e),r=_E.now(),i=t.reduce(((e,t)=>e.add(t.key)),MS());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=xS(),c=MS();return n.Gi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=fS(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new gS(e.key,t,mT(t.value.mapValue),aS.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:NS(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.hc[e.currentUser.toKey()];r||(r=new aT(vE)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(r,e.batchId,n),await nN(r,e.changes),await rR(r.remoteStore)}catch(e){const t=yR(e,"Failed to persist write");n.reject(t)}}async function $R(e,t){const n=iE(e);try{const e=await oA(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.cc.get(t);r&&(nE(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.nc=!0:e.modifiedDocuments.size>0?nE(r.nc):e.removedDocuments.size>0&&(nE(r.nc),r.nc=!1))})),await nN(n,e,t)}catch(e){await UE(e)}}function zR(e,t,n){const r=iE(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ic.forEach(((n,r)=>{const i=r.view.bu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=iE(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.bu(t)&&(r=!0)})),r&&CR(n)}(r.eventManager,t),e.length&&r.sc.Wo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function HR(e,t,n){const r=iE(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.cc.get(t),s=i&&i.key;if(s){let e=new aT(CE.comparator);e=e.insert(s,gT.newNoDocument(s,IE.min()));const n=MS().add(s),i=new BS(IE.min(),new Map,new lT(vE),e,n);await $R(r,i),r.uc=r.uc.remove(s),r.cc.delete(t),tN(r)}else await lA(r.localStore,t,!1).then((()=>JR(r,t,n))).catch(UE)}async function GR(e,t){const n=iE(e),r=t.batch.batchId;try{const e=await iA(n.localStore,t);QR(n,r,null),ZR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nN(n,e)}catch(e){await UE(e)}}async function KR(e,t,n){const r=iE(e);try{const e=await function(e,t){const n=iE(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(nE(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);QR(r,t,n),ZR(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nN(r,e)}catch(n){await UE(n)}}async function WR(e,t){const n=iE(e);QA(n.remoteStore)||JI("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=iE(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.lc.get(e)||[];r.push(t),n.lc.set(e,r)}catch(e){const n=yR(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}function ZR(e,t){(e.lc.get(t)||[]).forEach((e=>{e.resolve()})),e.lc.delete(t)}function QR(e,t,n){const r=iE(e);let i=r.hc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function JR(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.rc.get(t))e.ic.delete(r),n&&e.sc.wc(r,n);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((t=>{e.ac.containsKey(t)||YR(e,t)}))}function YR(e,t){e.oc.delete(t.path.canonicalString());const n=e.uc.get(t);null!==n&&(HA(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),tN(e))}function XR(e,t,n){for(const r of n)r instanceof FR?(e.ac.addReference(r.key,t),eN(e,r)):r instanceof DR?(JI("SyncEngine","Document no longer in limbo: "+r.key),e.ac.removeReference(r.key,t),e.ac.containsKey(r.key)||YR(e,r.key)):tE()}function eN(e,t){const n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(JI("SyncEngine","New document in limbo: "+n),e.oc.add(r),tN(e))}function tN(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){const t=e.oc.values().next().value;e.oc.delete(t);const n=new CE(kE.fromString(t)),r=e.fc.next();e.cc.set(r,new jR(n)),e.uc=e.uc.insert(n,r),zA(e.remoteStore,new lO(FT(CT(n.path)),r,2,YE.at))}}async function nN(e,t,n){const r=iE(e),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach(((e,a)=>{o.push(r._c(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Xx.Ci(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.sc.Wo(i),await async function(e,t){const n=iE(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>VE.forEach(t,(t=>VE.forEach(t.Si,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>VE.forEach(t.Di,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!HE(e))throw e;JI("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.qi.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.qi=n.qi.insert(e,i)}}}(r.localStore,s))}async function rN(e,t){const n=iE(e);if(!n.currentUser.isEqual(t)){JI("SyncEngine","User change. New user:",t.toKey());const e=await rA(n.localStore,t);n.currentUser=t,function(e,t){e.lc.forEach((e=>{e.forEach((e=>{e.reject(new oE(sE.CANCELLED,t))}))})),e.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await nN(n,e.ji)}}function iN(e,t){const n=iE(e),r=n.cc.get(t);if(r&&r.nc)return MS().add(r.key);{let e=MS();const r=n.rc.get(t);if(!r)return e;for(const t of r){const r=n.ic.get(t);e=e.unionWith(r.view.ju)}return e}}async function sN(e,t){const n=iE(e),r=await hA(n.localStore,t.query,!0),i=t.view.tc(r);return n.isPrimaryClient&&XR(n,t.targetId,i.Xu),i}async function oN(e,t){const n=iE(e);return fA(n.localStore,t).then((e=>nN(n,e)))}async function aN(e,t,n,r){const i=iE(e),s=await function(e,t){const n=iE(e),r=iE(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Tn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):VE.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await rR(i.remoteStore):"acknowledged"===n||"rejected"===n?(QR(i,t,r||null),ZR(i,t),function(e,t){iE(iE(e).mutationQueue).An(t)}(i.localStore,t)):tE(),await nN(i,s)):JI("SyncEngine","Cannot apply mutation batch with id: "+t)}async function cN(e,t){const n=iE(e);if(pN(n),mN(n),!0===t&&!0!==n.dc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await uN(n,e.toArray());n.dc=!0,await fR(n.remoteStore,!0);for(const r of t)zA(n.remoteStore,r)}else if(!1===t&&!1!==n.dc){const e=[];let t=Promise.resolve();n.rc.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(JR(n,i),lA(n.localStore,i,!0)))),HA(n.remoteStore,i)})),await t,await uN(n,e),function(e){const t=iE(e);t.cc.forEach(((e,n)=>{HA(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new aT(CE.comparator)}(n),n.dc=!1,await fR(n.remoteStore,!1)}}async function uN(e,t,n){const r=iE(e),i=[],s=[];for(const o of t){let e;const t=r.rc.get(o);if(t&&0!==t.length){e=await uA(r.localStore,FT(t[0]));for(const e of t){const t=r.ic.get(e),n=await sN(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await dA(r.localStore,o);e=await uA(r.localStore,t),await VR(r,lN(t),o,!1,e.resumeToken)}i.push(e)}return r.sc.Wo(s),i}function lN(e){return ST(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hN(e){const t=iE(e);return iE(iE(t.localStore).persistence).vi()}async function dN(e,t,n,r){const i=iE(e);if(i.dc)return void JI("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await fA(i.localStore,VT(s[0])),r=BS.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,ck.EMPTY_BYTE_STRING);await nN(i,e,r);break}case"rejected":await lA(i.localStore,t,!0),JR(i,t,r);break;default:tE()}}async function fN(e,t,n){const r=pN(e);if(r.dc){for(const e of t){if(r.rc.has(e)){JI("SyncEngine","Adding an already active target "+e);continue}const t=await dA(r.localStore,e),n=await uA(r.localStore,t);await VR(r,lN(t),n.targetId,!1,n.resumeToken),zA(r.remoteStore,n)}for(const e of n)r.rc.has(e)&&await lA(r.localStore,e,!1).then((()=>{HA(r.remoteStore,e),JR(r,e)})).catch(UE)}}function pN(e){const t=iE(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$R.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HR.bind(null,t),t.sc.Wo=TR.bind(null,t.eventManager),t.sc.wc=SR.bind(null,t.eventManager),t}function mN(e){const t=iE(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KR.bind(null,t),t}function gN(e,t,n){const r=iE(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=iE(e),r=rC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ns.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(NR(r));const i=new RR(r,e.localStore,t.yt);let s=await t.mc();for(;s;){const e=await i.Fu(s);e&&n._updateProgress(e),s=await t.mc()}const o=await i.complete();return await nN(e,o.Lu,void 0),await function(e,t){const n=iE(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ns.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.Bu)}catch(e){return XI("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}class yN{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=DA(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return nA(this.persistence,new eA,e.initialUser,this.yt)}yc(e){return new $x(Hx.Bs,this.yt)}gc(e){return new SA}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vN extends yN{constructor(e,t,n){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await mN(this.Ac.syncEngine),await rR(this.Ac.remoteStore),await this.persistence.li((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Ic(e){return nA(this.persistence,new eA,e.initialUser,this.yt)}Tc(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new wx(n,e.asyncQueue,t)}Ec(e,t){const n=new JE(t,this.persistence);return new QE(e.asyncQueue,n)}yc(e){const t=Yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sx.withCacheSize(this.cacheSizeBytes):sx.DEFAULT;return new Zx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,NA(),FA(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new SA}}class bN extends vN{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ac.syncEngine;this.sharedClientState instanceof TA&&(this.sharedClientState.syncEngine={Fr:aN.bind(null,t),$r:dN.bind(null,t),Br:fN.bind(null,t),vi:hN.bind(null,t),Mr:oN.bind(null,t)},await this.sharedClientState.start()),await this.persistence.li((async e=>{await cN(this.Ac.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}gc(e){const t=NA();if(!TA.C(t))throw new oE(sE.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new TA(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class wN{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>zR(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=rN.bind(null,this.syncEngine),await fR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new IR}createDatastore(e){const t=DA(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new RA(r));var r;return function(e,t,n,r){return new UA(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>zR(this.syncEngine,e,0),s=OA.C()?new OA:new CA,new BA(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new MR(e,t,n,r,i,s);return o&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=iE(e);JI("RemoteStore","RemoteStore shutting down."),t._u.add(5),await $A(t),t.mu.shutdown(),t.gu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(e,t,n){if(!n)throw new oE(sE.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function IN(e,t,n,r){if(!0===t&&!0===r)throw new oE(sE.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function EN(e){if(!CE.isDocumentKey(e))throw new oE(sE.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function kN(e){if(CE.isDocumentKey(e))throw new oE(sE.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function TN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":tE()}function SN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new oE(sE.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=TN(e);throw new oE(sE.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function CN(e,t){if(t<=0)throw new oE(sE.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new Map;class xN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new oE(sE.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new oE(sE.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,IN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oE(sE.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new oE(sE.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new uE;switch(e.type){case"gapi":const t=e.client;return new fE(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new oE(sE.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ON.get(e);t&&(JI("ComponentProvider","Removing Datastore"),ON.delete(e),t.terminate())}(this),Promise.resolve()}}function RN(e,t,n,r={}){var i;const s=(e=SN(e,AN))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&XI("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=GI.MOCK_USER;else{t=Fc(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new oE(sE.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new GI(s)}e._authCredentials=new lE(new cE(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new DN(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new NN(this.firestore,e,this._key)}}class FN{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new FN(this.firestore,e,this._query)}}class DN extends FN{constructor(e,t,n){super(e,t,CT(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new NN(this.firestore,null,new CE(e))}withConverter(e){return new DN(this.firestore,e,this._path)}}function PN(e,t,...n){if(e=Qc(e),_N("collection","path",t),e instanceof AN){const r=kE.fromString(t,...n);return kN(r),new DN(e,null,r)}{if(!(e instanceof NN||e instanceof DN))throw new oE(sE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(kE.fromString(t,...n));return kN(r),new DN(e.firestore,null,r)}}function LN(e,t){if(e=SN(e,AN),_N("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new oE(sE.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new FN(e,null,function(e){return new TT(kE.emptyPath(),e)}(t))}function jN(e,t,...n){if(e=Qc(e),1===arguments.length&&(t=yE.R()),_N("doc","path",t),e instanceof AN){const r=kE.fromString(t,...n);return EN(r),new NN(e,null,new CE(r))}{if(!(e instanceof NN||e instanceof DN))throw new oE(sE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(kE.fromString(t,...n));return EN(r),new NN(e.firestore,e instanceof DN?e.converter:null,new CE(r))}}function MN(e,t){return e=Qc(e),t=Qc(t),(e instanceof NN||e instanceof DN)&&(t instanceof NN||t instanceof DN)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function UN(e,t){return e=Qc(e),t=Qc(t),e instanceof FN&&t instanceof FN&&e.firestore===t.firestore&&LT(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function VN(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):YI("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new aE,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((e=>{e&&e.Ou()?this.metadata.resolve(e.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.ku)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(null===e)return null;const t=this.vc.decode(e),n=Number(t);isNaN(n)&&this.Dc(`length string (${t}) is not valid number`);const r=await this.Cc(n);return new xR(JSON.parse(r),e.length+n)}xc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Sc(){for(;this.xc()<0;)if(await this.Nc())break;if(0===this.buffer.length)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const t=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Nc(){const e=await this.Pc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $N{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new oE(sE.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=iE(e),r=lC(n.yt)+"/documents",i={documents:t.map((e=>oC(n.yt,e)))},s=await n._o("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach((e=>{const t=pC(n.yt,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());nE(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new wS(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=CE.fromPath(t);this.mutations.push(new _S(n,this.precondition(n)))})),await async function(e,t){const n=iE(e),r=lC(n.yt)+"/documents",i={writes:t.map((e=>gC(n.yt,e)))};await n.ao("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tE();t=IE.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new oE(sE.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(IE.min())?aS.exists(!1):aS.updateTime(t):aS.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(IE.min()))throw new oE(sE.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return aS.updateTime(t)}return aS.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.kc=n.maxAttempts,this.xo=new PA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro((async()=>{const e=new $N(this.datastore),t=this.Mc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Fc(e)}))))})).catch((e=>{this.Fc(e)}))}))}Mc(e){try{const t=this.updateFunction(e);return!ik(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Oc(),Promise.resolve())))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!TS(t)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=GI.UNAUTHENTICATED,this.clientId=yE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{JI("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(JI("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oE(sE.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new aE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=yR(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function GN(e,t){e.asyncQueue.verifyOperationInProgress(),JI("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await rA(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function KN(e,t){e.asyncQueue.verifyOperationInProgress();const n=await WN(e);JI("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>dR(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>dR(t.remoteStore,n))),e.onlineComponents=t}async function WN(e){return e.offlineComponents||(JI("FirestoreClient","Using default OfflineComponentProvider"),await GN(e,new yN)),e.offlineComponents}async function ZN(e){return e.onlineComponents||(JI("FirestoreClient","Using default OnlineComponentProvider"),await KN(e,new wN)),e.onlineComponents}function QN(e){return WN(e).then((e=>e.persistence))}function JN(e){return WN(e).then((e=>e.localStore))}function YN(e){return ZN(e).then((e=>e.remoteStore))}function XN(e){return ZN(e).then((e=>e.syncEngine))}function eF(e){return ZN(e).then((e=>e.datastore))}async function tF(e){const t=await ZN(e),n=t.eventManager;return n.onListen=UR.bind(null,t.syncEngine),n.onUnlisten=BR.bind(null,t.syncEngine),n}function nF(e){return e.asyncQueue.enqueue((async()=>{const t=await QN(e),n=await YN(e);return t.setNetworkEnabled(!0),function(e){const t=iE(e);return t._u.delete(0),qA(t)}(n)}))}function rF(e){return e.asyncQueue.enqueue((async()=>{const t=await QN(e),n=await YN(e);return t.setNetworkEnabled(!1),async function(e){const t=iE(e);t._u.add(0),await $A(t),t.gu.set("Offline")}(n)}))}function iF(e,t){const n=new aE;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=iE(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new oE(sE.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=yR(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await JN(e),t,n))),n.promise}function sF(e,t,n={}){const r=new aE;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new BN({next:s=>{t.enqueueAndForget((()=>kR(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new oE(sE.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new oE(sE.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new OR(CT(n.path),s,{includeMetadataChanges:!0,Nu:!0});return ER(e,o)}(await tF(e),e.asyncQueue,t,n,r))),r.promise}function oF(e,t){const n=new aE;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await hA(e,t,!0),i=new PR(t,r.Hi),s=i.Wu(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=yR(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await JN(e),t,n))),n.promise}function aF(e,t,n={}){const r=new aE;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new BN({next:n=>{t.enqueueAndForget((()=>kR(e,o))),n.fromCache&&"server"===r.source?i.reject(new oE(sE.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new OR(n,s,{includeMetadataChanges:!0,Nu:!0});return ER(e,o)}(await tF(e),e.asyncQueue,t,n,r))),r.promise}function cF(e,t){const n=new BN(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){iE(e).Ru.add(t),t.next()}(await tF(e),n))),()=>{n.bc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){iE(e).Ru.delete(t)}(await tF(e),n)))}}function uF(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new qN(e,t)}(function(e,t){if(e instanceof Uint8Array)return VN(e,t);if(e instanceof ArrayBuffer)return VN(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,DA(t));e.asyncQueue.enqueueAndForget((async()=>{gN(await XN(e),i,r)}))}function lF(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=iE(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ns.getNamedQuery(e,t)))}(await JN(e),t)))}class hF{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new PA(this,"async_queue_retry"),this.Wc=()=>{const e=FA();e&&JI("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const e=FA();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=FA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise((()=>{}));const t=new aE;return this.Hc((()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Lc.push(e),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(Bv){if(!HE(Bv))throw Bv;JI("AsyncQueue","Operation failed with retryable error: "+Bv)}this.Lc.length>0&&this.xo.Ro((()=>this.Jc()))}}Hc(e){const t=this.Bc.then((()=>(this.Gc=!0,e().catch((e=>{this.Kc=e,this.Gc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw YI("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Gc=!1,e))))));return this.Bc=t,t}enqueueAfterDelay(e,t,n){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=gR.createAndSchedule(this,e,t,n,(e=>this.Yc(e)));return this.Uc.push(r),r}zc(){this.Kc&&tE()}verifyOperationInProgress(){}async Xc(){let e;do{e=this.Bc,await e}while(e!==this.Bc)}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then((()=>{this.Uc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()}))}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function dF(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}class fF{constructor(){this._progressObserver={},this._taskCompletionResolver=new aE,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=-1;class mF extends AN{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new hF,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yF(this),this._firestoreClient.terminate()}}function gF(e){return e._firestoreClient||yF(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function yF(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new XE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new HN(e._authCredentials,e._appCheckCredentials,e._queue,r)}function vF(e,t){CF(e=SN(e,mF));const n=gF(e),r=e._freezeSettings(),i=new wN;return wF(n,i,new vN(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function bF(e){CF(e=SN(e,mF));const t=gF(e),n=e._freezeSettings(),r=new wN;return wF(t,r,new bN(r,n.cacheSizeBytes))}function wF(e,t,n){const r=new aE;return e.asyncQueue.enqueue((async()=>{try{await GN(e,n),await KN(e,t),r.resolve()}catch(e){const n=e;if(!function(e){return"FirebaseError"===e.name?e.code===sE.FAILED_PRECONDITION||e.code===sE.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(n))throw n;XI("Error enabling offline persistence. Falling back to persistence disabled: "+n),r.reject(n)}})).then((()=>r.promise))}function _F(e){if(e._initialized&&!e._terminated)throw new oE(sE.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new aE;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!qE.C())return Promise.resolve();const t=e+"main";await qE.delete(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Yx(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function IF(e){return function(e){const t=new aE;return e.asyncQueue.enqueueAndForget((async()=>WR(await XN(e),t))),t.promise}(gF(e=SN(e,mF)))}function EF(e){return nF(gF(e=SN(e,mF)))}function kF(e){return rF(gF(e=SN(e,mF)))}function TF(e,t){const n=gF(e=SN(e,mF)),r=new fF;return uF(n,e._databaseId,t,r),r}function SF(e,t){return lF(gF(e=SN(e,mF)),t).then((t=>t?new FN(e,null,t.query):null))}function CF(e){if(e._initialized||e._terminated)throw new oE(sE.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this._byteString=e}static fromBase64String(e){try{return new OF(ck.fromBase64String(e))}catch(e){throw new oE(sE.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new OF(ck.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new oE(sE.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new SE(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class AF{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oE(sE.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oE(sE.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vE(this._lat,e._lat)||vE(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=/^__.*__$/;class FF{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new gS(e,this.data,this.fieldMask,t,this.fieldTransforms):new mS(e,this.data,t,this.fieldTransforms)}}class DF{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new gS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PF(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tE()}}class LF{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.yt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.na(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new LF(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}ca(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return nD(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(PF(this.sa)&&NF.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class jF{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=n||DA(e)}da(e,t,n,r=!1){return new LF({sa:e,methodName:t,fa:n,path:SE.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function MF(e){const t=e._freezeSettings(),n=DA(e._databaseId);return new jF(e._databaseId,!!t.ignoreUndefinedProperties,n)}function UF(e,t,n,r,i,s={}){const o=e.da(s.merge||s.mergeFields?2:0,t,n,i);YF("Data must be an object, but it was:",o,r);const a=QF(r,o);let c,u;if(s.merge)c=new fT(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=XF(t,r,n);if(!o.contains(i))throw new oE(sE.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);rD(e,i)||e.push(i)}c=new fT(e),u=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=o.fieldTransforms;return new FF(new pT(a),c,u)}class VF extends AF{_toFieldTransform(e){if(2!==e.sa)throw 1===e.sa?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof VF}}function BF(e,t,n){return new LF({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class qF extends AF{_toFieldTransform(e){return new iS(e.path,new QT)}isEqual(e){return e instanceof qF}}class $F extends AF{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=BF(this,e,!0),n=this._a.map((e=>ZF(e,t))),r=new JT(n);return new iS(e.path,r)}isEqual(e){return this===e}}class zF extends AF{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=BF(this,e,!0),n=this._a.map((e=>ZF(e,t))),r=new XT(n);return new iS(e.path,r)}isEqual(e){return this===e}}class HF extends AF{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new tS(e.yt,HT(e.yt,this.wa));return new iS(e.path,t)}isEqual(e){return this===e}}function GF(e,t,n,r){const i=e.da(1,t,n);YF("Data must be an object, but it was:",i,r);const s=[],o=pT.empty();nk(r,((e,r)=>{const a=tD(t,e,n);r=Qc(r);const c=i.ca(a);if(r instanceof VF)s.push(a);else{const e=ZF(r,c);null!=e&&(s.push(a),o.set(a,e))}}));const a=new fT(s);return new DF(o,a,i.fieldTransforms)}function KF(e,t,n,r,i,s){const o=e.da(1,t,n),a=[XF(t,r,n)],c=[i];if(s.length%2!=0)throw new oE(sE.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(XF(t,s[d])),c.push(s[d+1]);const u=[],l=pT.empty();for(let d=a.length-1;d>=0;--d)if(!rD(u,a[d])){const e=a[d];let t=c[d];t=Qc(t);const n=o.ca(e);if(t instanceof VF)u.push(e);else{const r=ZF(t,n);null!=r&&(u.push(e),l.set(e,r))}}const h=new fT(u);return new DF(l,h,o.fieldTransforms)}function WF(e,t,n,r=!1){return ZF(n,e.da(r?4:3,t))}function ZF(e,t){if(JF(e=Qc(e)))return YF("Unsupported field value:",t,e),QF(e,t);if(e instanceof AF)return function(e,t){if(!PF(t.sa))throw t.ha(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ha(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ZF(i,t.aa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Qc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return HT(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=_E.fromDate(e);return{timestampValue:eC(t.yt,n)}}if(e instanceof _E){const n=new _E(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eC(t.yt,n)}}if(e instanceof RF)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof OF)return{bytesValue:tC(t.yt,e._byteString)};if(e instanceof NN){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ha(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:iC(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha(`Unsupported field value: ${TN(e)}`)}(e,t)}function QF(e,t){const n={};return rk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nk(e,((e,r)=>{const i=ZF(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function JF(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _E||e instanceof RF||e instanceof OF||e instanceof NN||e instanceof AF)}function YF(e,t,n){if(!JF(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=TN(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function XF(e,t,n){if((t=Qc(t))instanceof xF)return t._internalPath;if("string"==typeof t)return tD(e,t);throw nD("Field path arguments must be of type string or ",e,!1,void 0,n)}const eD=new RegExp("[~\\*/\\[\\]]");function tD(e,t,n){if(t.search(eD)>=0)throw nD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new xF(...t.split("."))._internalPath}catch(r){throw nD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function nD(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new oE(sE.INVALID_ARGUMENT,a+e+c)}function rD(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new NN(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sD extends iD{data(){return super.data()}}function oD(e,t){return"string"==typeof t?tD(e,t):t instanceof xF?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new oE(sE.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cD{}class uD extends cD{}function lD(e,t,...n){let r=[];t instanceof cD&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof fD)).length,n=e.filter((e=>e instanceof hD)).length;if(t>1||t>0&&n>0)throw new oE(sE.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r);for(const i of r)e=i._apply(e);return e}class hD extends uD{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new hD(e,t,n)}_apply(e){const t=this._parse(e);return OD(e._query,t),new FN(e.firestore,e.converter,DT(e._query,t))}_parse(e){const t=MF(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new oE(sE.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){CD(o,s);const t=[];for(const n of o)t.push(SD(r,e,n));a={arrayValue:{values:t}}}else a=SD(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||CD(o,s),a=WF(n,t,o,"in"===s||"not-in"===s);return Bk.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function dD(e,t,n){const r=t,i=oD("where",e);return hD._create(i,r,n)}class fD extends cD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fD(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:qk.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)OD(n,i),n=DT(n,i)}(e._query,t),new FN(e.firestore,e.converter,DT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pD extends uD{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pD(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new oE(sE.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new oE(sE.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new sT(t,n);return function(e,t){if(null===xT(e)){const n=AT(e);null!==n&&xD(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new FN(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new TT(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function mD(e,t="asc"){const n=t,r=oD("orderBy",e);return pD._create(r,n)}class gD extends uD{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new gD(e,t,n)}_apply(e){return new FN(e.firestore,e.converter,PT(e._query,this._limit,this._limitType))}}function yD(e){return CN("limit",e),gD._create("limit",e,"F")}function vD(e){return CN("limitToLast",e),gD._create("limitToLast",e,"L")}class bD extends uD{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new bD(e,t,n)}_apply(e){const t=TD(e,this.type,this._docOrFields,this._inclusive);return new FN(e.firestore,e.converter,function(e,t){return new TT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function wD(...e){return bD._create("startAt",e,!0)}function _D(...e){return bD._create("startAfter",e,!1)}class ID extends uD{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ID(e,t,n)}_apply(e){const t=TD(e,this.type,this._docOrFields,this._inclusive);return new FN(e.firestore,e.converter,function(e,t){return new TT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function ED(...e){return ID._create("endBefore",e,!1)}function kD(...e){return ID._create("endAt",e,!0)}function TD(e,t,n,r){if(n[0]=Qc(n[0]),n[0]instanceof iD)return function(e,t,n,r,i){if(!r)throw new oE(sE.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of NT(e))if(o.field.isKeyField())s.push(Tk(t,r.key));else{const e=r.data.field(o.field);if(fk(e))throw new oE(sE.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new oE(sE.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new jk(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=MF(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new oE(sE.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new oE(sE.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!RT(e)&&-1!==s.indexOf("/"))throw new oE(sE.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(kE.fromString(s));if(!CE.isDocumentKey(n))throw new oE(sE.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new CE(n);a.push(Tk(t,i))}else{const e=WF(n,r,s);a.push(e)}}return new jk(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function SD(e,t,n){if("string"==typeof(n=Qc(n))){if(""===n)throw new oE(sE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RT(t)&&-1!==n.indexOf("/"))throw new oE(sE.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(kE.fromString(n));if(!CE.isDocumentKey(r))throw new oE(sE.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tk(e,new CE(r))}if(n instanceof NN)return Tk(e,n._key);throw new oE(sE.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${TN(n)}.`)}function CD(e,t){if(!Array.isArray(e)||0===e.length)throw new oE(sE.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new oE(sE.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function OD(e,t){if(t.isInequality()){const n=AT(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new oE(sE.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=xT(e);null!==i&&xD(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new oE(sE.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new oE(sE.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function xD(e,t,n){if(!n.isEqual(t))throw new oE(sE.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class AD{convertValue(e,t="none"){switch(vk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tE()}}convertObject(e,t){const n={};return nk(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new RF(hk(e.latitude),hk(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=pk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mk(e));default:return null}}convertTimestamp(e){const t=lk(e);return new _E(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=kE.fromString(e);nE(RC(n));const r=new ek(n.get(1),n.get(3)),i=new CE(n.popFirst(5));return r.isEqual(t)||YI(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ND extends AD{constructor(e){super(),this.firestore=e}convertBytes(e){return new OF(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new NN(this.firestore,null,t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DD extends iD{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new PD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(oD("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class PD extends DD{data(e={}){return super.data(e)}}class LD{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new FD(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new PD(this._firestore,this._userDataWriter,n.key,n,new FD(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oE(sE.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new PD(e._firestore,e._userDataWriter,n.doc.key,n.doc,new FD(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new PD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:jD(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tE()}}function MD(e,t){return e instanceof DD&&t instanceof DD?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof LD&&t instanceof LD&&e._firestore===t._firestore&&UN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(e){e=SN(e,NN);const t=SN(e.firestore,mF);return sF(gF(t),e._key).then((n=>XD(t,e,n)))}class VD extends AD{constructor(e){super(),this.firestore=e}convertBytes(e){return new OF(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new NN(this.firestore,null,t)}}function BD(e){e=SN(e,NN);const t=SN(e.firestore,mF),n=gF(t),r=new VD(t);return iF(n,e._key).then((n=>new DD(t,r,e._key,n,new FD(null!==n&&n.hasLocalMutations,!0),e.converter)))}function qD(e){e=SN(e,NN);const t=SN(e.firestore,mF);return sF(gF(t),e._key,{source:"server"}).then((n=>XD(t,e,n)))}function $D(e){e=SN(e,FN);const t=SN(e.firestore,mF),n=gF(t),r=new VD(t);return aD(e._query),aF(n,e._query).then((n=>new LD(t,r,e,n)))}function zD(e){e=SN(e,FN);const t=SN(e.firestore,mF),n=gF(t),r=new VD(t);return oF(n,e._query).then((n=>new LD(t,r,e,n)))}function HD(e){e=SN(e,FN);const t=SN(e.firestore,mF),n=gF(t),r=new VD(t);return aF(n,e._query,{source:"server"}).then((n=>new LD(t,r,e,n)))}function GD(e,t,n){e=SN(e,NN);const r=SN(e.firestore,mF),i=RD(e.converter,t,n);return YD(r,[UF(MF(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,aS.none())])}function KD(e,t,n,...r){e=SN(e,NN);const i=SN(e.firestore,mF),s=MF(i);let o;return o="string"==typeof(t=Qc(t))||t instanceof xF?KF(s,"updateDoc",e._key,t,n,r):GF(s,"updateDoc",e._key,t),YD(i,[o.toMutation(e._key,aS.exists(!0))])}function WD(e){return YD(SN(e.firestore,mF),[new wS(e._key,aS.none())])}function ZD(e,t){const n=SN(e.firestore,mF),r=jN(e),i=RD(e.converter,t);return YD(n,[UF(MF(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,aS.exists(!1))]).then((()=>r))}function QD(e,...t){var n,r,i;e=Qc(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||dF(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(dF(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,u,l;if(e instanceof NN)u=SN(e.firestore,mF),l=CT(e._key.path),c={next:n=>{t[o]&&t[o](XD(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=SN(e,FN);u=SN(n.firestore,mF),l=n._query;const r=new VD(u);c={next:e=>{t[o]&&t[o](new LD(u,r,n,e))},error:t[o+1],complete:t[o+2]},aD(e._query)}return function(e,t,n,r){const i=new BN(r),s=new OR(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>ER(await tF(e),s))),()=>{i.bc(),e.asyncQueue.enqueueAndForget((async()=>kR(await tF(e),s)))}}(gF(u),l,a,c)}function JD(e,t){return cF(gF(e=SN(e,mF)),dF(t)?t:{next:t})}function YD(e,t){return function(e,t){const n=new aE;return e.asyncQueue.enqueueAndForget((async()=>qR(await XN(e),t,n))),n.promise}(gF(e),t)}function XD(e,t,n){const r=n.docs.get(t._key),i=new VD(e);return new DD(e,i,t._key,r,new FD(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const eP={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=MF(e)}set(e,t,n){this._verifyNotCommitted();const r=nP(e,this._firestore),i=RD(r.converter,t,n),s=UF(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,aS.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=nP(e,this._firestore);let s;return s="string"==typeof(t=Qc(t))||t instanceof xF?KF(this._dataReader,"WriteBatch.update",i._key,t,n,r):GF(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,aS.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nP(e,this._firestore);return this._mutations=this._mutations.concat(new wS(t._key,aS.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oE(sE.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nP(e,t){if((e=Qc(e)).firestore!==t)throw new oE(sE.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=MF(e)}get(e){const t=nP(e,this._firestore),n=new ND(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return tE();const r=e[0];if(r.isFoundDocument())return new iD(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new iD(this._firestore,n,t._key,null,t.converter);throw tE()}))}set(e,t,n){const r=nP(e,this._firestore),i=RD(r.converter,t,n),s=UF(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=nP(e,this._firestore);let s;return s="string"==typeof(t=Qc(t))||t instanceof xF?KF(this._dataReader,"Transaction.update",i._key,t,n,r):GF(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=nP(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nP(e,this._firestore),n=new VD(this._firestore);return super.get(e).then((e=>new DD(this._firestore,n,t._key,e._document,new FD(!1,!1),t.converter)))}}function iP(e,t,n){e=SN(e,mF);const r=Object.assign(Object.assign({},eP),n);return function(e){if(e.maxAttempts<1)throw new oE(sE.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new aE;return e.asyncQueue.enqueueAndForget((async()=>{const i=await eF(e);new zN(e.asyncQueue,i,n,t,r).run()})),r.promise}(gF(e),(n=>t(new rP(e,n))),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){return new VF("deleteField")}function oP(){return new qF("serverTimestamp")}function aP(...e){return new $F("arrayUnion",e)}function cP(...e){return new zF("arrayRemove",e)}function uP(e){return new HF("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e,t=!0){!function(e){KI=e}(kl),yl(new Jc("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new mF(new hE(e.getProvider("auth-internal")),new mE(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new oE(sE.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ek(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),xl(HI,"3.8.0",e),xl(HI,"3.8.0","esm2017")}();const lP="@firebase/firestore-compat",hP="0.3.0";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function dP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new oE("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){if("undefined"===typeof Uint8Array)throw new oE("unimplemented","Uint8Arrays are not available in this environment.")}function pP(){if(!ak())throw new oE("unimplemented","Blobs are unavailable in Firestore in this environment.")}class mP{constructor(e){this._delegate=e}static fromBase64String(e){return pP(),new mP(OF.fromBase64String(e))}static fromUint8Array(e){return fP(),new mP(OF.fromUint8Array(e))}toBase64(){return pP(),this._delegate.toBase64()}toUint8Array(){return fP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(e){return yP(e,["next","error","complete"])}function yP(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{enableIndexedDbPersistence(e,t){return vF(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return bF(e._delegate)}clearIndexedDbPersistence(e){return _F(e._delegate)}}class bP{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof ek||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||XI("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,n={}){RN(this._delegate,e,t,n)}enableNetwork(){return EF(this._delegate)}disableNetwork(){return kF(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,IN("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return IF(this._delegate)}onSnapshotsInSync(e){return JD(this._delegate,e)}get app(){if(!this._appCompat)throw new oE("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new DP(this,PN(this._delegate,e))}catch(t){throw SP(t,"collection()","Firestore.collection()")}}doc(e){try{return new TP(this,jN(this._delegate,e))}catch(t){throw SP(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new RP(this,LN(this._delegate,e))}catch(t){throw SP(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return iP(this._delegate,(t=>e(new IP(this,t))))}batch(){return gF(this._delegate),new EP(new tP(this._delegate,(e=>YD(this._delegate,e))))}loadBundle(e){return TF(this._delegate,e)}namedQuery(e){return SF(this._delegate,e).then((e=>e?new RP(this,e):null))}}class wP extends AD{constructor(e){super(),this.firestore=e}convertBytes(e){return new mP(new OF(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return TP.forKey(t,this.firestore,null)}}function _P(e){QI(e)}class IP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wP(e)}get(e){const t=PP(e);return this._delegate.get(t).then((e=>new xP(this._firestore,new DD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=PP(e);return n?(dP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=PP(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=PP(e);return this._delegate.delete(t),this}}class EP{constructor(e){this._delegate=e}set(e,t,n){const r=PP(e);return n?(dP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=PP(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=PP(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kP{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new PD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new AP(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=kP.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new kP(e,new wP(e),t),r.set(t,i)),i}}kP.INSTANCES=new WeakMap;class TP{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wP(e)}static forPath(e,t,n){if(e.length%2!==0)throw new oE("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new TP(t,new NN(t._delegate,n,new CE(e)))}static forKey(e,t,n){return new TP(t,new NN(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new DP(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new DP(this.firestore,PN(this._delegate,e))}catch(t){throw SP(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Qc(e),e instanceof NN&&MN(this._delegate,e)}set(e,t){t=dP("DocumentReference.set",t);try{return t?GD(this._delegate,e,t):GD(this._delegate,e)}catch(n){throw SP(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?KD(this._delegate,e):KD(this._delegate,e,t,...n)}catch(r){throw SP(r,"updateDoc()","DocumentReference.update()")}}delete(){return WD(this._delegate)}onSnapshot(...e){const t=CP(e),n=OP(e,(e=>new xP(this.firestore,new DD(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return QD(this._delegate,t,n)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?BD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?qD(this._delegate):UD(this._delegate),t.then((e=>new xP(this.firestore,new DD(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new TP(this.firestore,e?this._delegate.withConverter(kP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function SP(e,t,n){return e.message=e.message.replace(t,n),e}function CP(e){for(const t of e)if("object"===typeof t&&!gP(t))return t;return{}}function OP(e,t){var n,r;let i;return i=gP(e[0])?e[0]:gP(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class xP{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new TP(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return MD(this._delegate,e._delegate)}}class AP extends xP{data(e){const t=this._delegate.data(e);return rE(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class RP{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wP(e)}where(e,t,n){try{return new RP(this.firestore,lD(this._delegate,dD(e,t,n)))}catch(r){throw SP(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new RP(this.firestore,lD(this._delegate,mD(e,t)))}catch(n){throw SP(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new RP(this.firestore,lD(this._delegate,yD(e)))}catch(t){throw SP(t,"limit()","Query.limit()")}}limitToLast(e){try{return new RP(this.firestore,lD(this._delegate,vD(e)))}catch(t){throw SP(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new RP(this.firestore,lD(this._delegate,wD(...e)))}catch(t){throw SP(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new RP(this.firestore,lD(this._delegate,_D(...e)))}catch(t){throw SP(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new RP(this.firestore,lD(this._delegate,ED(...e)))}catch(t){throw SP(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new RP(this.firestore,lD(this._delegate,kD(...e)))}catch(t){throw SP(t,"endAt()","Query.endAt()")}}isEqual(e){return UN(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?zD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?HD(this._delegate):$D(this._delegate),t.then((e=>new FP(this.firestore,new LD(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=CP(e),n=OP(e,(e=>new FP(this.firestore,new LD(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return QD(this._delegate,t,n)}withConverter(e){return new RP(this.firestore,e?this._delegate.withConverter(kP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class NP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new AP(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new RP(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new AP(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new NP(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new AP(this._firestore,n))}))}isEqual(e){return MD(this._delegate,e._delegate)}}class DP extends RP{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new TP(this.firestore,e):null}doc(e){try{return new TP(this.firestore,void 0===e?jN(this._delegate):jN(this._delegate,e))}catch(t){throw SP(t,"doc()","CollectionReference.doc()")}}add(e){return ZD(this._delegate,e).then((e=>new TP(this.firestore,e)))}isEqual(e){return MN(this._delegate,e._delegate)}withConverter(e){return new DP(this.firestore,e?this._delegate.withConverter(kP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function PP(e){return SN(e,NN)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(...e){this._delegate=new xF(...e)}static documentId(){return new LP(SE.keyField().canonicalString())}isEqual(e){return e=Qc(e),e instanceof xF&&this._delegate._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this._delegate=e}static serverTimestamp(){const e=oP();return e._methodName="FieldValue.serverTimestamp",new jP(e)}static delete(){const e=sP();return e._methodName="FieldValue.delete",new jP(e)}static arrayUnion(...e){const t=aP(...e);return t._methodName="FieldValue.arrayUnion",new jP(t)}static arrayRemove(...e){const t=cP(...e);return t._methodName="FieldValue.arrayRemove",new jP(t)}static increment(e){const t=uP(e);return t._methodName="FieldValue.increment",new jP(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP={Firestore:bP,GeoPoint:RF,Timestamp:_E,Blob:mP,Transaction:IP,WriteBatch:EP,DocumentReference:TP,DocumentSnapshot:xP,Query:RP,QueryDocumentSnapshot:AP,QuerySnapshot:FP,CollectionReference:DP,FieldPath:LP,FieldValue:jP,setLogLevel:_P,CACHE_SIZE_UNLIMITED:pF};function UP(e,t){e.INTERNAL.registerComponent(new Jc("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},MP)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(e){UP(e,((e,t)=>new bP(e,t,new vP))),e.registerVersion(lP,hP)}VP(cy);var BP=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;0!==i--;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const qP="__googleMapsScriptId";var $P;(function(e){e[e["INITIALIZED"]=0]="INITIALIZED",e[e["LOADING"]=1]="LOADING",e[e["SUCCESS"]=2]="SUCCESS",e[e["FAILURE"]=3]="FAILURE"})($P||($P={}));class zP{constructor({apiKey:e,authReferrerPolicy:t,channel:n,client:r,id:i=qP,language:s,libraries:o=[],mapIds:a,nonce:c,region:u,retries:l=3,url:h="https://maps.googleapis.com/maps/api/js",version:d}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=n,this.client=r,this.id=i||qP,this.language=s,this.libraries=o,this.mapIds=a,this.nonce=c,this.region=u,this.retries=l,this.url=h,this.version=d,zP.instance){if(!BP(this.options,zP.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(zP.instance.options)}`);return zP.instance}zP.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?$P.FAILURE:this.done?$P.SUCCESS:this.loading?$P.LOADING:$P.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((n=>{n?t(n.error):e(window.google)}))}))}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}Function.define(Function.google.fire.base,"link",cy,{configurable:!0,enumerable:!0,writable:!0}),Function.define(Function.google.fire.base,"app",(function(e){return Tl(e)})),Function.define(Function.google.fire.base.app,"auth",(function(e){return Jg(e)})),Function.define(Function.google.fire.base.app.auth,"state",(function(e,t){return cp(e,(function(e){t.call(this,e)}))})),Function.define(Function.google.fire.base.app.auth,"email",(function(){})),Function.define(Function.google.fire.base.app.auth.email,"register",(function(e,t,n){return Mf(e,t,n)})),Function.define(Function.google.fire.base.app.auth.email,"login",(function(e,t,n){return Uf(e,t,n)})),Function.define(Function.google.fire.base.app.auth.email,"logout",(function(e){return signOut(e)})),Function.define(Function.google.map,"loader",(function(e){return new zP({apiKey:e})}));const HP={error:Error,module:Function.module,package:Function.package,define:Function.define,is:Object.is,un:Object.un,to:Object.to,to_bool:Object.to_bool,to_boolean:Object.to_boolean,object:Object,array:Array,string:String,char:String.char,math:Math,number:Number,regex:RegExp,function:Function,date:Date,time:{stamp:Date.stamp,sleep:Date.sleep,interval:Date.interval,zone:Date.Time.zone},url:URL,parse_url:URL.parse_url,http:Function.http,socket:Function.socket,serialize:Function.serialize,xml:Function.xml,json:Function.json,path:Function.path,file:Function.file,dir:Function.dir,util:Function.util,diagnostic:Function.diagnostic,promise:Function.promise,event:Function.event,emit:Function.emit,emitter:Function.emitter,cpu:Function.cpu,archive:Function.archive,compress:Function.compress,hash:Function.hash,network:Function.network,stream:Function.stream,data:Function.data,db:Function.db,sql:Function.sql,mongo:Function.mongo,store:Function.store,storage:Function.storage,session:Function.session,cookie:Function.cookie,dom:Function.dom,component:Function.component,element:Function.element,query:Function.query,attribute:Function.attribute,mobile:Function.mobile,audio:Function.audio,visitor:Function.visitor,scroll:Function.scroll,user:Function.user,email:Function.email,phone:Function.phone,system:Function.system,plugin:Function.plugin,web:Function.web,cross:Function.cross,geo:Function.geo,map:Function.map,context:Function.context,argument:Function.argument,option:Function.option,optional:Function.optional,setting:Function.setting,console:Function.console,debug:Function.debug,log:Function.log,echo:Function.echo,print:Function.print,validation:Function.validation,validate:Function.validate,app:Function.app,application:Function.application,type_of:Object.type_of,instance_of:Object.instance_of,process:Function.process,proc:Function.proc,exe:Function.exe,exec:Function.exec,zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,seo:Function.seo,bot:Function.bot,axios:Function.axios,google:Function.google};HP.route=Br.route,HP.router=Br.router,Br.library.io=null,Br.library.axios=HP.axios;const GP=HP,KP=function(){},WP={__:Br.reactive(),proto:Br.proto,var:Br.reactive(),ini:Br.reactive(),web:{site:Br.reactive(),socket:Br.reactive()},log:{},cache:{},part:[],partial:[],app:Br.reactive({router:{}}),application:Br.application,package:Br.reactive(),module:Br.reactive(),ready:Br.reactive(),properties:Br.properties,to:Br.to,reference:Br.reference,reactive:Br.reactive,react:Br.react,compute:Br.compute,watch:Br.watch,watching:Br.watching,inject:Br.inject,store:Br.store,model:Br.model,on:Br.on,emit:Br.emit,process:Br.process,request:Br.request,response:Br.response,respond:Br.respond,slot:Br.slot,layout:Br.layout,component:Br.component,element:Br.element,next:Br.next,directive:Br.directive,script:{}}},868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Gt});var r=n(808),i=n(252);function s(e,t,n,r,s,o){const a=(0,i.up)("img:sys"),c=(0,i.up)("dom");return e.image?((0,i.wg)(),(0,i.j4)(a,{key:0,slot:e.image},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3},8,["slot"])):e.layout?((0,i.wg)(),(0,i.j4)(c,{key:1,slot:e.layout},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3},8,["slot"])):e.component?((0,i.wg)(),(0,i.j4)(c,{key:2,slot:e.component},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3},8,["slot"])):e.element?((0,i.wg)(),(0,i.j4)(c,{key:3,slot:e.element},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3},8,["slot"])):((0,i.wg)(),(0,i.j4)(c,{key:4,slot:e.slot},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3},8,["slot"]))}const o=r.ZP.next({id:"vue:slot",attribute:["slot","layout","component","element","image"]});var a=n(744);const c=(0,a.Z)(o,[["render",s]]),u=c;function l(e,t,n,r,s,o){return(0,i.wg)(),(0,i.j4)((0,i.LL)(e.slot),null,{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3})}const h=r.ZP.next({id:"dom",attribute:["slot"]}),d=(0,a.Z)(h,[["render",l]]),f=d;function p(e,t,n,r,s,o){return(0,i.WI)(e.$slots,"default")}const m=r.ZP.next({id:"router:slot"}),g=(0,a.Z)(m,[["render",p]]),y=g;function v(e,t,n,r,s,o){const a=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(a,{slot:""})}const b=r.ZP.next({id:"router:view"}),w=(0,a.Z)(b,[["render",v]]),_=w,I={key:1};function E(e,t,n,r,s,o){const a=(0,i.up)("router-link");return e.url?((0,i.wg)(),(0,i.j4)(a,{key:0,to:e.url},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3},8,["to"])):((0,i.wg)(),(0,i.iD)("a",I,[(0,i.WI)(e.$slots,"default")]))}const k=r.ZP.next({id:"router:link",attribute:["url"],setup:function(e){var t=r.ZP.reference(r.ZP.url.convert(e.url));return{url:t}}}),T=(0,a.Z)(k,[["render",E]]),S=T,C={key:1};function O(e,t,n,r,s,o){const a=(0,i.up)("router-link");return e.url?((0,i.wg)(),(0,i.j4)(a,{key:0,to:e.url},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3},8,["to"])):((0,i.wg)(),(0,i.iD)("a",C,[(0,i.WI)(e.$slots,"default")]))}const x=r.ZP.next({id:"a:link",attribute:["url"],setup:function(e){var t=r.ZP.reference(r.ZP.url.convert(e.url));return{url:t}}}),A=(0,a.Z)(x,[["render",O]]),R=A;function N(e,t,n,r,s,o){const a=(0,i.up)("dom");return(0,i.wg)(),(0,i.j4)(a,null,{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3})}const F=r.ZP.next({layout:"slot"}),D=(0,a.Z)(F,[["render",N]]),P=D;r.ZP.next({component:"slot"});r.ZP.next({element:"slot"});var L=n(676);const j={key:0,src:L},M={key:1,viewBox:"0 0 128 128",width:"24",height:"24"},U=(0,i._)("path",{fill:"#42b883",d:"M78.8,10L64,35.4L49.2,10H0l64,110l64-110C128,10,78.8,10,78.8,10z"},null,-1),V=(0,i._)("path",{fill:"#35495e",d:"M78.8,10L64,35.4L49.2,10H25.6L64,76l38.4-66H78.8z"},null,-1),B=[U,V],q={key:2,height:"477",viewBox:"0 0 319 477",width:"319",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},$=(0,i.uE)('<linearGradient id="a"><stop offset="0" stop-color="#52ce63"></stop><stop offset="1" stop-color="#51a256"></stop></linearGradient><linearGradient id="b" x1="55.342075%" x2="42.816933%" xlink:href="#a" y1="0%" y2="42.862855%"></linearGradient><linearGradient id="c" x1="55.348642%" x2="42.808103%" xlink:href="#a" y1="0%" y2="42.862855%"></linearGradient><linearGradient id="d" x1="50%" x2="50%" y1="0%" y2="58.811243%"><stop offset="0" stop-color="#8ae99c"></stop><stop offset="1" stop-color="#52ce63"></stop></linearGradient><linearGradient id="e" x1="51.37763%" x2="44.584719%" y1="17.472551%" y2="100%"><stop offset="0" stop-color="#ffe56c"></stop><stop offset="1" stop-color="#ffc63a"></stop></linearGradient><g fill="none" fill-rule="evenodd" transform="translate(-34 -24)"><g transform="matrix(.99254615 .12186934 -.12186934 .99254615 33.922073 .976691)"><path d="m103.950535 258.274149c44.361599-4.360825 60.014503-40.391282 65.353094-94.699444s-30.93219-103.451001-46.020347-101.9678079c-15.088156 1.4831932-63.0385313 58.9051239-68.3771222 113.2132869-5.3385908 54.308162 4.6827754 87.814791 49.0443752 83.453965z" fill="url(#b)" transform="matrix(.70710678 -.70710678 .70710678 .70710678 -80.496332 125.892944)"></path><path d="m275.876752 258.273992c44.3616 4.360826 53.167133-29.265322 47.828542-83.573485-5.338591-54.308162-52.073133-111.6105744-67.16129-113.0937675-15.088156-1.4831931-52.57477 47.5401275-47.236179 101.8482895s22.207328 90.458137 66.568927 94.818963z" fill="url(#c)" transform="matrix(.70710678 .70710678 -.70710678 .70710678 191.403399 -141.861963)"></path><path d="m188.370027 216.876305c39.941834 0 50.95265-38.251987 50.95265-97.89874 0-59.6467532-37.367733-118.10125956-50.95265-118.10125956s-52.04735 58.45450636-52.04735 118.10125956c0 59.646753 12.105516 97.89874 52.04735 97.89874z" fill="url(#d)"></path></g><path d="m184.473473 501c83.118854 0 150.526527-24.145148 150.526527-133.645148s-67.407673-199.354852-150.526527-199.354852c-83.118855 0-150.473473 89.854852-150.473473 199.354852s67.354618 133.645148 150.473473 133.645148z" fill="url(#e)"></path><ellipse cx="260.5" cy="335" fill="#eaadcc" rx="21.5" ry="10"></ellipse><ellipse cx="102.5" cy="329" fill="#eaadcc" rx="21.5" ry="10" transform="matrix(.99254615 .12186934 -.12186934 .99254615 40.859033 -10.039292)"></ellipse><g transform="matrix(-.99939083 .0348995 .0348995 .99939083 269.284825 271.027667)"><path d="m73.1046985 58.2728794c6.7372416 4.9130333 14.3132632 6.6640587 22.7280649 5.2530761 8.4148016-1.4109825 14.5054466-5.2535769 18.2719346-11.527783" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6" transform="matrix(.9998477 .01745241 -.01745241 .9998477 1.026464 -1.624794)"></path><path d="m154.501124 3c-5.937545 0-11.312782 2.40629805-15.203644 6.29680621-3.89094 3.89058529-6.29748 9.26545449-6.29748 15.20263179 0 5.9376888 2.406488 11.3127422 6.297291 15.2034272 3.890886 3.8907673 9.266197 6.2971348 15.203833 6.2971348 5.937109 0 11.311896-2.4063889 15.202387-6.2972348 3.890299-3.8906535 6.296489-9.2656636 6.296489-15.2033272 0-5.9371521-2.406242-11.3119781-6.296677-15.20253181-3.890469-3.89058674-9.265181-6.29690619-15.202199-6.29690619z" fill="#000"></path><path d="m154 21c0-3.865549 3.135362-7 6.999413-7 3.866399 0 7.000587 3.134451 7.000587 7s-3.134188 7-7.000587 7c-3.864051-.0011735-6.999413-3.134451-6.999413-7z" fill="#fff"></path><path d="m24.5 13c-5.9375292 0-11.312426 2.406268-15.20299427 6.2967181-3.89069464 3.8905765-6.29700573 9.2654765-6.29700573 15.2027199 0 5.9377549 2.40625962 11.3128391 6.29681766 15.2035153 3.89059104 3.8907092 9.26556184 6.2970467 15.20318234 6.2970467 5.9371249 0 11.3122514-2.406419 15.2030371-6.2973229 3.8905441-3.8906623 6.2969629-9.2656416 6.2969629-15.2032391 0-5.937086-2.4064703-11.3118811-6.297151-15.2024437-3.890763-3.8906448-9.2658154-6.2969943-15.202849-6.2969943z" fill="#000"></path><g fill="#fff"><path d="m136 24.499438c0 10.2185232 8.282911 18.500562 18.501124 18.500562 10.217089 0 18.498876-8.2820388 18.498876-18.500562 0-10.2173992-8.281787-18.499438-18.498876-18.499438-10.218213 0-18.501124 8.2820388-18.501124 18.499438zm-6 0c0-13.5311954 10.96929-24.499438 24.501124-24.499438 13.530838 0 24.498876 10.9683711 24.498876 24.499438 0 13.5319607-10.967808 24.500562-24.498876 24.500562-13.532064 0-24.501124-10.9684728-24.501124-24.500562z" fill-rule="nonzero" stroke="#fff" stroke-width="3"></path><path d="m6 34.499438c0 10.2185232 8.2817873 18.500562 18.5 18.500562 10.2170889 0 18.5-8.2820388 18.5-18.500562 0-10.2173992-8.2829111-18.499438-18.5-18.499438-10.2182127 0-18.5 8.2820388-18.5 18.499438zm-6 0c0-13.531297 10.9682681-24.499438 24.5-24.499438 13.5309398 0 24.5 10.9684728 24.5 24.499438 0 13.5318591-10.96883 24.500562-24.5 24.500562-13.531962 0-24.5-10.9683711-24.5-24.500562z" fill-rule="nonzero" stroke="#fff" stroke-width="3"></path><path d="m24 31c0-3.865549 3.134451-7 7-7s7 3.134451 7 7-3.134451 7-7 7-7-3.134451-7-7z"></path></g></g><g stroke-linecap="round" stroke-width="11"><g stroke="#ecb732"><path d="m70.5 377.5 74 77"></path><path d="m134.5 386.5-47 50"></path></g><g stroke="#ecb732" transform="matrix(-1 0 0 1 298 377)"><path d="m.5.5 74 77"></path><path d="m64.5 9.5-47 50"></path></g><g stroke="#ffc73b" transform="matrix(0 1 -1 0 215 207)"><path d="m.5.5 49 49"></path><path d="m.5 10.5 49 49" transform="matrix(-1 0 0 1 50 0)"></path></g></g></g>',6),z=[$],H={key:3,width:"1102",height:"278",viewBox:"0 0 1102 278",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G=(0,i.uE)('<path d="M82.3229 28.6444C71.5367 15.8469 62.2485 2.84945 60.351 0.149971C60.1512 -0.0499903 59.8515 -0.0499903 59.6518 0.149971C57.7542 2.84945 48.4661 15.8469 37.6798 28.6444C-54.9019 146.721 52.2613 226.406 52.2613 226.406L53.1601 227.006C53.959 239.303 55.9565 257 55.9565 257H59.9514H63.9463C63.9463 257 65.9438 239.403 66.7428 227.006L67.6416 226.306C67.7414 226.406 174.905 146.721 82.3229 28.6444ZM59.9514 224.606C59.9514 224.606 55.1576 220.507 53.8592 218.408V218.207L59.6518 89.6326C59.6518 89.2326 60.2511 89.2326 60.2511 89.6326L66.0436 218.207V218.408C64.7453 220.507 59.9514 224.606 59.9514 224.606Z" fill="#001E2B"></path><path d="M260.501 198.369L215.845 89.3012L215.745 89H181.001V96.3314H186.608C188.31 96.3314 189.912 97.0344 191.114 98.2396C192.315 99.4447 192.916 101.052 192.916 102.759L191.915 212.53C191.915 215.944 189.112 218.756 185.707 218.857L180 218.957V226.188H213.843V218.957L210.338 218.857C206.934 218.756 204.13 215.944 204.13 212.53V109.086L252.792 226.188C253.492 227.895 255.094 229 256.897 229C258.699 229 260.301 227.895 261.002 226.188L308.562 111.697L309.263 212.53C309.263 216.045 306.459 218.857 302.955 218.957H299.35V226.188H339V218.957H333.593C330.189 218.957 327.385 216.045 327.285 212.63L326.985 102.859C326.985 99.3443 329.788 96.5322 333.193 96.4318L339 96.3314V89H305.157L260.501 198.369Z" fill="#001E2B"></path><path d="M571.869 217.046C570.764 215.94 570.162 214.431 570.162 212.62V158.696C570.162 148.435 567.151 140.386 561.127 134.652C555.205 128.917 546.973 126 536.734 126C522.378 126 511.035 131.835 503.104 143.304C503.004 143.505 502.703 143.606 502.402 143.606C502.1 143.606 501.9 143.404 501.9 143.103L498.185 128.716H491.961L476 137.871V142.901H480.116C482.023 142.901 483.629 143.404 484.734 144.411C485.838 145.417 486.44 146.926 486.44 149.038V212.519C486.44 214.33 485.838 215.839 484.734 216.946C483.629 218.052 482.124 218.656 480.317 218.656H476.301V226H513.042V218.656H509.027C507.22 218.656 505.714 218.052 504.61 216.946C503.506 215.839 502.903 214.33 502.903 212.519V170.467C502.903 165.135 504.108 159.803 506.317 154.571C508.625 149.441 512.038 145.115 516.556 141.795C521.073 138.475 526.494 136.865 532.718 136.865C539.745 136.865 545.066 139.078 548.378 143.505C551.691 147.932 553.398 153.666 553.398 160.507V212.419C553.398 214.229 552.795 215.738 551.691 216.845C550.587 217.952 549.081 218.555 547.274 218.555H543.259V225.899H580V218.555H575.985C574.479 218.757 573.073 218.153 571.869 217.046Z" fill="#001E2B"></path><path d="M907.546 97.2119C897.39 91.804 886.039 89 873.792 89H826V96.3106H830.68C832.472 96.3106 834.065 97.0117 835.658 98.614C837.152 100.116 837.948 101.819 837.948 103.621V211.379C837.948 213.181 837.152 214.884 835.658 216.386C834.165 217.888 832.472 218.689 830.68 218.689H826V226H873.792C886.039 226 897.39 223.196 907.546 217.788C917.701 212.38 925.966 204.368 931.94 194.154C937.914 183.939 941 171.621 941 157.6C941 143.58 937.914 131.362 931.94 121.047C925.866 110.632 917.701 102.72 907.546 97.2119ZM921.784 157.4C921.784 170.219 919.494 181.034 915.013 189.747C910.533 198.46 904.558 204.969 897.19 209.176C889.823 213.382 881.658 215.485 872.896 215.485H863.238C861.446 215.485 859.853 214.784 858.26 213.181C856.766 211.679 855.97 209.977 855.97 208.174V106.526C855.97 104.723 856.667 103.121 858.26 101.518C859.753 100.016 861.446 99.2149 863.238 99.2149H872.896C881.658 99.2149 889.823 101.318 897.19 105.524C904.558 109.73 910.533 116.24 915.013 124.952C919.494 133.765 921.784 144.681 921.784 157.4Z" fill="#001E2B"></path><path d="M1053.97 164.711C1049.55 159.603 1041.02 155.297 1030.99 152.993C1044.84 146.083 1051.96 136.369 1051.96 123.851C1051.96 117.041 1050.16 110.932 1046.54 105.724C1042.93 100.517 1037.81 96.3106 1031.29 93.4063C1024.76 90.5021 1017.13 89 1008.5 89H954.402V96.3106H958.718C960.524 96.3106 962.13 97.0117 963.736 98.614C965.242 100.116 966.045 101.819 966.045 103.621V211.379C966.045 213.181 965.242 214.884 963.736 216.386C962.231 217.888 960.524 218.689 958.718 218.689H954V226H1012.72C1021.65 226 1029.98 224.498 1037.51 221.493C1045.04 218.489 1051.06 214.083 1055.38 208.274C1059.79 202.466 1062 195.355 1062 187.143C1061.9 178.33 1059.29 170.819 1053.97 164.711ZM986.621 213.281C985.115 211.779 984.312 210.077 984.312 208.274V159.903H1012.22C1022.05 159.903 1029.58 162.407 1034.8 167.414C1040.02 172.422 1042.63 178.931 1042.63 186.943C1042.63 191.75 1041.42 196.457 1039.22 200.763C1036.91 205.17 1033.49 208.675 1028.88 211.379C1024.36 214.083 1018.74 215.485 1012.22 215.485H991.639C989.833 215.485 988.227 214.784 986.621 213.281ZM984.413 149.588V106.626C984.413 104.823 985.115 103.221 986.721 101.618C988.227 100.116 989.933 99.315 991.74 99.315H1004.99C1014.52 99.315 1021.55 101.719 1025.97 106.325C1030.38 111.032 1032.59 117.041 1032.59 124.452C1032.59 132.063 1030.48 138.172 1026.37 142.778C1022.25 147.285 1016.03 149.588 1007.8 149.588H984.413Z" fill="#001E2B"></path><path d="M431.999 132.388C424.329 128.196 415.763 126 406.5 126C397.237 126 388.571 128.096 381.001 132.388C373.331 136.579 367.255 142.667 362.773 150.352C358.291 158.037 356 167.02 356 177C356 186.98 358.291 195.963 362.773 203.648C367.255 211.333 373.331 217.421 381.001 221.613C388.671 225.804 397.237 228 406.5 228C415.763 228 424.429 225.904 431.999 221.613C439.669 217.421 445.745 211.333 450.227 203.648C454.709 195.963 457 186.98 457 177C457 167.02 454.709 158.037 450.227 150.352C445.745 142.667 439.669 136.579 431.999 132.388ZM439.37 177C439.37 189.276 436.382 199.256 430.405 206.442C424.529 213.628 416.461 217.321 406.5 217.321C396.54 217.321 388.471 213.628 382.595 206.442C376.618 199.256 373.63 189.276 373.63 177C373.63 164.724 376.618 154.744 382.595 147.558C388.471 140.372 396.54 136.679 406.5 136.679C416.461 136.679 424.529 140.372 430.405 147.558C436.382 154.744 439.37 164.724 439.37 177Z" fill="#001E2B"></path><path d="M784.999 132.388C777.329 128.196 768.763 126 759.5 126C750.237 126 741.571 128.096 734.001 132.388C726.331 136.579 720.255 142.667 715.773 150.352C711.291 158.037 709 167.02 709 177C709 186.98 711.291 195.963 715.773 203.648C720.255 211.333 726.331 217.421 734.001 221.613C741.671 225.804 750.237 228 759.5 228C768.763 228 777.429 225.904 784.999 221.613C792.669 217.421 798.745 211.333 803.227 203.648C807.709 195.963 810 186.98 810 177C810 167.02 807.709 158.037 803.227 150.352C798.745 142.667 792.569 136.579 784.999 132.388ZM792.37 177C792.37 189.276 789.381 199.256 783.405 206.442C777.528 213.628 769.46 217.321 759.5 217.321C749.539 217.321 741.471 213.628 735.595 206.442C729.618 199.256 726.63 189.276 726.63 177C726.63 164.624 729.618 154.744 735.595 147.558C741.471 140.372 749.539 136.679 759.5 136.679C769.46 136.679 777.528 140.372 783.405 147.558C789.282 154.744 792.37 164.724 792.37 177Z" fill="#001E2B"></path><path d="M642.64 126C634.614 126 627.292 127.704 620.671 131.113C614.05 134.522 608.834 139.135 605.122 145.05C601.411 150.865 599.505 157.383 599.505 164.301C599.505 170.517 600.909 176.232 603.818 181.346C606.627 186.259 610.439 190.369 615.254 193.778L600.909 213.23C599.103 215.636 598.903 218.844 600.207 221.451C601.611 224.158 604.219 225.763 607.229 225.763H611.342C607.329 228.47 604.119 231.678 601.912 235.488C599.304 239.799 598 244.311 598 248.923C598 257.546 601.812 264.665 609.335 269.979C616.759 275.293 627.191 278 640.332 278C649.461 278 658.188 276.496 666.113 273.588C674.138 270.681 680.658 266.369 685.473 260.755C690.389 255.14 692.897 248.322 692.897 240.501C692.897 232.28 689.887 226.464 682.865 220.85C676.847 216.137 667.417 213.631 655.68 213.631H615.555C615.455 213.631 615.354 213.53 615.354 213.53C615.354 213.53 615.254 213.33 615.354 213.23L625.787 199.193C628.596 200.496 631.204 201.298 633.511 201.799C635.918 202.301 638.627 202.501 641.636 202.501C650.063 202.501 657.687 200.797 664.307 197.388C670.928 193.979 676.245 189.367 680.057 183.451C683.868 177.636 685.774 171.119 685.774 164.201C685.774 156.781 682.163 143.245 672.332 136.327C672.332 136.227 672.433 136.227 672.433 136.227L694 138.633V128.707H659.492C654.075 127.003 648.458 126 642.64 126ZM654.677 188.765C650.865 190.77 646.752 191.873 642.64 191.873C635.919 191.873 630 189.467 624.984 184.755C619.969 180.042 617.461 173.124 617.461 164.301C617.461 155.478 619.969 148.559 624.984 143.847C630 139.135 635.919 136.728 642.64 136.728C646.853 136.728 650.865 137.731 654.677 139.836C658.489 141.842 661.599 144.95 664.107 149.061C666.514 153.172 667.818 158.285 667.818 164.301C667.818 170.417 666.614 175.53 664.107 179.541C661.699 183.652 658.489 186.76 654.677 188.765ZM627.492 225.662H654.677C662.201 225.662 667.016 227.166 670.226 230.375C673.436 233.583 675.041 237.894 675.041 242.908C675.041 250.227 672.132 256.243 666.314 260.755C660.495 265.267 652.671 267.573 643.041 267.573C634.614 267.573 627.592 265.668 622.476 262.058C617.36 258.449 614.752 252.934 614.752 245.916C614.752 241.504 615.956 237.393 618.364 233.784C620.771 230.174 623.68 227.567 627.492 225.662Z" fill="#001E2B"></path><path d="M1082.35 224.327C1080.37 223.244 1078.88 221.669 1077.69 219.799C1076.6 217.831 1076 215.764 1076 213.5C1076 211.236 1076.6 209.071 1077.69 207.201C1078.78 205.232 1080.37 203.756 1082.35 202.673C1084.34 201.591 1086.52 201 1089 201C1091.48 201 1093.66 201.591 1095.65 202.673C1097.63 203.756 1099.12 205.331 1100.31 207.201C1101.4 209.169 1102 211.236 1102 213.5C1102 215.764 1101.4 217.929 1100.31 219.799C1099.22 221.768 1097.63 223.244 1095.65 224.327C1093.66 225.409 1091.48 226 1089 226C1086.62 226 1084.34 225.508 1082.35 224.327ZM1094.56 222.949C1096.24 222.063 1097.44 220.685 1098.43 219.11C1099.32 217.437 1099.82 215.567 1099.82 213.5C1099.82 211.433 1099.32 209.563 1098.43 207.89C1097.53 206.217 1096.24 204.937 1094.56 204.051C1092.87 203.165 1091.08 202.673 1089 202.673C1086.92 202.673 1085.13 203.165 1083.44 204.051C1081.76 204.937 1080.56 206.315 1079.57 207.89C1078.68 209.563 1078.18 211.433 1078.18 213.5C1078.18 215.567 1078.68 217.437 1079.57 219.11C1080.47 220.783 1081.76 222.063 1083.44 222.949C1085.13 223.835 1086.92 224.327 1089 224.327C1091.08 224.327 1092.97 223.835 1094.56 222.949ZM1083.64 219.504V218.618L1083.84 218.52H1084.44C1084.63 218.52 1084.83 218.421 1084.93 218.323C1085.13 218.126 1085.13 218.028 1085.13 217.831V208.677C1085.13 208.48 1085.03 208.284 1084.93 208.185C1084.73 207.988 1084.63 207.988 1084.44 207.988H1083.84L1083.64 207.89V207.004L1083.84 206.906H1089C1090.49 206.906 1091.58 207.201 1092.47 207.89C1093.37 208.579 1093.76 209.465 1093.76 210.646C1093.76 211.532 1093.47 212.417 1092.77 213.008C1092.08 213.697 1091.28 214.091 1090.29 214.189L1091.48 214.583L1093.76 218.224C1093.96 218.52 1094.16 218.618 1094.46 218.618H1095.05L1095.15 218.717V219.602L1095.05 219.701H1091.98L1091.78 219.602L1088.6 214.287H1087.81V217.831C1087.81 218.028 1087.91 218.224 1088.01 218.323C1088.21 218.52 1088.31 218.52 1088.5 218.52H1089.1L1089.3 218.618V219.504L1089.1 219.602H1083.84L1083.64 219.504ZM1088.7 213.008C1089.5 213.008 1090.19 212.811 1090.59 212.319C1090.98 211.925 1091.28 211.236 1091.28 210.449C1091.28 209.661 1091.08 209.071 1090.69 208.579C1090.29 208.087 1089.69 207.89 1089 207.89H1088.6C1088.4 207.89 1088.21 207.988 1088.11 208.087C1087.91 208.283 1087.91 208.382 1087.91 208.579V213.008H1088.7Z" fill="#001E2B"></path>',9),K=[G];function W(e,t,n,r,s,o){return"node"===e.slot?((0,i.wg)(),(0,i.iD)("img",j)):"vue"===e.slot?((0,i.wg)(),(0,i.iD)("svg",M,B)):"pinia"===e.slot?((0,i.wg)(),(0,i.iD)("svg",q,z)):"mongo"===e.slot?((0,i.wg)(),(0,i.iD)("svg",H,K)):(0,i.kq)("",!0)}const Z=r.ZP.next({element:"img:sys",attribute:["slot"]}),Q=(0,a.Z)(Z,[["render",W]]),J=Q,Y={string:""};function X(e,t,n,r,s,o){return(0,i.wg)(),(0,i.iD)("span",Y,[(0,i.WI)(e.$slots,"default")])}const ee=r.ZP.next({element:"string"}),te=(0,a.Z)(ee,[["render",X]]),ne=te,re={icon:""};function ie(e,t,n,r,s,o){return(0,i.wg)(),(0,i.iD)("span",re,[(0,i.WI)(e.$slots,"default")])}const se=r.ZP.next({element:"icon"}),oe=(0,a.Z)(se,[["render",ie]]),ae=oe;var ce=n(577);function ue(e,t,n,r,s,o){return e.src?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,ce.C_)(e.type),element:"icon:material",icon:""},(0,ce.zw)(e.src),3)):((0,i.wg)(),(0,i.iD)("span",{key:1,class:(0,ce.C_)(e.type),element:"icon:material",icon:""},[(0,i.WI)(e.$slots,"default")],2))}const le=r.ZP.next({element:"icon:material",attribute:["src","type"],setup:function(e){var t=r.ZP.reference(e.src),n=r.ZP.reference(he[e.type]||e.type||"material-icon");return{src:t,type:n}}});var he={line:"material-icon-line",round:"material-icon-round",sharp:"material-icon-sharp",tone:"material-icon-tone"};const de=(0,a.Z)(le,[["render",ue]]),fe=de;function pe(e,t,n,r,s,o){return e.src?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,ce.C_)(e.type),element:"icon:symbol",icon:""},(0,ce.zw)(e.src),3)):((0,i.wg)(),(0,i.iD)("span",{key:1,class:(0,ce.C_)(e.type),element:"icon:symbol",icon:""},[(0,i.WI)(e.$slots,"default")],2))}const me=r.ZP.next({element:"icon:symbol",attribute:["src","type","weight"],setup:function(e){var t=r.ZP.reference(e.src),n=r.ZP.reference(ge[e.weight]||e.weight||ge["bold-medium"]),i=r.ZP.reference("material-symbol");return"line"===e.type?i.value="material-symbol-line":i.value="material-symbol",i.value=i.value.implode(n.value,"weight".concat("__")).value(),{src:t,type:i}}});var ge={"light-ultra":100,"light-medium":200,light:300,regular:400,"bold-light":500,"bold-medium":600,bold:700};const ye=(0,a.Z)(me,[["render",pe]]),ve=ye;var be=n(963);const we=["for","autocomplete","autocapitalize","autocorrect","spellcheck"],_e=["autocomplete","autocapitalize","autocorrect","spellcheck"];function Ie(e,t,n,r,s,o){return e.label?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,for:e.label,"onUpdate:modelValue":t[0]||(t[0]=t=>e.vue.model.data[e.model]=t),onFocus:t[1]||(t[1]=(...t)=>e.vue.form.focus&&e.vue.form.focus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.vue.form.blur&&e.vue.form.blur(...t)),autocomplete:e.property.complete,autocapitalize:e.property.capitalize,autocorrect:e.property.correct,spellcheck:e.property.spell,element:"form:input"},null,40,we)),[[be.nr,e.vue.model.data[e.model]]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,"onUpdate:modelValue":t[3]||(t[3]=t=>e.vue.model.data[e.model]=t),autocomplete:e.property.complete,autocapitalize:e.property.capitalize,autocorrect:e.property.correct,spellcheck:e.property.spell,element:"form:input"},null,8,_e)),[[be.nr,e.vue.model.data[e.model]]])}const Ee=r.ZP.next({element:"form:input",attribute:["for","model","complete","capitalize","correct","spell"],setup:function(e){var t=r.ZP.reference(e.for),n=r.ZP.reference(r.ZP.model.format(e.model)),i=r.ZP.reactive(r.ZP.form.attribute(e));return r.ZP.ini("watch:legacy")&&r.ZP.watch(e,(function(){t.value=e.for,n.value=r.ZP.model.format(e.model),r.ZP.react(i,r.ZP.form.attribute(e))})),{vue:r.ZP,label:t,model:n,property:i}}}),ke=(0,a.Z)(Ee,[["render",Ie]]),Te=ke,Se=["for","autocomplete","autocapitalize","autocorrect","spellcheck"],Ce=["autocomplete","autocapitalize","autocorrect","spellcheck"];function Oe(e,t,n,r,s,o){return e.label?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,for:e.label,"onUpdate:modelValue":t[0]||(t[0]=t=>e.vue.model.data[e.model]=t),onFocus:t[1]||(t[1]=(...t)=>e.vue.form.focus&&e.vue.form.focus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.vue.form.blur&&e.vue.form.blur(...t)),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,type:"text",element:"form:text"},null,40,Se)),[[be.nr,e.vue.model.data[e.model]]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,"onUpdate:modelValue":t[3]||(t[3]=t=>e.vue.model.data[e.model]=t),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,type:"text",element:"form:text"},null,8,Ce)),[[be.nr,e.vue.model.data[e.model]]])}const xe=r.ZP.next({element:"form:text",attribute:["for","model","complete","capitalize","correct","spell"],setup:function(e){var t=r.ZP.reference(e.for),n=r.ZP.reference(r.ZP.model.format(e.model)),i=r.ZP.reactive(r.ZP.form.attribute(e));return r.ZP.ini("watch:legacy")&&r.ZP.watch(e,(function(){t.value=e.for,n.value=r.ZP.model.format(e.model),r.ZP.react(i,r.ZP.form.attribute(e))})),{vue:r.ZP,label:t,model:n,attribute:i}}}),Ae=(0,a.Z)(xe,[["render",Oe]]),Re=Ae,Ne=["for","autocomplete","autocapitalize","autocorrect","spellcheck"],Fe=["autocomplete","autocapitalize","autocorrect","spellcheck"];function De(e,t,n,r,s,o){return e.label?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,for:e.label,"onUpdate:modelValue":t[0]||(t[0]=t=>e.vue.model.data[e.model]=t),onFocus:t[1]||(t[1]=(...t)=>e.vue.form.focus&&e.vue.form.focus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.vue.form.blur&&e.vue.form.blur(...t)),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,type:"password",element:"form:password"},null,40,Ne)),[[be.nr,e.vue.model.data[e.model]]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,"onUpdate:modelValue":t[3]||(t[3]=t=>e.vue.model.data[e.model]=t),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,type:"password",element:"form:password"},null,8,Fe)),[[be.nr,e.vue.model.data[e.model]]])}const Pe=r.ZP.next({element:"form:password",attribute:["for","model","complete","capitalize","correct","spell"],setup:function(e){var t=r.ZP.reference(e.for),n=r.ZP.reference(r.ZP.model.format(e.model)),i=r.ZP.reactive(r.ZP.form.attribute(e));return r.ZP.ini("watch:legacy")&&r.ZP.watch(e,(function(){t.value=e.for,n.value=r.ZP.model.format(e.model),r.ZP.react(i,r.ZP.form.attribute(e))})),{vue:r.ZP,label:t,model:n,attribute:i}}}),Le=(0,a.Z)(Pe,[["render",De]]),je=Le,Me=["for","autocomplete","autocapitalize","autocorrect","spellcheck"],Ue=["autocomplete","autocapitalize","autocorrect","spellcheck"];function Ve(e,t,n,r,s,o){return e.label?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,for:e.label,"onUpdate:modelValue":t[0]||(t[0]=t=>e.vue.model.data[e.model]=t),onFocus:t[1]||(t[1]=(...t)=>e.vue.form.focus&&e.vue.form.focus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.vue.form.blur&&e.vue.form.blur(...t)),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,type:"number",element:"form:number"},null,40,Me)),[[be.nr,e.vue.model.data[e.model]]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,"onUpdate:modelValue":t[3]||(t[3]=t=>e.vue.model.data[e.model]=t),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,type:"number",element:"form:number"},null,8,Ue)),[[be.nr,e.vue.model.data[e.model]]])}const Be=r.ZP.next({element:"form:number",attribute:["for","model","complete","capitalize","correct","spell"],setup:function(e){var t=r.ZP.reference(e.for),n=r.ZP.reference(r.ZP.model.format(e.model)),i=r.ZP.reactive(r.ZP.form.attribute(e));return r.ZP.ini("watch:legacy")&&r.ZP.watch(e,(function(){t.value=e.for,n.value=r.ZP.model.format(e.model),r.ZP.react(i,r.ZP.form.attribute(e))})),{vue:r.ZP,label:t,model:n,attribute:i}}}),qe=(0,a.Z)(Be,[["render",Ve]]),$e=qe,ze=["for","autocomplete","autocapitalize","autocorrect","spellcheck"],He=["autocomplete","autocapitalize","autocorrect","spellcheck"];function Ge(e,t,n,r,s,o){return e.label?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,for:e.label,"onUpdate:modelValue":t[0]||(t[0]=t=>e.vue.model.data[e.model]=t),onFocus:t[1]||(t[1]=(...t)=>e.vue.form.focus&&e.vue.form.focus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.vue.form.blur&&e.vue.form.blur(...t)),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,type:"date",element:"form:date"},null,40,ze)),[[be.nr,e.vue.model.data[e.model]]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,"onUpdate:modelValue":t[3]||(t[3]=t=>e.vue.model.data[e.model]=t),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,type:"date",element:"form:date"},null,8,He)),[[be.nr,e.vue.model.data[e.model]]])}const Ke=r.ZP.next({element:"form:date",attribute:["for","model","complete","capitalize","correct","spell"],setup:function(e){var t=r.ZP.reference(e.for),n=r.ZP.reference(r.ZP.model.format(e.model)),i=r.ZP.reactive(r.ZP.form.attribute(e));return r.ZP.ini("watch:legacy")&&r.ZP.watch(e,(function(){t.value=e.for,n.value=r.ZP.model.format(e.model),r.ZP.react(i,r.ZP.form.attribute(e))})),{vue:r.ZP,label:t,model:n,attribute:i}}}),We=(0,a.Z)(Ke,[["render",Ge]]),Ze=We,Qe=["for","autocomplete","autocapitalize","autocorrect","spellcheck"],Je=["autocomplete","autocapitalize","autocorrect","spellcheck"];function Ye(e,t,n,r,s,o){return e.label?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,for:e.label,"onUpdate:modelValue":t[0]||(t[0]=t=>e.vue.model.data[e.model]=t),onFocus:t[1]||(t[1]=(...t)=>e.vue.form.focus&&e.vue.form.focus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.vue.form.blur&&e.vue.form.blur(...t)),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,type:"email",element:"form:email"},null,40,Qe)),[[be.nr,e.vue.model.data[e.model]]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,"onUpdate:modelValue":t[3]||(t[3]=t=>e.vue.model.data[e.model]=t),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,type:"email",element:"form:email"},null,8,Je)),[[be.nr,e.vue.model.data[e.model]]])}const Xe=r.ZP.next({element:"form:email",attribute:["for","model","complete","capitalize","correct","spell"],setup:function(e){var t=r.ZP.reference(e.for),n=r.ZP.reference(r.ZP.model.format(e.model)),i=r.ZP.reactive(r.ZP.form.attribute(e));return r.ZP.ini("watch:legacy")&&r.ZP.watch(e,(function(){t.value=e.for,n.value=r.ZP.model.format(e.model),r.ZP.react(i,r.ZP.form.attribute(e))})),{vue:r.ZP,label:t,model:n,attribute:i}}}),et=(0,a.Z)(Xe,[["render",Ye]]),tt=et,nt=["for","model"],rt=["model"];function it(e,t,n,r,s,o){const a=(0,i.Q2)("file");return e.label?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,for:e.label,model:e.model,type:"file",element:"form:text"},null,8,nt)),[[a]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,model:e.model,type:"file",element:"form:file"},null,8,rt)),[[a]])}const st=r.ZP.next({element:"form:file",attribute:["for","model"],setup:function(e){var t=r.ZP.reference(e.for),n=r.ZP.reference(r.ZP.model.format(e.model)),i=r.ZP.reactive(r.ZP.form.attribute(e));return r.ZP.ini("watch:legacy")&&r.ZP.watch(e,(function(){t.value=e.for,n.value=r.ZP.model.format(e.model),r.ZP.react(i,r.ZP.form.attribute(e))})),{vue:r.ZP,label:t,model:n,attribute:i}}}),ot=(0,a.Z)(st,[["render",it]]),at=ot,ct=["for"];function ut(e,t,n,r,s,o){return e.label?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,for:e.label,"onUpdate:modelValue":t[0]||(t[0]=t=>e.vue.model.data[e.model]=t),onFocus:t[1]||(t[1]=(...t)=>e.vue.form.focus&&e.vue.form.focus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.vue.form.blur&&e.vue.form.blur(...t)),type:"checkbox",element:"form:check"},null,40,ct)),[[be.e8,e.vue.model.data[e.model]]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,"onUpdate:modelValue":t[3]||(t[3]=t=>e.vue.model.data[e.model]=t),type:"checkbox",element:"form:check"},null,512)),[[be.e8,e.vue.model.data[e.model]]])}const lt=r.ZP.next({element:"form:check",attribute:["for","model"],setup:function(e){var t=r.ZP.reference(e.for),n=r.ZP.reference(r.ZP.model.format(e.model));return r.ZP.ini("watch:legacy")&&r.ZP.watch(e,(function(){t.value=e.for,n.value=r.ZP.model.format(e.model)})),{vue:r.ZP,label:t,model:n}}}),ht=(0,a.Z)(lt,[["render",ut]]),dt=ht,ft=["for"];function pt(e,t,n,r,s,o){return e.label?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,for:e.label,"onUpdate:modelValue":t[0]||(t[0]=t=>e.vue.model.data[e.model]=t),onFocus:t[1]||(t[1]=(...t)=>e.vue.form.focus&&e.vue.form.focus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.vue.form.blur&&e.vue.form.blur(...t)),type:"radio",element:"form:bullet"},null,40,ft)),[[be.G2,e.vue.model.data[e.model]]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,"onUpdate:modelValue":t[3]||(t[3]=t=>e.vue.model.data[e.model]=t),type:"radio",element:"form:bullet"},null,512)),[[be.G2,e.vue.model.data[e.model]]])}const mt=r.ZP.next({element:"form:bullet",attribute:["for","model"],setup:function(e){var t=r.ZP.reference(e.for),n=r.ZP.reference(r.ZP.model.format(e.model));return r.ZP.ini("watch:legacy")&&r.ZP.watch(e,(function(){t.value=e.for,n.value=r.ZP.model.format(e.model)})),{vue:r.ZP,label:t,model:n}}}),gt=(0,a.Z)(mt,[["render",pt]]),yt=gt,vt=["for","autocomplete","autocapitalize","autocorrect","spellcheck"],bt=["autocomplete","autocapitalize","autocorrect","spellcheck"];function wt(e,t,n,r,s,o){return e.label?(0,i.wy)(((0,i.wg)(),(0,i.iD)("textarea",{key:0,for:e.label,"onUpdate:modelValue":t[0]||(t[0]=t=>e.vue.model.data[e.model]=t),onFocus:t[1]||(t[1]=(...t)=>e.vue.form.focus&&e.vue.form.focus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.vue.form.blur&&e.vue.form.blur(...t)),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,element:"form:text-area"},null,40,vt)),[[be.nr,e.vue.model.data[e.model]]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("textarea",{key:1,"onUpdate:modelValue":t[3]||(t[3]=t=>e.vue.model.data[e.model]=t),autocomplete:e.attribute.complete,autocapitalize:e.attribute.capitalize,autocorrect:e.attribute.correct,spellcheck:e.attribute.spell,element:"form:text-area"},null,8,bt)),[[be.nr,e.vue.model.data[e.model]]])}const _t=r.ZP.next({element:"form:text-area",attribute:["for","model","complete","capitalize","correct","spell"],setup:function(e){var t=r.ZP.reference(e.for),n=r.ZP.reference(r.ZP.model.format(e.model)),i=r.ZP.reactive(r.ZP.form.attribute(e));return r.ZP.ini("watch:legacy")&&r.ZP.watch(e,(function(){t.value=e.for,n.value=r.ZP.model.format(e.model),r.ZP.react(i,r.ZP.form.attribute(e))})),{vue:r.ZP,label:t,model:n,attribute:i}}}),It=(0,a.Z)(_t,[["render",wt]]),Et=It;function kt(e,t,n,r,s,o){const a=(0,i.up)("text:box");return(0,i.wg)(),(0,i.j4)(a,{element:"date:time"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,ce.zw)(e.convert(e.format,e.stamp,e.offset)),1)])),_:1})}const Tt=r.ZP.next({element:"date:time",attribute:["format","stamp","offset"],setup:function(e){var t=r.ZP.reference(e.format),n=r.ZP.reference(r.Dl.to.number(e.stamp)),i=r.ZP.reference(e.offset);return{format:t,stamp:n,offset:i}},method:{convert(...e){return r.ZP.date.format(...e)}}}),St=(0,a.Z)(Tt,[["render",kt]]),Ct=St,Ot={class:"flex"};function xt(e,t,n,r,s,o){return(0,i.wg)(),(0,i.iD)("div",Ot)}const At=r.ZP.next({element:"flex"}),Rt=(0,a.Z)(At,[["render",xt]]),Nt=Rt,Ft={class:"extend"};function Dt(e,t,n,r,s,o){return(0,i.wg)(),(0,i.iD)("div",Ft)}const Pt=r.ZP.next({element:"flex:extend"}),Lt=(0,a.Z)(Pt,[["render",Dt]]),jt=Lt,Mt={vue:u,dom:f,"router:slot":y,"router:view":_,"router:link":S,"a:link":R,layout:P,"img:sys":J,string:ne,icon:ae,"icon:material":fe,"icon:symbol":ve,"form:input":Te,"form:text":Re,"input:text":Re,"form:password":je,"input:password":je,"form:number":$e,"input:number":$e,"form:date":Ze,"input:date":Ze,"form:email":tt,"input:email":tt,"form:file":at,"input:file":at,"form:check":dt,"input:check":dt,"form:bullet":yt,"input:bullet":yt,"form:text-area":Et,"text:area":Et,"date:time":Ct,flex:Nt,"flex:extend":jt,extend:jt,"div:extend":jt,"div:grow":jt};let{define:Ut}=r.Dl,{zero:Vt,one:Bt}=r.Dl;const qt={file:function(e,t,n){var i=new r.Dl.dom.doc(e);e.onchange=function(){r.ZP.model(i.attribute("model"),e["file".concat("s")][Vt])}},"flex-scroll":function(e,t,n){var i=new r.Dl.dom.doc(e),s={current:i.attribute("style")||{}};"height"in s.current===!1&&i.attribute("style",r.Dl.object.assign(s.current,{"overflow-y":"scroll",height:i.client.height+"px !important"}))}};let{define:$t}=r.Dl,{zero:zt,one:Ht}=r.Dl;const Gt={install:function(e,t){for(var n in e.directive("component",(function(e,t){})),e.directive("element",(function(e,t){})),qt)e.directive(n,qt[n]);for(var n in Mt)e.component(n,Mt[n])}}}}]);
//# sourceMappingURL=chunk-vendors.a33d5673.js.map